(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();var Zy={exports:{}},al={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ev;function VT(){if(ev)return al;ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:i,type:s,key:d,ref:l!==void 0?l:null,props:c}}return al.Fragment=e,al.jsx=n,al.jsxs=n,al}var tv;function zT(){return tv||(tv=1,Zy.exports=VT()),Zy.exports}var Qe=zT(),nv={exports:{}},Se={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rv;function $T(){if(rv)return Se;rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function V(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,ne={};function Z(A,Q,te){this.props=A,this.context=Q,this.refs=ne,this.updater=te||W}Z.prototype.isReactComponent={},Z.prototype.setState=function(A,Q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Q,"setState")},Z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Te(){}Te.prototype=Z.prototype;function be(A,Q,te){this.props=A,this.context=Q,this.refs=ne,this.updater=te||W}var we=be.prototype=new Te;we.constructor=be,Y(we,Z.prototype),we.isPureReactComponent=!0;var Le=Array.isArray,ge={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function x(A,Q,te,X,ue,_e){return te=_e.ref,{$$typeof:i,type:A,key:Q,ref:te!==void 0?te:null,props:_e}}function k(A,Q){return x(A.type,Q,void 0,void 0,void 0,A.props)}function I(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function P(A){var Q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(te){return Q[te]})}var O=/\/+/g;function L(A,Q){return typeof A=="object"&&A!==null&&A.key!=null?P(""+A.key):Q.toString(36)}function C(){}function xt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(C,C):(A.status="pending",A.then(function(Q){A.status==="pending"&&(A.status="fulfilled",A.value=Q)},function(Q){A.status==="pending"&&(A.status="rejected",A.reason=Q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function st(A,Q,te,X,ue){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case i:case e:me=!0;break;case S:return me=A._init,st(me(A._payload),Q,te,X,ue)}}if(me)return ue=ue(A),me=X===""?"."+L(A,0):X,Le(ue)?(te="",me!=null&&(te=me.replace(O,"$&/")+"/"),st(ue,Q,te,"",function(Vn){return Vn})):ue!=null&&(I(ue)&&(ue=k(ue,te+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(O,"$&/")+"/")+me)),Q.push(ue)),1;me=0;var Et=X===""?".":X+":";if(Le(A))for(var Xe=0;Xe<A.length;Xe++)X=A[Xe],_e=Et+L(X,Xe),me+=st(X,Q,te,_e,ue);else if(Xe=V(A),typeof Xe=="function")for(A=Xe.call(A),Xe=0;!(X=A.next()).done;)X=X.value,_e=Et+L(X,Xe++),me+=st(X,Q,te,_e,ue);else if(_e==="object"){if(typeof A.then=="function")return st(xt(A),Q,te,X,ue);throw Q=String(A),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(A,Q,te){if(A==null)return A;var X=[],ue=0;return st(A,X,"","",function(_e){return Q.call(te,_e,ue++)}),X}function ee(A){if(A._status===-1){var Q=A._result;Q=Q(),Q.then(function(te){(A._status===0||A._status===-1)&&(A._status=1,A._result=te)},function(te){(A._status===0||A._status===-1)&&(A._status=2,A._result=te)}),A._status===-1&&(A._status=0,A._result=Q)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ue(){}return Se.Children={map:$,forEach:function(A,Q,te){$(A,function(){Q.apply(this,arguments)},te)},count:function(A){var Q=0;return $(A,function(){Q++}),Q},toArray:function(A){return $(A,function(Q){return Q})||[]},only:function(A){if(!I(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Se.Component=Z,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=be,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,Se.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ge.H.useMemoCache(A)}},Se.cache=function(A){return function(){return A.apply(null,arguments)}},Se.cloneElement=function(A,Q,te){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=Y({},A.props),ue=A.key,_e=void 0;if(Q!=null)for(me in Q.ref!==void 0&&(_e=void 0),Q.key!==void 0&&(ue=""+Q.key),Q)!xe.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(X[me]=Q[me]);var me=arguments.length-2;if(me===1)X.children=te;else if(1<me){for(var Et=Array(me),Xe=0;Xe<me;Xe++)Et[Xe]=arguments[Xe+2];X.children=Et}return x(A.type,ue,void 0,void 0,_e,X)},Se.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Se.createElement=function(A,Q,te){var X,ue={},_e=null;if(Q!=null)for(X in Q.key!==void 0&&(_e=""+Q.key),Q)xe.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ue[X]=Q[X]);var me=arguments.length-2;if(me===1)ue.children=te;else if(1<me){for(var Et=Array(me),Xe=0;Xe<me;Xe++)Et[Xe]=arguments[Xe+2];ue.children=Et}if(A&&A.defaultProps)for(X in me=A.defaultProps,me)ue[X]===void 0&&(ue[X]=me[X]);return x(A,_e,void 0,void 0,null,ue)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(A){return{$$typeof:g,render:A}},Se.isValidElement=I,Se.lazy=function(A){return{$$typeof:S,_payload:{_status:-1,_result:A},_init:ee}},Se.memo=function(A,Q){return{$$typeof:b,type:A,compare:Q===void 0?null:Q}},Se.startTransition=function(A){var Q=ge.T,te={};ge.T=te;try{var X=A(),ue=ge.S;ue!==null&&ue(te,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ue,oe)}catch(_e){oe(_e)}finally{ge.T=Q}},Se.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},Se.use=function(A){return ge.H.use(A)},Se.useActionState=function(A,Q,te){return ge.H.useActionState(A,Q,te)},Se.useCallback=function(A,Q){return ge.H.useCallback(A,Q)},Se.useContext=function(A){return ge.H.useContext(A)},Se.useDebugValue=function(){},Se.useDeferredValue=function(A,Q){return ge.H.useDeferredValue(A,Q)},Se.useEffect=function(A,Q,te){var X=ge.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,Q)},Se.useId=function(){return ge.H.useId()},Se.useImperativeHandle=function(A,Q,te){return ge.H.useImperativeHandle(A,Q,te)},Se.useInsertionEffect=function(A,Q){return ge.H.useInsertionEffect(A,Q)},Se.useLayoutEffect=function(A,Q){return ge.H.useLayoutEffect(A,Q)},Se.useMemo=function(A,Q){return ge.H.useMemo(A,Q)},Se.useOptimistic=function(A,Q){return ge.H.useOptimistic(A,Q)},Se.useReducer=function(A,Q,te){return ge.H.useReducer(A,Q,te)},Se.useRef=function(A){return ge.H.useRef(A)},Se.useState=function(A){return ge.H.useState(A)},Se.useSyncExternalStore=function(A,Q,te){return ge.H.useSyncExternalStore(A,Q,te)},Se.useTransition=function(){return ge.H.useTransition()},Se.version="19.1.0",Se}var sv;function Kd(){return sv||(sv=1,nv.exports=$T()),nv.exports}var Ln=Kd(),ld={exports:{}},ol={},iv={exports:{}},av={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ov;function qT(){return ov||(ov=1,function(i){function e($,ee){var oe=$.length;$.push(ee);e:for(;0<oe;){var Ue=oe-1>>>1,A=$[Ue];if(0<l(A,ee))$[Ue]=ee,$[oe]=A,oe=Ue;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ee=$[0],oe=$.pop();if(oe!==ee){$[0]=oe;e:for(var Ue=0,A=$.length,Q=A>>>1;Ue<Q;){var te=2*(Ue+1)-1,X=$[te],ue=te+1,_e=$[ue];if(0>l(X,oe))ue<A&&0>l(_e,X)?($[Ue]=_e,$[ue]=oe,Ue=ue):($[Ue]=X,$[te]=oe,Ue=te);else if(ue<A&&0>l(_e,oe))$[Ue]=_e,$[ue]=oe,Ue=ue;else break e}}return ee}function l($,ee){var oe=$.sortIndex-ee.sortIndex;return oe!==0?oe:$.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var m=[],b=[],S=1,E=null,V=3,W=!1,Y=!1,ne=!1,Z=!1,Te=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function Le($){for(var ee=n(b);ee!==null;){if(ee.callback===null)s(b);else if(ee.startTime<=$)s(b),ee.sortIndex=ee.expirationTime,e(m,ee);else break;ee=n(b)}}function ge($){if(ne=!1,Le($),!Y)if(n(m)!==null)Y=!0,xe||(xe=!0,L());else{var ee=n(b);ee!==null&&st(ge,ee.startTime-$)}}var xe=!1,x=-1,k=5,I=-1;function P(){return Z?!0:!(i.unstable_now()-I<k)}function O(){if(Z=!1,xe){var $=i.unstable_now();I=$;var ee=!0;try{e:{Y=!1,ne&&(ne=!1,be(x),x=-1),W=!0;var oe=V;try{t:{for(Le($),E=n(m);E!==null&&!(E.expirationTime>$&&P());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,V=E.priorityLevel;var A=Ue(E.expirationTime<=$);if($=i.unstable_now(),typeof A=="function"){E.callback=A,Le($),ee=!0;break t}E===n(m)&&s(m),Le($)}else s(m);E=n(m)}if(E!==null)ee=!0;else{var Q=n(b);Q!==null&&st(ge,Q.startTime-$),ee=!1}}break e}finally{E=null,V=oe,W=!1}ee=void 0}}finally{ee?L():xe=!1}}}var L;if(typeof we=="function")L=function(){we(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xt=C.port2;C.port1.onmessage=O,L=function(){xt.postMessage(null)}}else L=function(){Te(O,0)};function st($,ee){x=Te(function(){$(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function($){switch(V){case 1:case 2:case 3:var ee=3;break;default:ee=V}var oe=V;V=ee;try{return $()}finally{V=oe}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=V;V=$;try{return ee()}finally{V=oe}},i.unstable_scheduleCallback=function($,ee,oe){var Ue=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ue+oe:Ue):oe=Ue,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,$={id:S++,callback:ee,priorityLevel:$,startTime:oe,expirationTime:A,sortIndex:-1},oe>Ue?($.sortIndex=oe,e(b,$),n(m)===null&&$===n(b)&&(ne?(be(x),x=-1):ne=!0,st(ge,oe-Ue))):($.sortIndex=A,e(m,$),Y||W||(Y=!0,xe||(xe=!0,L()))),$},i.unstable_shouldYield=P,i.unstable_wrapCallback=function($){var ee=V;return function(){var oe=V;V=ee;try{return $.apply(this,arguments)}finally{V=oe}}}}(av)),av}var lv;function BT(){return lv||(lv=1,iv.exports=qT()),iv.exports}var ud={exports:{}},qt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var uv;function HT(){if(uv)return qt;uv=1;var i=Kd();function e(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,b,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:m,containerInfo:b,implementation:S}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,b){if(m==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qt.createPortal=function(m,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(e(299));return c(m,b,null,S)},qt.flushSync=function(m){var b=d.T,S=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=b,s.p=S,s.d.f()}},qt.preconnect=function(m,b){typeof m=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,s.d.C(m,b))},qt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},qt.preinit=function(m,b){if(typeof m=="string"&&b&&typeof b.as=="string"){var S=b.as,E=g(S,b.crossOrigin),V=typeof b.integrity=="string"?b.integrity:void 0,W=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?s.d.S(m,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:V,fetchPriority:W}):S==="script"&&s.d.X(m,{crossOrigin:E,integrity:V,fetchPriority:W,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},qt.preinitModule=function(m,b){if(typeof m=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=g(b.as,b.crossOrigin);s.d.M(m,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&s.d.M(m)},qt.preload=function(m,b){if(typeof m=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,E=g(S,b.crossOrigin);s.d.L(m,S,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},qt.preloadModule=function(m,b){if(typeof m=="string")if(b){var S=g(b.as,b.crossOrigin);s.d.m(m,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else s.d.m(m)},qt.requestFormReset=function(m){s.d.r(m)},qt.unstable_batchedUpdates=function(m,b){return m(b)},qt.useFormState=function(m,b,S){return d.H.useFormState(m,b,S)},qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},qt.version="19.1.0",qt}var cv;function KT(){if(cv)return ud.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ud.exports=HT(),ud.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hv;function GT(){if(hv)return ol;hv=1;var i=BT(),e=Kd(),n=KT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function m(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,o=f;break}if(w===o){v=!0,o=h,a=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===a){v=!0,a=f,o=h;break}if(w===o){v=!0,o=f,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),be=Symbol.for("react.consumer"),we=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case Z:return"Profiler";case ne:return"StrictMode";case ge:return"Suspense";case xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case we:return(t.displayName||"Context")+".Provider";case be:return(t._context.displayName||"Context")+".Consumer";case Le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:xt(t.type)||"Memo";case k:r=t._payload,t=t._init;try{return xt(t(r))}catch{}}return null}var st=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ue=[],A=-1;function Q(t){return{current:t}}function te(t){0>A||(t.current=Ue[A],Ue[A]=null,A--)}function X(t,r){A++,Ue[A]=t.current,t.current=r}var ue=Q(null),_e=Q(null),me=Q(null),Et=Q(null);function Xe(t,r){switch(X(me,r),X(_e,t),X(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Cy(r),t=Ay(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),X(ue,t)}function Vn(){te(ue),te(_e),te(me)}function Br(t){t.memoizedState!==null&&X(Et,t);var r=ue.current,a=Ay(r,t.type);r!==a&&(X(_e,t),X(ue,a))}function lr(t){_e.current===t&&(te(ue),te(_e)),Et.current===t&&(te(Et),tl._currentValue=oe)}var Ds=Object.prototype.hasOwnProperty,Ms=i.unstable_scheduleCallback,Us=i.unstable_cancelCallback,Xa=i.unstable_shouldYield,jl=i.unstable_requestPaint,pn=i.unstable_now,oh=i.unstable_getCurrentPriorityLevel,Ja=i.unstable_ImmediatePriority,Ri=i.unstable_UserBlockingPriority,Fs=i.unstable_NormalPriority,lh=i.unstable_LowPriority,Li=i.unstable_IdlePriority,Za=i.log,Vl=i.unstable_setDisableYieldValue,it=null,$e=null;function rn(t){if(typeof Za=="function"&&Vl(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(it,t)}catch{}}var zt=Math.clz32?Math.clz32:js,zl=Math.log,uh=Math.LN2;function js(t){return t>>>=0,t===0?32:31-(zl(t)/uh|0)|0}var Vs=256,zs=4194304;function An(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Di(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?h=An(o):(v&=w,v!==0?h=An(v):a||(a=w&~t,a!==0&&(h=An(a))))):(w=o&~f,w!==0?h=An(w):v!==0?h=An(v):a||(a=o&~t,a!==0&&(h=An(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function $s(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function eo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var t=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),t}function no(){var t=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),t}function ur(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function cr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ro(t,r,a,o,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,_=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var q=31-zt(a),H=1<<q;w[q]=0,_[q]=-1;var F=U[q];if(F!==null)for(U[q]=null,q=0;q<F.length;q++){var j=F[q];j!==null&&(j.lane&=-536870913)}a&=~H}o!==0&&zn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function zn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-zt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function so(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-zt(a),h=1<<o;h&r|t[o]&r&&(t[o]|=r),a&=~h}}function Hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kr(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function $l(t,r){var a=ee.p;try{return ee.p=t,r()}finally{ee.p=a}}var et=Math.random().toString(36).slice(2),yt="__reactFiber$"+et,ft="__reactProps$"+et,gn="__reactContainer$"+et,io="__reactEvents$"+et,ch="__reactListeners$"+et,Gr="__reactHandles$"+et,ql="__reactResources$"+et,qs="__reactMarker$"+et;function Wr(t){delete t[yt],delete t[ft],delete t[io],delete t[ch],delete t[Gr]}function hr(t){var r=t[yt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gn]||a[yt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Oy(t);t!==null;){if(a=t[yt])return a;t=Oy(t)}return r}t=a,a=t.parentNode}return null}function $n(t){if(t=t[yt]||t[gn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function qn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Wt(t){var r=t[ql];return r||(r=t[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function lt(t){t[qs]=!0}var ao=new Set,Ui={};function Nn(t,r){fr(t,r),fr(t+"Capture",r)}function fr(t,r){for(Ui[t]=r,t=0;t<r.length;t++)ao.add(r[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Bs={};function Kl(t){return Ds.call(Bs,t)?!0:Ds.call(Hl,t)?!1:Bl.test(t)?Bs[t]=!0:(Hl[t]=!0,!1)}function Qr(t,r,a){if(Kl(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Bn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ot(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var Hs,Gl;function dr(t){if(Hs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Hs=r&&r[1]||"",Gl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+t+Gl}var Fi=!1;function ji(t,r){if(!t||Fi)return"";Fi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(j){var F=j}Reflect.construct(t,[],H)}else{try{H.call()}catch(j){F=j}t.call(H.prototype)}}else{try{throw Error()}catch(j){F=j}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(j){if(j&&F&&typeof j.stack=="string")return[j.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var _=v.split(`
`),U=w.split(`
`);for(h=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===_.length||h===U.length)for(o=_.length-1,h=U.length-1;1<=o&&0<=h&&_[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(_[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||_[o]!==U[h]){var q=`
`+_[o].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=o&&0<=h);break}}}finally{Fi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?dr(a):""}function oo(t){switch(t.tag){case 26:case 27:case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return ji(t.type,!1);case 11:return ji(t.type.render,!1);case 1:return ji(t.type,!0);case 31:return dr("Activity");default:return""}}function Vi(t){try{var r="";do r+=oo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hh(t){var r=lo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function zi(t){t._valueTracker||(t._valueTracker=hh(t))}function uo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=lo(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function Ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fh=/[\n"\\]/g;function vt(t){return t.replace(fh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function sn(t,r,a,o,h,f,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Qt(r)):t.value!==""+Qt(r)&&(t.value=""+Qt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Yr(t,v,Qt(r)):a!=null?Yr(t,v,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Qt(w):t.removeAttribute("name")}function Gs(t,r,a,o,h,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Qt(a):"",r=r!=null?""+Qt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Yr(t,r,a){r==="number"&&Ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,r,a,o){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function He(t,r,a){if(r!=null&&(r=""+Qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Qt(a):""}function Ws(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(st(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Qt(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function mn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||Qs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function co(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&a[h]!==o&&Wl(t,h,o)}else for(var f in r)r.hasOwnProperty(f)&&Wl(t,f,r[f])}function ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(t){return ph.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gr=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,yr=null;function fo(t){var r=$n(t);if(r&&(t=r.stateNode)){var a=t[ft]||null;e:switch(t=r.stateNode,r.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var h=o[ft]||null;if(!h)throw Error(s(90));sn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&uo(o)}break e;case"textarea":He(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&pr(t,!!a.multiple,r,!1)}}}var Hn=!1;function Ql(t,r,a){if(Hn)return t(r,a);Hn=!0;try{var o=t(r);return o}finally{if(Hn=!1,(mr!==null||yr!==null)&&($u(),mr&&(r=mr,t=yr,yr=mr=null,fo(r),t)))for(r=0;r<t.length;r++)fo(t[r])}}function Ys(t,r){var a=t.stateNode;if(a===null)return null;var o=a[ft]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Pn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{vn=!1}var Kn=null,Xr=null,vr=null;function po(){if(vr)return vr;var t,r=Xr,a=r.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&r[a-o]===h[f-o];o++);return vr=h.slice(t,1<o?1-o:void 0)}function Gn(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function go(){return!1}function _t(t){function r(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:go,this.isPropagationStopped=go,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),r}var Ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=_t(Ve),Js=S({},Ve,{view:0,detail:0}),Yl=_t(Js),Bi,Hi,Qn,Zs=S({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ni,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Bi=t.screenX-Qn.screenX,Hi=t.screenY-Qn.screenY):Hi=Bi=0,Qn=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:Hi}}),bn=_t(Zs),Xl=S({},Zs,{dataTransfer:0}),gh=_t(Xl),ei=S({},Js,{relatedTarget:0}),Ki=_t(ei),mo=S({},Ve,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=_t(mo),Jl=S({},Ve,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wi=_t(Jl),mh=S({},Ve,{data:0}),yo=_t(mh),ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=eu[t])?!!r[t]:!1}function ni(){return vo}var tu=S({},Js,{key:function(t){if(t.key){var r=ti[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ni,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qi=_t(tu),nu=S({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=_t(nu),br=S({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ni}),ru=_t(br),su=S({},Ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=_t(su),au=S({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yi=_t(au),Yt=S({},Ve,{newState:0,oldState:0}),ou=_t(Yt),lu=[9,13,27,32],Yn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var p=Pn&&"TextEvent"in window&&!u,y=Pn&&(!Yn||u&&8<u&&11>=u),T=" ",D=!1;function z(t,r){switch(t){case"keyup":return lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var De=!1;function bt(t,r){switch(t){case"compositionend":return J(r);case"keypress":return r.which!==32?null:(D=!0,T);case"textInput":return t=r.data,t===T&&D?null:t;default:return null}}function Fe(t,r){if(De)return t==="compositionend"||!Yn&&z(t,r)?(t=po(),vr=Xr=Kn=null,De=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var It={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!It[t.type]:r==="textarea"}function wr(t,r,a,o){mr?yr?yr.push(o):yr=[o]:mr=o,r=Wu(r,"onChange"),0<r.length&&(a=new qi("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Lt=null,Xn=null;function wo(t){Sy(t,0)}function uu(t){var r=qn(t);if(uo(r))return t}function qp(t,r){if(t==="change")return r}var Bp=!1;if(Pn){var yh;if(Pn){var vh="oninput"in document;if(!vh){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),vh=typeof Hp.oninput=="function"}yh=vh}else yh=!1;Bp=yh&&(!document.documentMode||9<document.documentMode)}function Kp(){Lt&&(Lt.detachEvent("onpropertychange",Gp),Xn=Lt=null)}function Gp(t){if(t.propertyName==="value"&&uu(Xn)){var r=[];wr(r,Xn,t,yn(t)),Ql(wo,r)}}function m1(t,r,a){t==="focusin"?(Kp(),Lt=r,Xn=a,Lt.attachEvent("onpropertychange",Gp)):t==="focusout"&&Kp()}function y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(Xn)}function v1(t,r){if(t==="click")return uu(r)}function b1(t,r){if(t==="input"||t==="change")return uu(r)}function w1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var an=typeof Object.is=="function"?Object.is:w1;function To(t,r){if(an(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ds.call(r,h)||!an(t[h],r[h]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,r){var a=Wp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wp(a)}}function Yp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Yp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ks(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ks(t.document)}return r}function bh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var T1=Pn&&"documentMode"in document&&11>=document.documentMode,Xi=null,wh=null,So=null,Th=!1;function Jp(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Th||Xi==null||Xi!==Ks(o)||(o=Xi,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),So&&To(So,o)||(So=o,o=Wu(wh,"onSelect"),0<o.length&&(r=new qi("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Xi)))}function ri(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ji={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},Sh={},Zp={};Pn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function si(t){if(Sh[t])return Sh[t];if(!Ji[t])return t;var r=Ji[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zp)return Sh[t]=r[a];return t}var eg=si("animationend"),tg=si("animationiteration"),ng=si("animationstart"),S1=si("transitionrun"),k1=si("transitionstart"),E1=si("transitioncancel"),rg=si("transitionend"),sg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function xn(t,r){sg.set(t,r),Nn(r,[t])}var ig=new WeakMap;function wn(t,r){if(typeof t=="object"&&t!==null){var a=ig.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Vi(r)},ig.set(t,r),r)}return{value:t,source:r,stack:Vi(r)}}var Tn=[],Zi=0,Eh=0;function cu(){for(var t=Zi,r=Eh=Zi=0;r<t;){var a=Tn[r];Tn[r++]=null;var o=Tn[r];Tn[r++]=null;var h=Tn[r];Tn[r++]=null;var f=Tn[r];if(Tn[r++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ag(a,h,f)}}function hu(t,r,a,o){Tn[Zi++]=t,Tn[Zi++]=r,Tn[Zi++]=a,Tn[Zi++]=o,Eh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _h(t,r,a,o){return hu(t,r,a,o),fu(t)}function ea(t,r){return hu(t,null,null,r),fu(t)}function ag(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-zt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=a|536870912),f):null}function fu(t){if(50<Go)throw Go=0,Of=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ta={};function _1(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,r,a,o){return new _1(t,r,a,o)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tr(t,r){var a=t.alternate;return a===null?(a=on(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function du(t,r,a,o,h,f){var v=0;if(o=t,typeof t=="function")Ih(t)&&(v=1);else if(typeof t=="string")v=CT(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=on(31,a,r,h),t.elementType=I,t.lanes=f,t;case Y:return ii(a.children,h,f,r);case ne:v=8,h|=24;break;case Z:return t=on(12,a,r,h|2),t.elementType=Z,t.lanes=f,t;case ge:return t=on(13,a,r,h),t.elementType=ge,t.lanes=f,t;case xe:return t=on(19,a,r,h),t.elementType=xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:case we:v=10;break e;case be:v=9;break e;case Le:v=11;break e;case x:v=14;break e;case k:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=on(v,a,r,h),r.elementType=t,r.type=o,r.lanes=f,r}function ii(t,r,a,o){return t=on(7,t,o,r),t.lanes=a,t}function Ch(t,r,a){return t=on(6,t,null,r),t.lanes=a,t}function Ah(t,r,a){return r=on(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var na=[],ra=0,pu=null,gu=0,Sn=[],kn=0,ai=null,Sr=1,kr="";function oi(t,r){na[ra++]=gu,na[ra++]=pu,pu=t,gu=r}function lg(t,r,a){Sn[kn++]=Sr,Sn[kn++]=kr,Sn[kn++]=ai,ai=t;var o=Sr;t=kr;var h=32-zt(o)-1;o&=~(1<<h),a+=1;var f=32-zt(r)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Sr=1<<32-zt(r)+h|a<<h|o,kr=f+t}else Sr=1<<f|a<<h|o,kr=t}function Nh(t){t.return!==null&&(oi(t,1),lg(t,1,0))}function Ph(t){for(;t===pu;)pu=na[--ra],na[ra]=null,gu=na[--ra],na[ra]=null;for(;t===ai;)ai=Sn[--kn],Sn[kn]=null,kr=Sn[--kn],Sn[kn]=null,Sr=Sn[--kn],Sn[kn]=null}var Xt=null,at=null,je=!1,li=null,Jn=!1,xh=Error(s(519));function ui(t){var r=Error(s(418,""));throw _o(wn(r,t)),xh}function ug(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[yt]=t,r[ft]=o,a){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(a=0;a<Qo.length;a++)Ae(Qo[a],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Ae("invalid",r),Gs(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),zi(r);break;case"select":Ae("invalid",r);break;case"textarea":Ae("invalid",r),Ws(r,o.value,o.defaultValue,o.children),zi(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Iy(r.textContent,a)?(o.popover!=null&&(Ae("beforetoggle",r),Ae("toggle",r)),o.onScroll!=null&&Ae("scroll",r),o.onScrollEnd!=null&&Ae("scrollend",r),o.onClick!=null&&(r.onclick=Qu),r=!0):r=!1,r||ui(t)}function cg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Xt=Xt.return}}function ko(t){if(t!==Xt)return!1;if(!je)return cg(t),je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wf(t.type,t.memoizedProps)),a=!a),a&&at&&ui(t),cg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){at=Rn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}at=null}}else r===27?(r=at,ds(t.type)?(t=Jf,Jf=null,at=t):at=r):at=Xt?Rn(t.stateNode.nextSibling):null;return!0}function Eo(){at=Xt=null,je=!1}function hg(){var t=li;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),li=null),t}function _o(t){li===null?li=[t]:li.push(t)}var Oh=Q(null),ci=null,Er=null;function Jr(t,r,a){X(Oh,r._currentValue),r._currentValue=a}function _r(t){t._currentValue=Oh.current,te(Oh)}function Rh(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function Lh(t,r,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var _=0;_<r.length;_++)if(w.context===r[_]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),Rh(f.return,a,t),o||(v=null);break e}f=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Rh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Io(t,r,a,o){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;an(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===Et.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(tl):t=[tl])}h=h.return}t!==null&&Lh(r,t,a,o),r.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hi(t){ci=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return fg(ci,t)}function yu(t,r){return ci===null&&hi(t),fg(t,r)}function fg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Er===null){if(t===null)throw Error(s(308));Er=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Er=Er.next=r;return a}var I1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},C1=i.unstable_scheduleCallback,A1=i.unstable_NormalPriority,wt={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new I1,data:new Map,refCount:0}}function Co(t){t.refCount--,t.refCount===0&&C1(A1,function(){t.controller.abort()})}var Ao=null,Mh=0,sa=0,ia=null;function N1(t,r){if(Ao===null){var a=Ao=[];Mh=0,sa=jf(),ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Mh++,r.then(dg,dg),r}function dg(){if(--Mh===0&&Ao!==null){ia!==null&&(ia.status="fulfilled");var t=Ao;Ao=null,sa=0,ia=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function P1(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var pg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&N1(t,r),pg!==null&&pg(t,r)};var fi=Q(null);function Uh(){var t=fi.current;return t!==null?t:Je.pooledCache}function vu(t,r){r===null?X(fi,fi.current):X(fi,r.pool)}function gg(){var t=Uh();return t===null?null:{parent:wt._currentValue,pool:t}}var No=Error(s(460)),mg=Error(s(474)),bu=Error(s(542)),Fh={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wu(){}function vg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(wu,wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wg(t),t;default:if(typeof r.status=="string")r.then(wu,wu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wg(t),t}throw Po=r,No}}var Po=null;function bg(){if(Po===null)throw Error(s(459));var t=Po;return Po=null,t}function wg(t){if(t===No||t===bu)throw Error(s(483))}var Zr=!1;function jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=fu(t),ag(t,null,a),r}return hu(t,o,r,a),fu(t)}function xo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,so(t,a)}}function zh(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $h=!1;function Oo(){if($h){var t=ia;if(t!==null)throw t}}function Ro(t,r,a,o){$h=!1;var h=t.updateQueue;Zr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var _=w,U=_.next;_.next=null,v===null?f=U:v.next=U,v=_;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==v&&(w===null?q.firstBaseUpdate=U:w.next=U,q.lastBaseUpdate=_))}if(f!==null){var H=h.baseState;v=0,q=U=_=null,w=f;do{var F=w.lane&-536870913,j=F!==w.lane;if(j?(Oe&F)===F:(o&F)===F){F!==0&&F===sa&&($h=!0),q!==null&&(q=q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,ce=w;F=r;var We=a;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){H=de.call(We,H,F);break e}H=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,F=typeof de=="function"?de.call(We,H,F):de,F==null)break e;H=S({},H,F);break e;case 2:Zr=!0}}F=w.callback,F!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[F]:j.push(F))}else j={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(U=q=j,_=H):q=q.next=j,v|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;j=w,w=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(_=H),h.baseState=_,h.firstBaseUpdate=U,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),us|=v,t.lanes=v,t.memoizedState=H}}function Tg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Sg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tg(a[t],r)}var aa=Q(null),Tu=Q(0);function kg(t,r){t=Rr,X(Tu,t),X(aa,r),Rr=t|r.baseLanes}function qh(){X(Tu,Rr),X(aa,aa.current)}function Bh(){Rr=Tu.current,te(aa),te(Tu)}var ns=0,ke=null,Ke=null,dt=null,Su=!1,oa=!1,di=!1,ku=0,Lo=0,la=null,x1=0;function ut(){throw Error(s(321))}function Hh(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!an(t[a],r[a]))return!1;return!0}function Kh(t,r,a,o,h,f){return ns=f,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?am:om,di=!1,f=a(o,h),di=!1,oa&&(f=_g(r,a,o,h)),Eg(t),f}function Eg(t){$.H=Nu;var r=Ke!==null&&Ke.next!==null;if(ns=0,dt=Ke=ke=null,Su=!1,Lo=0,la=null,r)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&mu(t)&&(Ct=!0))}function _g(t,r,a,o){ke=t;var h=0;do{if(oa&&(la=null),Lo=0,oa=!1,25<=h)throw Error(s(301));if(h+=1,dt=Ke=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=F1,f=r(a,o)}while(oa);return f}function O1(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Do(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(ke.flags|=1024),r}function Gh(){var t=ku!==0;return ku=0,t}function Wh(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Qh(t){if(Su){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Su=!1}ns=0,dt=Ke=ke=null,oa=!1,Lo=ku=0,la=null}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ke.memoizedState=dt=t:dt=dt.next=t,dt}function pt(){if(Ke===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=dt===null?ke.memoizedState:dt.next;if(r!==null)dt=r,Ke=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},dt===null?ke.memoizedState=dt=t:dt=dt.next=t}return dt}function Yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(t){var r=Lo;return Lo+=1,la===null&&(la=[]),t=vg(la,t,r),r=ke,(dt===null?r.memoizedState:dt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?am:om),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Do(t);if(t.$$typeof===we)return $t(t)}throw Error(s(438,String(t)))}function Xh(t){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yh(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=P;return r.index++,a}function Ir(t,r){return typeof r=="function"?r(t):r}function _u(t){var r=pt();return Jh(r,Ke,t)}function Jh(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var w=v=null,_=null,U=r,q=!1;do{var H=U.lane&-536870913;if(H!==U.lane?(Oe&H)===H:(ns&H)===H){var F=U.revertLane;if(F===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),H===sa&&(q=!0);else if((ns&F)===F){U=U.next,F===sa&&(q=!0);continue}else H={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(w=_=H,v=f):_=_.next=H,ke.lanes|=F,us|=F;H=U.action,di&&a(f,H),f=U.hasEagerState?U.eagerState:a(f,H)}else F={lane:H,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(w=_=F,v=f):_=_.next=F,ke.lanes|=H,us|=H;U=U.next}while(U!==null&&U!==r);if(_===null?v=f:_.next=w,!an(f,t.memoizedState)&&(Ct=!0,q&&(a=ia,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=_,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Zh(t){var r=pt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);an(f,r.memoizedState)||(Ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function Ig(t,r,a){var o=ke,h=pt(),f=je;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!an((Ke||h).memoizedState,a);v&&(h.memoizedState=a,Ct=!0),h=h.queue;var w=Ng.bind(null,o,h,t);if(Mo(2048,8,w,[t]),h.getSnapshot!==r||v||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,ua(9,Iu(),Ag.bind(null,o,h,a,r),null),Je===null)throw Error(s(349));f||(ns&124)!==0||Cg(o,r,a)}return a}function Cg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=Yh(),ke.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ag(t,r,a,o){r.value=a,r.getSnapshot=o,Pg(r)&&xg(t)}function Ng(t,r,a){return a(function(){Pg(r)&&xg(t)})}function Pg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!an(t,a)}catch{return!0}}function xg(t){var r=ea(t,2);r!==null&&fn(r,t,2)}function ef(t){var r=Zt();if(typeof t=="function"){var a=t;if(t=a(),di){rn(!0);try{a()}finally{rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:t},r}function Og(t,r,a,o){return t.baseState=a,Jh(t,Ke,typeof o=="function"?o:Ir)}function R1(t,r,a,o,h){if(Au(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};$.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,Rg(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Rg(t,r){var a=r.action,o=r.payload,h=t.state;if(r.isTransition){var f=$.T,v={};$.T=v;try{var w=a(h,o),_=$.S;_!==null&&_(v,w),Lg(t,r,w)}catch(U){tf(t,r,U)}finally{$.T=f}}else try{f=a(h,o),Lg(t,r,f)}catch(U){tf(t,r,U)}}function Lg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,r,o)},function(o){return tf(t,r,o)}):Dg(t,r,a)}function Dg(t,r,a){r.status="fulfilled",r.value=a,Mg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Rg(t,a)))}function tf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Mg(r),r=r.next;while(r!==o)}t.action=null}function Mg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ug(t,r){return r}function Fg(t,r){if(je){var a=Je.formState;if(a!==null){e:{var o=ke;if(je){if(at){t:{for(var h=at,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Rn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=Rn(h.nextSibling),o=h.data==="F!";break e}}ui(o)}o=!1}o&&(r=a[0])}}return a=Zt(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:r},a.queue=o,a=rm.bind(null,ke,o),o.dispatch=a,o=ef(!1),f=of.bind(null,ke,!1,o.queue),o=Zt(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,a=R1.bind(null,ke,h,f,a),h.dispatch=a,o.memoizedState=t,[r,a,!1]}function jg(t){var r=pt();return Vg(r,Ke,t)}function Vg(t,r,a){if(r=Jh(t,r,Ug)[0],t=_u(Ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Do(r)}catch(v){throw v===No?bu:v}else o=r;r=pt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,ua(9,Iu(),L1.bind(null,h,a),null)),[o,f,t]}function L1(t,r){t.action=r}function zg(t){var r=pt(),a=Ke;if(a!==null)return Vg(r,a,t);pt(),r=r.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function ua(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Yh(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function Iu(){return{destroy:void 0,resource:void 0}}function $g(){return pt().memoizedState}function Cu(t,r,a,o){var h=Zt();o=o===void 0?null:o,ke.flags|=t,h.memoizedState=ua(1|r,Iu(),a,o)}function Mo(t,r,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ke!==null&&o!==null&&Hh(o,Ke.memoizedState.deps)?h.memoizedState=ua(r,f,a,o):(ke.flags|=t,h.memoizedState=ua(1|r,f,a,o))}function qg(t,r){Cu(8390656,8,t,r)}function Bg(t,r){Mo(2048,8,t,r)}function Hg(t,r){return Mo(4,2,t,r)}function Kg(t,r){return Mo(4,4,t,r)}function Gg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Wg(t,r,a){a=a!=null?a.concat([t]):null,Mo(4,4,Gg.bind(null,r,t),a)}function nf(){}function Qg(t,r){var a=pt();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Hh(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function Yg(t,r){var a=pt();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Hh(r,o[1]))return o[0];if(o=t(),di){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[o,r],o}function rf(t,r,a){return a===void 0||(ns&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Zm(),ke.lanes|=t,us|=t,a)}function Xg(t,r,a,o){return an(a,r)?a:aa.current!==null?(t=rf(t,a,o),an(t,r)||(Ct=!0),t):(ns&42)===0?(Ct=!0,t.memoizedState=a):(t=Zm(),ke.lanes|=t,us|=t,r)}function Jg(t,r,a,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var v=$.T,w={};$.T=w,of(t,!1,r,a);try{var _=h(),U=$.S;if(U!==null&&U(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=P1(_,o);Uo(t,r,q,hn(t))}else Uo(t,r,o,hn(t))}catch(H){Uo(t,r,{then:function(){},status:"rejected",reason:H},hn())}finally{ee.p=f,$.T=v}}function D1(){}function sf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var h=Zg(t).queue;Jg(t,h,r,oe,a===null?D1:function(){return em(t),a(o)})}function Zg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function em(t){var r=Zg(t).next.queue;Uo(t,r,{},hn())}function af(){return $t(tl)}function tm(){return pt().memoizedState}function nm(){return pt().memoizedState}function M1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=hn();t=es(a);var o=ts(r,t,a);o!==null&&(fn(o,r,a),xo(o,r,a)),r={cache:Dh()},t.payload=r;return}r=r.return}}function U1(t,r,a){var o=hn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?sm(r,a):(a=_h(t,r,a,o),a!==null&&(fn(a,t,o),im(a,r,o)))}function rm(t,r,a){var o=hn();Uo(t,r,a,o)}function Uo(t,r,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))sm(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,w=f(v,a);if(h.hasEagerState=!0,h.eagerState=w,an(w,v))return hu(t,r,h,0),Je===null&&cu(),!1}catch{}finally{}if(a=_h(t,r,h,o),a!==null)return fn(a,t,o),im(a,r,o),!0}return!1}function of(t,r,a,o){if(o={lane:2,revertLane:jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(r)throw Error(s(479))}else r=_h(t,a,o,2),r!==null&&fn(r,t,2)}function Au(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function sm(t,r){oa=Su=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function im(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,so(t,a)}}var Nu={readContext:$t,use:Eu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},am={readContext:$t,use:Eu,useCallback:function(t,r){return Zt().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:qg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Cu(4194308,4,Gg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Cu(4194308,4,t,r)},useInsertionEffect:function(t,r){Cu(4,2,t,r)},useMemo:function(t,r){var a=Zt();r=r===void 0?null:r;var o=t();if(di){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Zt();if(a!==void 0){var h=a(r);if(di){rn(!0);try{a(r)}finally{rn(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=U1.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var r=Zt();return t={current:t},r.memoizedState=t},useState:function(t){t=ef(t);var r=t.queue,a=rm.bind(null,ke,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:nf,useDeferredValue:function(t,r){var a=Zt();return rf(a,t,r)},useTransition:function(){var t=ef(!1);return t=Jg.bind(null,ke,t.queue,!0,!1),Zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=ke,h=Zt();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Oe&124)!==0||Cg(o,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,qg(Ng.bind(null,o,f,t),[t]),o.flags|=2048,ua(9,Iu(),Ag.bind(null,o,f,a,r),null),a},useId:function(){var t=Zt(),r=Je.identifierPrefix;if(je){var a=kr,o=Sr;a=(o&~(1<<32-zt(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=ku++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=x1++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:af,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var r=Zt();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=of.bind(null,ke,!0,a),a.dispatch=r,[t,r]},useMemoCache:Xh,useCacheRefresh:function(){return Zt().memoizedState=M1.bind(null,ke)}},om={readContext:$t,use:Eu,useCallback:Qg,useContext:$t,useEffect:Bg,useImperativeHandle:Wg,useInsertionEffect:Hg,useLayoutEffect:Kg,useMemo:Yg,useReducer:_u,useRef:$g,useState:function(){return _u(Ir)},useDebugValue:nf,useDeferredValue:function(t,r){var a=pt();return Xg(a,Ke.memoizedState,t,r)},useTransition:function(){var t=_u(Ir)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:Do(t),r]},useSyncExternalStore:Ig,useId:tm,useHostTransitionStatus:af,useFormState:jg,useActionState:jg,useOptimistic:function(t,r){var a=pt();return Og(a,Ke,t,r)},useMemoCache:Xh,useCacheRefresh:nm},F1={readContext:$t,use:Eu,useCallback:Qg,useContext:$t,useEffect:Bg,useImperativeHandle:Wg,useInsertionEffect:Hg,useLayoutEffect:Kg,useMemo:Yg,useReducer:Zh,useRef:$g,useState:function(){return Zh(Ir)},useDebugValue:nf,useDeferredValue:function(t,r){var a=pt();return Ke===null?rf(a,t,r):Xg(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Zh(Ir)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:Do(t),r]},useSyncExternalStore:Ig,useId:tm,useHostTransitionStatus:af,useFormState:zg,useActionState:zg,useOptimistic:function(t,r){var a=pt();return Ke!==null?Og(a,Ke,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:nm},ca=null,Fo=0;function Pu(t){var r=Fo;return Fo+=1,ca===null&&(ca=[]),vg(ca,t,r)}function jo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function xu(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function lm(t){var r=t._init;return r(t._payload)}function um(t){function r(R,N){if(t){var M=R.deletions;M===null?(R.deletions=[N],R.flags|=16):M.push(N)}}function a(R,N){if(!t)return null;for(;N!==null;)r(R,N),N=N.sibling;return null}function o(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function h(R,N){return R=Tr(R,N),R.index=0,R.sibling=null,R}function f(R,N,M){return R.index=M,t?(M=R.alternate,M!==null?(M=M.index,M<N?(R.flags|=67108866,N):M):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function v(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function w(R,N,M,B){return N===null||N.tag!==6?(N=Ch(M,R.mode,B),N.return=R,N):(N=h(N,M),N.return=R,N)}function _(R,N,M,B){var se=M.type;return se===Y?q(R,N,M.props.children,B,M.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===k&&lm(se)===N.type)?(N=h(N,M.props),jo(N,M),N.return=R,N):(N=du(M.type,M.key,M.props,null,R.mode,B),jo(N,M),N.return=R,N)}function U(R,N,M,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=Ah(M,R.mode,B),N.return=R,N):(N=h(N,M.children||[]),N.return=R,N)}function q(R,N,M,B,se){return N===null||N.tag!==7?(N=ii(M,R.mode,B,se),N.return=R,N):(N=h(N,M),N.return=R,N)}function H(R,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ch(""+N,R.mode,M),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case V:return M=du(N.type,N.key,N.props,null,R.mode,M),jo(M,N),M.return=R,M;case W:return N=Ah(N,R.mode,M),N.return=R,N;case k:var B=N._init;return N=B(N._payload),H(R,N,M)}if(st(N)||L(N))return N=ii(N,R.mode,M,null),N.return=R,N;if(typeof N.then=="function")return H(R,Pu(N),M);if(N.$$typeof===we)return H(R,yu(R,N),M);xu(R,N)}return null}function F(R,N,M,B){var se=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return se!==null?null:w(R,N,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return M.key===se?_(R,N,M,B):null;case W:return M.key===se?U(R,N,M,B):null;case k:return se=M._init,M=se(M._payload),F(R,N,M,B)}if(st(M)||L(M))return se!==null?null:q(R,N,M,B,null);if(typeof M.then=="function")return F(R,N,Pu(M),B);if(M.$$typeof===we)return F(R,N,yu(R,M),B);xu(R,M)}return null}function j(R,N,M,B,se){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return R=R.get(M)||null,w(N,R,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return R=R.get(B.key===null?M:B.key)||null,_(N,R,B,se);case W:return R=R.get(B.key===null?M:B.key)||null,U(N,R,B,se);case k:var Ie=B._init;return B=Ie(B._payload),j(R,N,M,B,se)}if(st(B)||L(B))return R=R.get(M)||null,q(N,R,B,se,null);if(typeof B.then=="function")return j(R,N,M,Pu(B),se);if(B.$$typeof===we)return j(R,N,M,yu(N,B),se);xu(N,B)}return null}function de(R,N,M,B){for(var se=null,Ie=null,ae=N,he=N=0,Nt=null;ae!==null&&he<M.length;he++){ae.index>he?(Nt=ae,ae=null):Nt=ae.sibling;var Me=F(R,ae,M[he],B);if(Me===null){ae===null&&(ae=Nt);break}t&&ae&&Me.alternate===null&&r(R,ae),N=f(Me,N,he),Ie===null?se=Me:Ie.sibling=Me,Ie=Me,ae=Nt}if(he===M.length)return a(R,ae),je&&oi(R,he),se;if(ae===null){for(;he<M.length;he++)ae=H(R,M[he],B),ae!==null&&(N=f(ae,N,he),Ie===null?se=ae:Ie.sibling=ae,Ie=ae);return je&&oi(R,he),se}for(ae=o(ae);he<M.length;he++)Nt=j(ae,R,he,M[he],B),Nt!==null&&(t&&Nt.alternate!==null&&ae.delete(Nt.key===null?he:Nt.key),N=f(Nt,N,he),Ie===null?se=Nt:Ie.sibling=Nt,Ie=Nt);return t&&ae.forEach(function(vs){return r(R,vs)}),je&&oi(R,he),se}function ce(R,N,M,B){if(M==null)throw Error(s(151));for(var se=null,Ie=null,ae=N,he=N=0,Nt=null,Me=M.next();ae!==null&&!Me.done;he++,Me=M.next()){ae.index>he?(Nt=ae,ae=null):Nt=ae.sibling;var vs=F(R,ae,Me.value,B);if(vs===null){ae===null&&(ae=Nt);break}t&&ae&&vs.alternate===null&&r(R,ae),N=f(vs,N,he),Ie===null?se=vs:Ie.sibling=vs,Ie=vs,ae=Nt}if(Me.done)return a(R,ae),je&&oi(R,he),se;if(ae===null){for(;!Me.done;he++,Me=M.next())Me=H(R,Me.value,B),Me!==null&&(N=f(Me,N,he),Ie===null?se=Me:Ie.sibling=Me,Ie=Me);return je&&oi(R,he),se}for(ae=o(ae);!Me.done;he++,Me=M.next())Me=j(ae,R,he,Me.value,B),Me!==null&&(t&&Me.alternate!==null&&ae.delete(Me.key===null?he:Me.key),N=f(Me,N,he),Ie===null?se=Me:Ie.sibling=Me,Ie=Me);return t&&ae.forEach(function(jT){return r(R,jT)}),je&&oi(R,he),se}function We(R,N,M,B){if(typeof M=="object"&&M!==null&&M.type===Y&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case V:e:{for(var se=M.key;N!==null;){if(N.key===se){if(se=M.type,se===Y){if(N.tag===7){a(R,N.sibling),B=h(N,M.props.children),B.return=R,R=B;break e}}else if(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===k&&lm(se)===N.type){a(R,N.sibling),B=h(N,M.props),jo(B,M),B.return=R,R=B;break e}a(R,N);break}else r(R,N);N=N.sibling}M.type===Y?(B=ii(M.props.children,R.mode,B,M.key),B.return=R,R=B):(B=du(M.type,M.key,M.props,null,R.mode,B),jo(B,M),B.return=R,R=B)}return v(R);case W:e:{for(se=M.key;N!==null;){if(N.key===se)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){a(R,N.sibling),B=h(N,M.children||[]),B.return=R,R=B;break e}else{a(R,N);break}else r(R,N);N=N.sibling}B=Ah(M,R.mode,B),B.return=R,R=B}return v(R);case k:return se=M._init,M=se(M._payload),We(R,N,M,B)}if(st(M))return de(R,N,M,B);if(L(M)){if(se=L(M),typeof se!="function")throw Error(s(150));return M=se.call(M),ce(R,N,M,B)}if(typeof M.then=="function")return We(R,N,Pu(M),B);if(M.$$typeof===we)return We(R,N,yu(R,M),B);xu(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,N!==null&&N.tag===6?(a(R,N.sibling),B=h(N,M),B.return=R,R=B):(a(R,N),B=Ch(M,R.mode,B),B.return=R,R=B),v(R)):a(R,N)}return function(R,N,M,B){try{Fo=0;var se=We(R,N,M,B);return ca=null,se}catch(ae){if(ae===No||ae===bu)throw ae;var Ie=on(29,ae,null,R.mode);return Ie.lanes=B,Ie.return=R,Ie}finally{}}}var ha=um(!0),cm=um(!1),En=Q(null),Cr=null;function rs(t){var r=t.alternate;X(Tt,Tt.current&1),X(En,t),Cr===null&&(r===null||aa.current!==null||r.memoizedState!==null)&&(Cr=t)}function hm(t){if(t.tag===22){if(X(Tt,Tt.current),X(En,t),Cr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Cr=t)}}else ss()}function ss(){X(Tt,Tt.current),X(En,En.current)}function Ar(t){te(En),Cr===t&&(Cr=null),te(Tt)}var Tt=Q(0);function Ou(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xf(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function lf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var uf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=hn(),h=es(o);h.payload=r,a!=null&&(h.callback=a),r=ts(t,h,o),r!==null&&(fn(r,t,o),xo(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=hn(),h=es(o);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ts(t,h,o),r!==null&&(fn(r,t,o),xo(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=hn(),o=es(a);o.tag=2,r!=null&&(o.callback=r),r=ts(t,o,a),r!==null&&(fn(r,t,a),xo(r,t,a))}};function fm(t,r,a,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):r.prototype&&r.prototype.isPureReactComponent?!To(a,o)||!To(h,f):!0}function dm(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&uf.enqueueReplaceState(r,r.state,null)}function pi(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pm(t){Ru(t)}function gm(t){console.error(t)}function mm(t){Ru(t)}function Lu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function ym(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(t,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(t,r)},a}function vm(t){return t=es(t),t.tag=3,t}function bm(t,r,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ym(r,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ym(r,a,o),typeof h!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function j1(t,r,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&Io(r,a,h,!0),a=En.current,a!==null){switch(a.tag){case 13:return Cr===null?Lf():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Mf(t,o,h)),!1;case 22:return a.flags|=65536,o===Fh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Mf(t,o,h)),!1}throw Error(s(435,a.tag))}return Mf(t,o,h),Lf(),!1}if(je)return r=En.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==xh&&(t=Error(s(422),{cause:o}),_o(wn(t,a)))):(o!==xh&&(r=Error(s(423),{cause:o}),_o(wn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=wn(o,a),h=cf(t.stateNode,o,h),zh(t,h),ot!==4&&(ot=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,a),Ko===null?Ko=[f]:Ko.push(f),ot!==4&&(ot=2),r===null)return!0;o=wn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cf(a.stateNode,o,t),zh(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cs===null||!cs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vm(h),bm(h,t,a,o),zh(a,h),!1}a=a.return}while(a!==null);return!1}var wm=Error(s(461)),Ct=!1;function Dt(t,r,a,o){r.child=t===null?cm(r,null,a,o):ha(r,t.child,a,o)}function Tm(t,r,a,o,h){a=a.render;var f=r.ref;if("ref"in o){var v={};for(var w in o)w!=="ref"&&(v[w]=o[w])}else v=o;return hi(r),o=Kh(t,r,a,v,f,h),w=Gh(),t!==null&&!Ct?(Wh(t,r,h),Nr(t,r,h)):(je&&w&&Nh(r),r.flags|=1,Dt(t,r,o,h),r.child)}function Sm(t,r,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ih(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,km(t,r,f,o,h)):(t=du(a.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!vf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:To,a(v,o)&&t.ref===r.ref)return Nr(t,r,h)}return r.flags|=1,t=Tr(f,o),t.ref=r.ref,t.return=r,r.child=t}function km(t,r,a,o,h){if(t!==null){var f=t.memoizedProps;if(To(f,o)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=o=f,vf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,Nr(t,r,h)}return hf(t,r,a,o,h)}function Em(t,r,a){var o=r.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return _m(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(r,f!==null?f.cachePool:null),f!==null?kg(r,f):qh(),hm(r);else return r.lanes=r.childLanes=536870912,_m(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(vu(r,f.cachePool),kg(r,f),ss(),r.memoizedState=null):(t!==null&&vu(r,null),qh(),ss());return Dt(t,r,h,a),r.child}function _m(t,r,a,o){var h=Uh();return h=h===null?null:{parent:wt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&vu(r,null),qh(),hm(r),t!==null&&Io(t,r,o,!0),null}function Du(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function hf(t,r,a,o,h){return hi(r),a=Kh(t,r,a,o,void 0,h),o=Gh(),t!==null&&!Ct?(Wh(t,r,h),Nr(t,r,h)):(je&&o&&Nh(r),r.flags|=1,Dt(t,r,a,h),r.child)}function Im(t,r,a,o,h,f){return hi(r),r.updateQueue=null,a=_g(r,o,a,h),Eg(t),o=Gh(),t!==null&&!Ct?(Wh(t,r,f),Nr(t,r,f)):(je&&o&&Nh(r),r.flags|=1,Dt(t,r,a,f),r.child)}function Cm(t,r,a,o,h){if(hi(r),r.stateNode===null){var f=ta,v=a.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},jh(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?$t(v):ta,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lf(r,a,v,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&uf.enqueueReplaceState(f,f.state,null),Ro(r,o,f,h),Oo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var w=r.memoizedProps,_=pi(a,w);f.props=_;var U=f.context,q=a.contextType;v=ta,typeof q=="object"&&q!==null&&(v=$t(q));var H=a.getDerivedStateFromProps;q=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||U!==v)&&dm(r,f,o,v),Zr=!1;var F=r.memoizedState;f.state=F,Ro(r,o,f,h),Oo(),U=r.memoizedState,w||F!==U||Zr?(typeof H=="function"&&(lf(r,a,H,o),U=r.memoizedState),(_=Zr||fm(r,a,_,o,F,U,v))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=U),f.props=o,f.state=U,f.context=v,o=_):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Vh(t,r),v=r.memoizedProps,q=pi(a,v),f.props=q,H=r.pendingProps,F=f.context,U=a.contextType,_=ta,typeof U=="object"&&U!==null&&(_=$t(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==H||F!==_)&&dm(r,f,o,_),Zr=!1,F=r.memoizedState,f.state=F,Ro(r,o,f,h),Oo();var j=r.memoizedState;v!==H||F!==j||Zr||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof w=="function"&&(lf(r,a,w,o),j=r.memoizedState),(q=Zr||fm(r,a,q,o,F,j,_)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,_)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=j),f.props=o,f.state=j,f.context=_,o=q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,Du(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=ha(r,t.child,null,h),r.child=ha(r,null,a,h)):Dt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=Nr(t,r,h),t}function Am(t,r,a,o){return Eo(),r.flags|=256,Dt(t,r,a,o),r.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:gg()}}function pf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=_n),t}function Nm(t,r,a){var o=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(h?rs(r):ss(),je){var w=at,_;if(_=w){e:{for(_=w,w=Jn;_.nodeType!==8;){if(!w){w=null;break e}if(_=Rn(_.nextSibling),_===null){w=null;break e}}w=_}w!==null?(r.memoizedState={dehydrated:w,treeContext:ai!==null?{id:Sr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},_=on(18,null,null,0),_.stateNode=w,_.return=r,r.child=_,Xt=r,at=null,_=!0):_=!1}_||ui(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Xf(w)?r.lanes=32:r.lanes=536870912,null;Ar(r)}return w=o.children,o=o.fallback,h?(ss(),h=r.mode,w=Mu({mode:"hidden",children:w},h),o=ii(o,h,a,null),w.return=r,o.return=r,w.sibling=o,r.child=w,h=r.child,h.memoizedState=df(a),h.childLanes=pf(t,v,a),r.memoizedState=ff,o):(rs(r),gf(r,w))}if(_=t.memoizedState,_!==null&&(w=_.dehydrated,w!==null)){if(f)r.flags&256?(rs(r),r.flags&=-257,r=mf(t,r,a)):r.memoizedState!==null?(ss(),r.child=t.child,r.flags|=128,r=null):(ss(),h=o.fallback,w=r.mode,o=Mu({mode:"visible",children:o.children},w),h=ii(h,w,a,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,ha(r,t.child,null,a),o=r.child,o.memoizedState=df(a),o.childLanes=pf(t,v,a),r.memoizedState=ff,r=h);else if(rs(r),Xf(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(s(419)),o.stack="",o.digest=v,_o({value:o,source:null,stack:null}),r=mf(t,r,a)}else if(Ct||Io(t,r,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=Je,v!==null&&(o=a&-a,o=(o&42)!==0?1:Hr(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==_.retryLane))throw _.retryLane=o,ea(t,o),fn(v,t,o),wm;w.data==="$?"||Lf(),r=mf(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=_.treeContext,at=Rn(w.nextSibling),Xt=r,je=!0,li=null,Jn=!1,t!==null&&(Sn[kn++]=Sr,Sn[kn++]=kr,Sn[kn++]=ai,Sr=t.id,kr=t.overflow,ai=r),r=gf(r,o.children),r.flags|=4096);return r}return h?(ss(),h=o.fallback,w=r.mode,_=t.child,U=_.sibling,o=Tr(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,U!==null?h=Tr(U,h):(h=ii(h,w,a,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,w=t.child.memoizedState,w===null?w=df(a):(_=w.cachePool,_!==null?(U=wt._currentValue,_=_.parent!==U?{parent:U,pool:U}:_):_=gg(),w={baseLanes:w.baseLanes|a,cachePool:_}),h.memoizedState=w,h.childLanes=pf(t,v,a),r.memoizedState=ff,o):(rs(r),a=t.child,t=a.sibling,a=Tr(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function gf(t,r){return r=Mu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mu(t,r){return t=on(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function mf(t,r,a){return ha(r,t.child,null,a),t=gf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Pm(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Rh(t.return,r,a)}function yf(t,r,a,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function xm(t,r,a){var o=r.pendingProps,h=o.revealOrder,f=o.tail;if(Dt(t,r,o.children,a),o=Tt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pm(t,a,r);else if(t.tag===19)Pm(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(X(Tt,o),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Ou(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),yf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ou(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yf(r,!0,a,null,f);break;case"together":yf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Nr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),us|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Io(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Tr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Tr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function vf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function V1(t,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),Jr(r,wt,t.memoizedState.cache),Eo();break;case 27:case 5:Br(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:Jr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(rs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Nm(t,r,a):(rs(r),t=Nr(t,r,a),t!==null?t.sibling:null);rs(r);break;case 19:var h=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(Io(t,r,a,!1),o=(a&r.childLanes)!==0),h){if(o)return xm(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Tt,Tt.current),o)break;return null;case 22:case 23:return r.lanes=0,Em(t,r,a);case 24:Jr(r,wt,t.memoizedState.cache)}return Nr(t,r,a)}function Om(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!vf(t,a)&&(r.flags&128)===0)return Ct=!1,V1(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,je&&(r.flags&1048576)!==0&&lg(r,gu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,h=o._init;if(o=h(o._payload),r.type=o,typeof o=="function")Ih(o)?(t=pi(o,t),r.tag=1,r=Cm(null,r,o,t,a)):(r.tag=0,r=hf(null,r,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===Le){r.tag=11,r=Tm(null,r,o,t,a);break e}else if(h===x){r.tag=14,r=Sm(null,r,o,t,a);break e}}throw r=xt(o)||o,Error(s(306,r,""))}}return r;case 0:return hf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,h=pi(o,r.pendingProps),Cm(t,r,o,h,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var f=r.memoizedState;h=f.element,Vh(t,r),Ro(r,o,null,a);var v=r.memoizedState;if(o=v.cache,Jr(r,wt,o),o!==f.cache&&Lh(r,[wt],a,!0),Oo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Am(t,r,o,a);break e}else if(o!==h){h=wn(Error(s(424)),r),_o(h),r=Am(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Rn(t.firstChild),Xt=r,je=!0,li=null,Jn=!0,a=cm(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Eo(),o===h){r=Nr(t,r,a);break e}Dt(t,r,o,a)}r=r.child}return r;case 26:return Du(t,r),t===null?(a=My(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,t=r.pendingProps,o=Yu(me.current).createElement(a),o[yt]=r,o[ft]=t,Ut(o,a,t),lt(o),r.stateNode=o):r.memoizedState=My(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Br(r),t===null&&je&&(o=r.stateNode=Ry(r.type,r.pendingProps,me.current),Xt=r,Jn=!0,h=at,ds(r.type)?(Jf=h,at=Rn(o.firstChild)):at=h),Dt(t,r,r.pendingProps.children,a),Du(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((h=o=at)&&(o=pT(o,r.type,r.pendingProps,Jn),o!==null?(r.stateNode=o,Xt=r,at=Rn(o.firstChild),Jn=!1,h=!0):h=!1),h||ui(r)),Br(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Wf(h,f)?o=null:v!==null&&Wf(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Kh(t,r,O1,null,null,a),tl._currentValue=h),Du(t,r),Dt(t,r,o,a),r.child;case 6:return t===null&&je&&((t=a=at)&&(a=gT(a,r.pendingProps,Jn),a!==null?(r.stateNode=a,Xt=r,at=null,t=!0):t=!1),t||ui(r)),null;case 13:return Nm(t,r,a);case 4:return Xe(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=ha(r,null,o,a):Dt(t,r,o,a),r.child;case 11:return Tm(t,r,r.type,r.pendingProps,a);case 7:return Dt(t,r,r.pendingProps,a),r.child;case 8:return Dt(t,r,r.pendingProps.children,a),r.child;case 12:return Dt(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Jr(r,r.type,o.value),Dt(t,r,o.children,a),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,hi(r),h=$t(h),o=o(h),r.flags|=1,Dt(t,r,o,a),r.child;case 14:return Sm(t,r,r.type,r.pendingProps,a);case 15:return km(t,r,r.type,r.pendingProps,a);case 19:return xm(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=Mu(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Tr(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Em(t,r,a);case 24:return hi(r),o=$t(wt),t===null?(h=Uh(),h===null&&(h=Je,f=Dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:o,cache:h},jh(r),Jr(r,wt,h)):((t.lanes&a)!==0&&(Vh(t,r),Ro(r,null,null,a),Oo()),h=t.memoizedState,f=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Jr(r,wt,o)):(o=f.cache,Jr(r,wt,o),o!==h.cache&&Lh(r,[wt],a,!0))),Dt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Pr(t){t.flags|=4}function Rm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zy(r)){if(r=En.current,r!==null&&((Oe&4194048)===Oe?Cr!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||r!==Cr))throw Po=Fh,mg;t.flags|=8192}}function Uu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?no():536870912,t.lanes|=r,ga|=r)}function Vo(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function z1(t,r,a){var o=r.pendingProps;switch(Ph(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),_r(wt),Vn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ko(r)?Pr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hg())),nt(r),null;case 26:return a=r.memoizedState,t===null?(Pr(r),a!==null?(nt(r),Rm(r,a)):(nt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Pr(r),nt(r),Rm(r,a)):(nt(r),r.flags&=-16777217):(t.memoizedProps!==o&&Pr(r),nt(r),r.flags&=-16777217),null;case 27:lr(r),a=me.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Pr(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=ue.current,ko(r)?ug(r):(t=Ry(h,o,a),r.stateNode=t,Pr(r))}return nt(r),null;case 5:if(lr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Pr(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(t=ue.current,ko(r))ug(r);else{switch(h=Yu(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[yt]=r,t[ft]=o;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ut(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pr(r)}}return nt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Pr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=me.current,ko(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[yt]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Iy(t.nodeValue,a)),t||ui(r)}else t=Yu(t).createTextNode(o),t[yt]=r,r.stateNode=t}return nt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[yt]=r}else Eo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),h=!1}else h=hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ar(r),r):(Ar(r),null)}if(Ar(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Uu(r,r.updateQueue),nt(r),null;case 4:return Vn(),t===null&&qf(r.stateNode.containerInfo),nt(r),null;case 10:return _r(r.type),nt(r),null;case 19:if(te(Tt),h=r.memoizedState,h===null)return nt(r),null;if(o=(r.flags&128)!==0,f=h.rendering,f===null)if(o)Vo(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Ou(t),f!==null){for(r.flags|=128,Vo(h,!1),t=f.updateQueue,r.updateQueue=t,Uu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)og(a,t),a=a.sibling;return X(Tt,Tt.current&1|2),r.child}t=t.sibling}h.tail!==null&&pn()>Vu&&(r.flags|=128,o=!0,Vo(h,!1),r.lanes=4194304)}else{if(!o)if(t=Ou(f),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Uu(r,t),Vo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!je)return nt(r),null}else 2*pn()-h.renderingStartTime>Vu&&a!==536870912&&(r.flags|=128,o=!0,Vo(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=pn(),r.sibling=null,t=Tt.current,X(Tt,o?t&1|2:t&1),r):(nt(r),null);case 22:case 23:return Ar(r),Bh(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&Uu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&te(fi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),_r(wt),nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $1(t,r){switch(Ph(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _r(wt),Vn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return lr(r),null;case 13:if(Ar(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Eo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(Tt),null;case 4:return Vn(),null;case 10:return _r(r.type),null;case 22:case 23:return Ar(r),Bh(),t!==null&&te(fi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return _r(wt),null;case 25:return null;default:return null}}function Lm(t,r){switch(Ph(r),r.tag){case 3:_r(wt),Vn();break;case 26:case 27:case 5:lr(r);break;case 4:Vn();break;case 13:Ar(r);break;case 19:te(Tt);break;case 10:_r(r.type);break;case 22:case 23:Ar(r),Bh(),t!==null&&te(fi);break;case 24:_r(wt)}}function zo(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(w){Ye(r,r.return,w)}}function is(t,r,a){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var _=a,U=w;try{U()}catch(q){Ye(h,_,q)}}}o=o.next}while(o!==f)}}catch(q){Ye(r,r.return,q)}}function Dm(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Sg(r,a)}catch(o){Ye(t,t.return,o)}}}function Mm(t,r,a){a.props=pi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,r,o)}}function $o(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,r,h)}}function Zn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,r,h)}else a.current=null}function Um(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function bf(t,r,a){try{var o=t.stateNode;uT(o,t.type,a,r),o[ft]=r}catch(h){Ye(t,t.return,h)}}function Fm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Qu));else if(o!==4&&(o===27&&ds(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Tf(t,r,a),t=t.sibling;t!==null;)Tf(t,r,a),t=t.sibling}function Fu(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&ds(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fu(t,r,a),t=t.sibling;t!==null;)Fu(t,r,a),t=t.sibling}function jm(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ut(r,o,a),r[yt]=t,r[ft]=a}catch(f){Ye(t,t.return,f)}}var xr=!1,ct=!1,Sf=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,At=null;function q1(t,r){if(t=t.containerInfo,Kf=nc,t=Xp(t),bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,w=-1,_=-1,U=0,q=0,H=t,F=null;t:for(;;){for(var j;H!==a||h!==0&&H.nodeType!==3||(w=v+h),H!==f||o!==0&&H.nodeType!==3||(_=v+o),H.nodeType===3&&(v+=H.nodeValue.length),(j=H.firstChild)!==null;)F=H,H=j;for(;;){if(H===t)break t;if(F===a&&++U===h&&(w=v),F===f&&++q===o&&(_=v),(j=H.nextSibling)!==null)break;H=F,F=H.parentNode}H=j}a=w===-1||_===-1?null:{start:w,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:t,selectionRange:a},nc=!1,At=r;At!==null;)if(r=At,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,At=t;else for(;At!==null;){switch(r=At,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var de=pi(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(de,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Ye(a,a.return,ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Yf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,At=t;break}At=r.return}}function zm(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),o&4&&zo(5,a);break;case 1:if(as(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var h=pi(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}o&64&&Dm(a),o&512&&$o(a,a.return);break;case 3:if(as(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Sg(t,r)}catch(v){Ye(a,a.return,v)}}break;case 27:r===null&&o&4&&jm(a);case 26:case 5:as(t,a),r===null&&o&4&&Um(a),o&512&&$o(a,a.return);break;case 12:as(t,a);break;case 13:as(t,a),o&4&&Bm(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=J1.bind(null,a),mT(t,a))));break;case 22:if(o=a.memoizedState!==null||xr,!o){r=r!==null&&r.memoizedState!==null||ct,h=xr;var f=ct;xr=o,(ct=r)&&!f?os(t,a,(a.subtreeFlags&8772)!==0):as(t,a),xr=h,ct=f}break;case 30:break;default:as(t,a)}}function $m(t){var r=t.alternate;r!==null&&(t.alternate=null,$m(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Wr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,en=!1;function Or(t,r,a){for(a=a.child;a!==null;)qm(t,r,a),a=a.sibling}function qm(t,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(it,a)}catch{}switch(a.tag){case 26:ct||Zn(a,r),Or(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Zn(a,r);var o=tt,h=en;ds(a.type)&&(tt=a.stateNode,en=!1),Or(t,r,a),Xo(a.stateNode),tt=o,en=h;break;case 5:ct||Zn(a,r);case 6:if(o=tt,h=en,tt=null,Or(t,r,a),tt=o,en=h,tt!==null)if(en)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(f){Ye(a,r,f)}else try{tt.removeChild(a.stateNode)}catch(f){Ye(a,r,f)}break;case 18:tt!==null&&(en?(t=tt,xy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),il(t)):xy(tt,a.stateNode));break;case 4:o=tt,h=en,tt=a.stateNode.containerInfo,en=!0,Or(t,r,a),tt=o,en=h;break;case 0:case 11:case 14:case 15:ct||is(2,a,r),ct||is(4,a,r),Or(t,r,a);break;case 1:ct||(Zn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Mm(a,r,o)),Or(t,r,a);break;case 21:Or(t,r,a);break;case 22:ct=(o=ct)||a.memoizedState!==null,Or(t,r,a),ct=o;break;default:Or(t,r,a)}}function Bm(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(a){Ye(r,r.return,a)}}function B1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Vm),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Vm),r;default:throw Error(s(435,t.tag))}}function kf(t,r){var a=B1(t);r.forEach(function(o){var h=Z1.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function ln(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(ds(w.type)){tt=w.stateNode,en=!1;break e}break;case 5:tt=w.stateNode,en=!1;break e;case 3:case 4:tt=w.stateNode.containerInfo,en=!0;break e}w=w.return}if(tt===null)throw Error(s(160));qm(f,v,h),tt=null,en=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Hm(r,t),r=r.sibling}var On=null;function Hm(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(r,t),un(t),o&4&&(is(3,t,t.return),zo(3,t),is(5,t,t.return));break;case 1:ln(r,t),un(t),o&512&&(ct||a===null||Zn(a,a.return)),o&64&&xr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=On;if(ln(r,t),un(t),o&512&&(ct||a===null||Zn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qs]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ut(f,o,a),f[yt]=t,lt(f),o=f;break e;case"link":var v=jy("link","href",h).get(o+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}f=h.createElement(o),Ut(f,o,a),h.head.appendChild(f);break;case"meta":if(v=jy("meta","content",h).get(o+(a.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}f=h.createElement(o),Ut(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[yt]=t,lt(f),o=f}t.stateNode=o}else Vy(h,t.type,t.stateNode);else t.stateNode=Fy(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Vy(h,t.type,t.stateNode):Fy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(r,t),un(t),o&512&&(ct||a===null||Zn(a,a.return)),a!==null&&o&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(r,t),un(t),o&512&&(ct||a===null||Zn(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(j){Ye(t,t.return,j)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(ln(r,t),un(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(j){Ye(t,t.return,j)}}break;case 3:if(Zu=null,h=On,On=Xu(r.containerInfo),ln(r,t),On=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{il(r.containerInfo)}catch(j){Ye(t,t.return,j)}Sf&&(Sf=!1,Km(t));break;case 4:o=On,On=Xu(t.stateNode.containerInfo),ln(r,t),un(t),On=o;break;case 12:ln(r,t),un(t);break;case 13:ln(r,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nf=pn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,kf(t,o)));break;case 22:h=t.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,U=xr,q=ct;if(xr=U||h,ct=q||_,ln(r,t),ct=q,xr=U,un(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||_||xr||ct||gi(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){_=a=r;try{if(f=_.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=_.stateNode;var H=_.memoizedProps.style,F=H!=null&&H.hasOwnProperty("display")?H.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(j){Ye(_,_.return,j)}}}else if(r.tag===6){if(a===null){_=r;try{_.stateNode.nodeValue=h?"":_.memoizedProps}catch(j){Ye(_,_.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,kf(t,a))));break;case 19:ln(r,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,kf(t,o)));break;case 30:break;case 21:break;default:ln(r,t),un(t)}}function un(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Fm(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=wf(t);Fu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var w=wf(t);Fu(t,w,v);break;case 3:case 4:var _=a.stateNode.containerInfo,U=wf(t);Tf(t,U,_);break;default:throw Error(s(161))}}catch(q){Ye(t,t.return,q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Km(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Km(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function as(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zm(t,r.alternate,r),r=r.sibling}function gi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:is(4,r,r.return),gi(r);break;case 1:Zn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Mm(r,r.return,a),gi(r);break;case 27:Xo(r.stateNode);case 26:case 5:Zn(r,r.return),gi(r);break;case 22:r.memoizedState===null&&gi(r);break;case 30:gi(r);break;default:gi(r)}t=t.sibling}}function os(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),zo(4,f);break;case 1:if(os(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ye(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var w=o.stateNode;try{var _=h.shared.hiddenCallbacks;if(_!==null)for(h.shared.hiddenCallbacks=null,h=0;h<_.length;h++)Tg(_[h],w)}catch(U){Ye(o,o.return,U)}}a&&v&64&&Dm(f),$o(f,f.return);break;case 27:jm(f);case 26:case 5:os(h,f,a),a&&o===null&&v&4&&Um(f),$o(f,f.return);break;case 12:os(h,f,a);break;case 13:os(h,f,a),a&&v&4&&Bm(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),$o(f,f.return);break;case 30:break;default:os(h,f,a)}r=r.sibling}}function Ef(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Co(a))}function _f(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Co(t))}function er(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gm(t,r,a,o),r=r.sibling}function Gm(t,r,a,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,a,o),h&2048&&zo(9,r);break;case 1:er(t,r,a,o);break;case 3:er(t,r,a,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Co(t)));break;case 12:if(h&2048){er(t,r,a,o),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){Ye(r,r.return,_)}}else er(t,r,a,o);break;case 13:er(t,r,a,o);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?er(t,r,a,o):qo(t,r):f._visibility&2?er(t,r,a,o):(f._visibility|=2,fa(t,r,a,o,(r.subtreeFlags&10256)!==0)),h&2048&&Ef(v,r);break;case 24:er(t,r,a,o),h&2048&&_f(r.alternate,r);break;default:er(t,r,a,o)}}function fa(t,r,a,o,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,v=r,w=a,_=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:fa(f,v,w,_,h),zo(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?fa(f,v,w,_,h):qo(f,v):(q._visibility|=2,fa(f,v,w,_,h)),h&&U&2048&&Ef(v.alternate,v);break;case 24:fa(f,v,w,_,h),h&&U&2048&&_f(v.alternate,v);break;default:fa(f,v,w,_,h)}r=r.sibling}}function qo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,h=o.flags;switch(o.tag){case 22:qo(a,o),h&2048&&Ef(o.alternate,o);break;case 24:qo(a,o),h&2048&&_f(o.alternate,o);break;default:qo(a,o)}r=r.sibling}}var Bo=8192;function da(t){if(t.subtreeFlags&Bo)for(t=t.child;t!==null;)Wm(t),t=t.sibling}function Wm(t){switch(t.tag){case 26:da(t),t.flags&Bo&&t.memoizedState!==null&&NT(On,t.memoizedState,t.memoizedProps);break;case 5:da(t);break;case 3:case 4:var r=On;On=Xu(t.stateNode.containerInfo),da(t),On=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Bo,Bo=16777216,da(t),Bo=r):da(t));break;default:da(t)}}function Qm(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ho(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];At=o,Xm(o,t)}Qm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ym(t),t=t.sibling}function Ym(t){switch(t.tag){case 0:case 11:case 15:Ho(t),t.flags&2048&&is(9,t,t.return);break;case 3:Ho(t);break;case 12:Ho(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,ju(t)):Ho(t);break;default:Ho(t)}}function ju(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];At=o,Xm(o,t)}Qm(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:is(8,r,r.return),ju(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ju(r));break;default:ju(r)}t=t.sibling}}function Xm(t,r){for(;At!==null;){var a=At;switch(a.tag){case 0:case 11:case 15:is(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,At=o;else e:for(a=t;At!==null;){o=At;var h=o.sibling,f=o.return;if($m(o),o===a){At=null;break e}if(h!==null){h.return=f,At=h;break e}At=f}}}var H1={getCacheForType:function(t){var r=$t(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},K1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Je=null,Ce=null,Oe=0,Be=0,cn=null,ls=!1,pa=!1,If=!1,Rr=0,ot=0,us=0,mi=0,Cf=0,_n=0,ga=0,Ko=null,tn=null,Af=!1,Nf=0,Vu=1/0,zu=null,cs=null,Mt=0,hs=null,ma=null,ya=0,Pf=0,xf=null,Jm=null,Go=0,Of=null;function hn(){if((qe&2)!==0&&Oe!==0)return Oe&-Oe;if($.T!==null){var t=sa;return t!==0?t:jf()}return Kr()}function Zm(){_n===0&&(_n=(Oe&536870912)===0||je?to():536870912);var t=En.current;return t!==null&&(t.flags|=32),_n}function fn(t,r,a){(t===Je&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(va(t,0),fs(t,Oe,_n,!1)),cr(t,a),((qe&2)===0||t!==Je)&&(t===Je&&((qe&2)===0&&(mi|=a),ot===4&&fs(t,Oe,_n,!1)),tr(t))}function ey(t,r,a){if((qe&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||$s(t,r),h=o?Q1(t,r):Df(t,r,!0),f=o;do{if(h===0){pa&&!o&&fs(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!G1(a)){h=Df(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;h=Ko;var _=w.current.memoizedState.isDehydrated;if(_&&(va(w,v).flags|=256),v=Df(w,v,!1),v!==2){if(If&&!_){w.errorRecoveryDisabledLanes|=f,mi|=f,h=4;break e}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){va(t,0),fs(t,r,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fs(o,r,_n,!ls);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Nf+300-pn(),10<h)){if(fs(o,r,_n,!ls),Di(o,0,!0)!==0)break e;o.timeoutHandle=Ny(ty.bind(null,o,a,tn,zu,Af,r,_n,mi,ga,ls,f,2,-0,0),h);break e}ty(o,a,tn,zu,Af,r,_n,mi,ga,ls,f,0,-0,0)}}break}while(!0);tr(t)}function ty(t,r,a,o,h,f,v,w,_,U,q,H,F,j){if(t.timeoutHandle=-1,H=r.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:AT},Wm(r),H=PT(),H!==null)){t.cancelPendingCommit=H(ly.bind(null,t,r,f,a,o,h,v,w,_,q,1,F,j)),fs(t,f,v,!U);return}ly(t,r,f,a,o,h,v,w,_)}function G1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fs(t,r,a,o){r&=~Cf,r&=~mi,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var f=31-zt(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&zn(t,a,r)}function $u(){return(qe&6)===0?(Wo(0),!1):!0}function Rf(){if(Ce!==null){if(Be===0)var t=Ce.return;else t=Ce,Er=ci=null,Qh(t),ca=null,Fo=0,t=Ce;for(;t!==null;)Lm(t.alternate,t),t=t.return;Ce=null}}function va(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rf(),Je=t,Ce=a=Tr(t.current,null),Oe=r,Be=0,cn=null,ls=!1,pa=$s(t,r),If=!1,ga=_n=Cf=mi=us=ot=0,tn=Ko=null,Af=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-zt(o),f=1<<h;r|=t[h],o&=~f}return Rr=r,cu(),a}function ny(t,r){ke=null,$.H=Nu,r===No||r===bu?(r=bg(),Be=3):r===mg?(r=bg(),Be=4):Be=r===wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,cn=r,Ce===null&&(ot=1,Lu(t,wn(r,t.current)))}function ry(){var t=$.H;return $.H=Nu,t===null?Nu:t}function sy(){var t=$.A;return $.A=H1,t}function Lf(){ot=4,ls||(Oe&4194048)!==Oe&&En.current!==null||(pa=!0),(us&134217727)===0&&(mi&134217727)===0||Je===null||fs(Je,Oe,_n,!1)}function Df(t,r,a){var o=qe;qe|=2;var h=ry(),f=sy();(Je!==t||Oe!==r)&&(zu=null,va(t,r)),r=!1;var v=ot;e:do try{if(Be!==0&&Ce!==null){var w=Ce,_=cn;switch(Be){case 8:Rf(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(r=!0);var U=Be;if(Be=0,cn=null,ba(t,w,_,U),a&&pa){v=0;break e}break;default:U=Be,Be=0,cn=null,ba(t,w,_,U)}}W1(),v=ot;break}catch(q){ny(t,q)}while(!0);return r&&t.shellSuspendCounter++,Er=ci=null,qe=o,$.H=h,$.A=f,Ce===null&&(Je=null,Oe=0,cu()),v}function W1(){for(;Ce!==null;)iy(Ce)}function Q1(t,r){var a=qe;qe|=2;var o=ry(),h=sy();Je!==t||Oe!==r?(zu=null,Vu=pn()+500,va(t,r)):pa=$s(t,r);e:do try{if(Be!==0&&Ce!==null){r=Ce;var f=cn;t:switch(Be){case 1:Be=0,cn=null,ba(t,r,f,1);break;case 2:case 9:if(yg(f)){Be=0,cn=null,ay(r);break}r=function(){Be!==2&&Be!==9||Je!==t||(Be=7),tr(t)},f.then(r,r);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:yg(f)?(Be=0,cn=null,ay(r)):(Be=0,cn=null,ba(t,r,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var w=Ce;if(!v||zy(v)){Be=0,cn=null;var _=w.sibling;if(_!==null)Ce=_;else{var U=w.return;U!==null?(Ce=U,qu(U)):Ce=null}break t}}Be=0,cn=null,ba(t,r,f,5);break;case 6:Be=0,cn=null,ba(t,r,f,6);break;case 8:Rf(),ot=6;break e;default:throw Error(s(462))}}Y1();break}catch(q){ny(t,q)}while(!0);return Er=ci=null,$.H=o,$.A=h,qe=a,Ce!==null?0:(Je=null,Oe=0,cu(),ot)}function Y1(){for(;Ce!==null&&!Xa();)iy(Ce)}function iy(t){var r=Om(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,r===null?qu(t):Ce=r}function ay(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Im(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Im(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Qh(r);default:Lm(a,r),r=Ce=og(r,Rr),r=Om(a,r,Rr)}t.memoizedProps=t.pendingProps,r===null?qu(t):Ce=r}function ba(t,r,a,o){Er=ci=null,Qh(r),ca=null,Fo=0;var h=r.return;try{if(j1(t,h,r,a,Oe)){ot=1,Lu(t,wn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ot=1,Lu(t,wn(a,t.current)),Ce=null;return}r.flags&32768?(je||o===1?t=!0:pa||(Oe&536870912)!==0?t=!1:(ls=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),oy(r,t)):qu(r)}function qu(t){var r=t;do{if((r.flags&32768)!==0){oy(r,ls);return}t=r.return;var a=z1(r.alternate,r,Rr);if(a!==null){Ce=a;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=t}while(r!==null);ot===0&&(ot=5)}function oy(t,r){do{var a=$1(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ot=6,Ce=null}function ly(t,r,a,o,h,f,v,w,_){t.cancelPendingCommit=null;do Bu();while(Mt!==0);if((qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Eh,ro(t,a,f,v,w,_),t===Je&&(Ce=Je=null,Oe=0),ma=r,hs=t,ya=a,Pf=f,xf=h,Jm=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(Fs,function(){return dy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=ee.p,ee.p=2,v=qe,qe|=4;try{q1(t,r,a)}finally{qe=v,ee.p=h,$.T=o}}Mt=1,uy(),cy(),hy()}}function uy(){if(Mt===1){Mt=0;var t=hs,r=ma,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var o=ee.p;ee.p=2;var h=qe;qe|=4;try{Hm(r,t);var f=Gf,v=Xp(t.containerInfo),w=f.focusedElem,_=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Yp(w.ownerDocument.documentElement,w)){if(_!==null&&bh(w)){var U=_.start,q=_.end;if(q===void 0&&(q=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min(q,w.value.length);else{var H=w.ownerDocument||document,F=H&&H.defaultView||window;if(F.getSelection){var j=F.getSelection(),de=w.textContent.length,ce=Math.min(_.start,de),We=_.end===void 0?ce:Math.min(_.end,de);!j.extend&&ce>We&&(v=We,We=ce,ce=v);var R=Qp(w,ce),N=Qp(w,We);if(R&&N&&(j.rangeCount!==1||j.anchorNode!==R.node||j.anchorOffset!==R.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var M=H.createRange();M.setStart(R.node,R.offset),j.removeAllRanges(),ce>We?(j.addRange(M),j.extend(N.node,N.offset)):(M.setEnd(N.node,N.offset),j.addRange(M))}}}}for(H=[],j=w;j=j.parentNode;)j.nodeType===1&&H.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<H.length;w++){var B=H[w];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}nc=!!Kf,Gf=Kf=null}finally{qe=h,ee.p=o,$.T=a}}t.current=r,Mt=2}}function cy(){if(Mt===2){Mt=0;var t=hs,r=ma,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var o=ee.p;ee.p=2;var h=qe;qe|=4;try{zm(t,r.alternate,r)}finally{qe=h,ee.p=o,$.T=a}}Mt=3}}function hy(){if(Mt===4||Mt===3){Mt=0,jl();var t=hs,r=ma,a=ya,o=Jm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Mt=5:(Mt=0,ma=hs=null,fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cs=null),Mi(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=$.T,h=ee.p,ee.p=2,$.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var w=o[v];f(w.value,{componentStack:w.stack})}}finally{$.T=r,ee.p=h}}(ya&3)!==0&&Bu(),tr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Of?Go++:(Go=0,Of=t):Go=0,Wo(0)}}function fy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Co(r)))}function Bu(t){return uy(),cy(),hy(),dy()}function dy(){if(Mt!==5)return!1;var t=hs,r=Pf;Pf=0;var a=Mi(ya),o=$.T,h=ee.p;try{ee.p=32>a?32:a,$.T=null,a=xf,xf=null;var f=hs,v=ya;if(Mt=0,ma=hs=null,ya=0,(qe&6)!==0)throw Error(s(331));var w=qe;if(qe|=4,Ym(f.current),Gm(f,f.current,v,a),qe=w,Wo(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(it,f)}catch{}return!0}finally{ee.p=h,$.T=o,fy(t,r)}}function py(t,r,a){r=wn(a,r),r=cf(t.stateNode,r,2),t=ts(t,r,2),t!==null&&(cr(t,2),tr(t))}function Ye(t,r,a){if(t.tag===3)py(t,t,a);else for(;r!==null;){if(r.tag===3){py(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cs===null||!cs.has(o))){t=wn(a,t),a=vm(2),o=ts(r,a,2),o!==null&&(bm(a,o,r,t),cr(o,2),tr(o));break}}r=r.return}}function Mf(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new K1;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(a)||(If=!0,h.add(a),t=X1.bind(null,t,r,a),r.then(t,t))}function X1(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Oe&a)===a&&(ot===4||ot===3&&(Oe&62914560)===Oe&&300>pn()-Nf?(qe&2)===0&&va(t,0):Cf|=a,ga===Oe&&(ga=0)),tr(t)}function gy(t,r){r===0&&(r=no()),t=ea(t,r),t!==null&&(cr(t,r),tr(t))}function J1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),gy(t,a)}function Z1(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),gy(t,a)}function eT(t,r){return Ms(t,r)}var Hu=null,wa=null,Uf=!1,Ku=!1,Ff=!1,yi=0;function tr(t){t!==wa&&t.next===null&&(wa===null?Hu=wa=t:wa=wa.next=t),Ku=!0,Uf||(Uf=!0,nT())}function Wo(t,r){if(!Ff&&Ku){Ff=!0;do for(var a=!1,o=Hu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=h&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,by(o,f))}else f=Oe,f=Di(o,o===Je?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$s(o,f)||(a=!0,by(o,f));o=o.next}while(a);Ff=!1}}function tT(){my()}function my(){Ku=Uf=!1;var t=0;yi!==0&&(cT()&&(t=yi),yi=0);for(var r=pn(),a=null,o=Hu;o!==null;){var h=o.next,f=yy(o,r);f===0?(o.next=null,a===null?Hu=h:a.next=h,h===null&&(wa=a)):(a=o,(t!==0||(f&3)!==0)&&(Ku=!0)),o=h}Wo(t)}function yy(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-zt(f),w=1<<v,_=h[v];_===-1?((w&a)===0||(w&o)!==0)&&(h[v]=eo(w,r)):_<=r&&(t.expiredLanes|=w),f&=~w}if(r=Je,a=Oe,a=Di(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Us(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$s(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Us(o),Mi(a)){case 2:case 8:a=Ri;break;case 32:a=Fs;break;case 268435456:a=Li;break;default:a=Fs}return o=vy.bind(null,t),a=Ms(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Us(o),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,r){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bu()&&t.callbackNode!==a)return null;var o=Oe;return o=Di(t,t===Je?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ey(t,o,r),yy(t,pn()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function by(t,r){if(Bu())return null;ey(t,r,!0)}function nT(){fT(function(){(qe&6)!==0?Ms(Ja,tT):my()})}function jf(){return yi===0&&(yi=to()),yi}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$i(""+t)}function Ty(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function rT(t,r,a,o,h){if(r==="submit"&&a&&a.stateNode===h){var f=wy((h[ft]||null).action),v=o.submitter;v&&(r=(r=v[ft]||null)?wy(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var w=new qi("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(yi!==0){var _=v?Ty(h,v):new FormData(h);sf(a,{pending:!0,data:_,method:h.method,action:f},null,_)}}else typeof f=="function"&&(w.preventDefault(),_=v?Ty(h,v):new FormData(h),sf(a,{pending:!0,data:_,method:h.method,action:f},f,_))},currentTarget:h}]})}}for(var Vf=0;Vf<kh.length;Vf++){var zf=kh[Vf],sT=zf.toLowerCase(),iT=zf[0].toUpperCase()+zf.slice(1);xn(sT,"on"+iT)}xn(eg,"onAnimationEnd"),xn(tg,"onAnimationIteration"),xn(ng,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(S1,"onTransitionRun"),xn(k1,"onTransitionStart"),xn(E1,"onTransitionCancel"),xn(rg,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function Sy(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(r)for(var v=o.length-1;0<=v;v--){var w=o[v],_=w.instance,U=w.currentTarget;if(w=w.listener,_!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=U;try{f(h)}catch(q){Ru(q)}h.currentTarget=null,f=_}else for(v=0;v<o.length;v++){if(w=o[v],_=w.instance,U=w.currentTarget,w=w.listener,_!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=U;try{f(h)}catch(q){Ru(q)}h.currentTarget=null,f=_}}}}function Ae(t,r){var a=r[io];a===void 0&&(a=r[io]=new Set);var o=t+"__bubble";a.has(o)||(ky(r,t,2,!1),a.add(o))}function $f(t,r,a){var o=0;r&&(o|=4),ky(a,t,o,r)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[Gu]){t[Gu]=!0,ao.forEach(function(a){a!=="selectionchange"&&(aT.has(a)||$f(a,!1,t),$f(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Gu]||(r[Gu]=!0,$f("selectionchange",!1,r))}}function ky(t,r,a,o){switch(Gy(r)){case 2:var h=RT;break;case 8:h=LT;break;default:h=rd}a=h.bind(null,r,a,t),h=void 0,!vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Bf(t,r,a,o,h){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var w=o.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=o.return;v!==null;){var _=v.tag;if((_===3||_===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=hr(w),v===null)return;if(_=v.tag,_===5||_===6||_===26||_===27){o=f=v;continue e}w=w.parentNode}}o=o.return}Ql(function(){var U=f,q=yn(a),H=[];e:{var F=sg.get(t);if(F!==void 0){var j=qi,de=t;switch(t){case"keypress":if(Gn(a)===0)break e;case"keydown":case"keyup":j=Qi;break;case"focusin":de="focus",j=Ki;break;case"focusout":de="blur",j=Ki;break;case"beforeblur":case"afterblur":j=Ki;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ru;break;case eg:case tg:case ng:j=Gi;break;case rg:j=iu;break;case"scroll":case"scrollend":j=Yl;break;case"wheel":j=Yi;break;case"copy":case"cut":case"paste":j=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bo;break;case"toggle":case"beforetoggle":j=ou}var ce=(r&4)!==0,We=!ce&&(t==="scroll"||t==="scrollend"),R=ce?F!==null?F+"Capture":null:F;ce=[];for(var N=U,M;N!==null;){var B=N;if(M=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||M===null||R===null||(B=Ys(N,R),B!=null&&ce.push(Yo(N,B,M))),We)break;N=N.return}0<ce.length&&(F=new j(F,de,null,a,q),H.push({event:F,listeners:ce}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",F&&a!==gr&&(de=a.relatedTarget||a.fromElement)&&(hr(de)||de[gn]))break e;if((j||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,j?(de=a.relatedTarget||a.toElement,j=U,de=de?hr(de):null,de!==null&&(We=c(de),ce=de.tag,de!==We||ce!==5&&ce!==27&&ce!==6)&&(de=null)):(j=null,de=U),j!==de)){if(ce=bn,B="onMouseLeave",R="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ce=bo,B="onPointerLeave",R="onPointerEnter",N="pointer"),We=j==null?F:qn(j),M=de==null?F:qn(de),F=new ce(B,N+"leave",j,a,q),F.target=We,F.relatedTarget=M,B=null,hr(q)===U&&(ce=new ce(R,N+"enter",de,a,q),ce.target=M,ce.relatedTarget=We,B=ce),We=B,j&&de)t:{for(ce=j,R=de,N=0,M=ce;M;M=Ta(M))N++;for(M=0,B=R;B;B=Ta(B))M++;for(;0<N-M;)ce=Ta(ce),N--;for(;0<M-N;)R=Ta(R),M--;for(;N--;){if(ce===R||R!==null&&ce===R.alternate)break t;ce=Ta(ce),R=Ta(R)}ce=null}else ce=null;j!==null&&Ey(H,F,j,ce,!1),de!==null&&We!==null&&Ey(H,We,de,ce,!0)}}e:{if(F=U?qn(U):window,j=F.nodeName&&F.nodeName.toLowerCase(),j==="select"||j==="input"&&F.type==="file")var se=qp;else if(Rt(F))if(Bp)se=b1;else{se=y1;var Ie=m1}else j=F.nodeName,!j||j.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?U&&ho(U.elementType)&&(se=qp):se=v1;if(se&&(se=se(t,U))){wr(H,se,a,q);break e}Ie&&Ie(t,F,U),t==="focusout"&&U&&F.type==="number"&&U.memoizedProps.value!=null&&Yr(F,"number",F.value)}switch(Ie=U?qn(U):window,t){case"focusin":(Rt(Ie)||Ie.contentEditable==="true")&&(Xi=Ie,wh=U,So=null);break;case"focusout":So=wh=Xi=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Jp(H,a,q);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Jp(H,a,q)}var ae;if(Yn)e:{switch(t){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else De?z(t,a)&&(he="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(y&&a.locale!=="ko"&&(De||he!=="onCompositionStart"?he==="onCompositionEnd"&&De&&(ae=po()):(Kn=q,Xr="value"in Kn?Kn.value:Kn.textContent,De=!0)),Ie=Wu(U,he),0<Ie.length&&(he=new yo(he,t,null,a,q),H.push({event:he,listeners:Ie}),ae?he.data=ae:(ae=J(a),ae!==null&&(he.data=ae)))),(ae=p?bt(t,a):Fe(t,a))&&(he=Wu(U,"onBeforeInput"),0<he.length&&(Ie=new yo("onBeforeInput","beforeinput",null,a,q),H.push({event:Ie,listeners:he}),Ie.data=ae)),rT(H,t,U,a,q)}Sy(H,r)})}function Yo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Wu(t,r){for(var a=r+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ys(t,a),h!=null&&o.unshift(Yo(t,h,f)),h=Ys(t,r),h!=null&&o.push(Yo(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ey(t,r,a,o,h){for(var f=r._reactName,v=[];a!==null&&a!==o;){var w=a,_=w.alternate,U=w.stateNode;if(w=w.tag,_!==null&&_===o)break;w!==5&&w!==26&&w!==27||U===null||(_=U,h?(U=Ys(a,f),U!=null&&v.unshift(Yo(a,U,_))):h||(U=Ys(a,f),U!=null&&v.push(Yo(a,U,_)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var oT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(lT,"")}function Iy(t,r){return r=_y(r),_y(t)===r}function Qu(){}function Ge(t,r,a,o,h,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&mn(t,""+o);break;case"className":Bn(t,"class",o);break;case"tabIndex":Bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,o);break;case"style":co(t,o,f);break;case"data":if(r!=="object"){Bn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=$i(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Ge(t,r,"name",h.name,h,null),Ge(t,r,"formEncType",h.formEncType,h,null),Ge(t,r,"formMethod",h.formMethod,h,null),Ge(t,r,"formTarget",h.formTarget,h,null)):(Ge(t,r,"encType",h.encType,h,null),Ge(t,r,"method",h.method,h,null),Ge(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=$i(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Qu);break;case"onScroll":o!=null&&Ae("scroll",t);break;case"onScrollEnd":o!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=$i(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Qr(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Qr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dh.get(a)||a,Qr(t,a,o))}}function Hf(t,r,a,o,h,f){switch(a){case"style":co(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&Ae("scroll",t);break;case"onScrollEnd":o!=null&&Ae("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ui.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Qr(t,a,o)}}}function Ut(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ge(t,r,f,v,a,null)}}h&&Ge(t,r,"srcSet",a.srcSet,a,null),o&&Ge(t,r,"src",a.src,a,null);return;case"input":Ae("invalid",t);var w=f=v=h=null,_=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var q=a[o];if(q!=null)switch(o){case"name":h=q;break;case"type":v=q;break;case"checked":_=q;break;case"defaultChecked":U=q;break;case"value":f=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Ge(t,r,o,q,a,null)}}Gs(t,f,w,_,U,v,h,!1),zi(t);return;case"select":Ae("invalid",t),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":o=w;default:Ge(t,r,h,w,a,null)}r=f,a=v,t.multiple=!!o,r!=null?pr(t,!!o,r,!1):a!=null&&pr(t,!!o,a,!0);return;case"textarea":Ae("invalid",t),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":o=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ge(t,r,v,w,a,null)}Ws(t,o,h,f),zi(t);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(o=a[_],o!=null))switch(_){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(t,r,_,o,a,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Ae(Qo[o],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ge(t,r,U,o,a,null)}return;default:if(ho(r)){for(q in a)a.hasOwnProperty(q)&&(o=a[q],o!==void 0&&Hf(t,r,q,o,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null&&Ge(t,r,w,o,a,null))}function uT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,w=null,_=null,U=null,q=null;for(j in a){var H=a[j];if(a.hasOwnProperty(j)&&H!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":_=H;default:o.hasOwnProperty(j)||Ge(t,r,j,null,o,H)}}for(var F in o){var j=o[F];if(H=a[F],o.hasOwnProperty(F)&&(j!=null||H!=null))switch(F){case"type":f=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":q=j;break;case"value":v=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==H&&Ge(t,r,F,j,o,H)}}sn(t,v,w,_,U,q,f,h);return;case"select":j=v=w=F=null;for(f in a)if(_=a[f],a.hasOwnProperty(f)&&_!=null)switch(f){case"value":break;case"multiple":j=_;default:o.hasOwnProperty(f)||Ge(t,r,f,null,o,_)}for(h in o)if(f=o[h],_=a[h],o.hasOwnProperty(h)&&(f!=null||_!=null))switch(h){case"value":F=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==_&&Ge(t,r,h,f,o,_)}r=w,a=v,o=j,F!=null?pr(t,!!a,F,!1):!!o!=!!a&&(r!=null?pr(t,!!a,r,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":j=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ge(t,r,w,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":F=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ge(t,r,v,h,o,f)}He(t,F,j);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Ge(t,r,de,null,o,F)}for(_ in o)if(F=o[_],j=a[_],o.hasOwnProperty(_)&&F!==j&&(F!=null||j!=null))switch(_){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ge(t,r,_,F,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!o.hasOwnProperty(ce)&&Ge(t,r,ce,null,o,F);for(U in o)if(F=o[U],j=a[U],o.hasOwnProperty(U)&&F!==j&&(F!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ge(t,r,U,F,o,j)}return;default:if(ho(r)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!o.hasOwnProperty(We)&&Hf(t,r,We,void 0,o,F);for(q in o)F=o[q],j=a[q],!o.hasOwnProperty(q)||F===j||F===void 0&&j===void 0||Hf(t,r,q,F,o,j);return}}for(var R in a)F=a[R],a.hasOwnProperty(R)&&F!=null&&!o.hasOwnProperty(R)&&Ge(t,r,R,null,o,F);for(H in o)F=o[H],j=a[H],!o.hasOwnProperty(H)||F===j||F==null&&j==null||Ge(t,r,H,F,o,j)}var Kf=null,Gf=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Wf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qf=null;function cT(){var t=window.event;return t&&t.type==="popstate"?t===Qf?!1:(Qf=t,!0):(Qf=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(dT)}:Ny;function dT(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function xy(t,r){var a=r,o=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&Xo(v.documentElement),a&2&&Xo(v.body),a&4)for(a=v.head,Xo(a),v=a.firstChild;v;){var w=v.nextSibling,_=v.nodeName;v[qs]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){t.removeChild(f),il(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);il(r)}function Yf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yf(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pT(t,r,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Rn(t.nextSibling),t===null)break}return null}function gT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Rn(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mT(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Rn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Jf=null;function Oy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Ry(t,r,a){switch(r=Yu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Wr(t)}var In=new Map,Ly=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Lr=ee.d;ee.d={f:yT,r:vT,D:bT,C:wT,L:TT,m:ST,X:ET,S:kT,M:_T};function yT(){var t=Lr.f(),r=$u();return t||r}function vT(t){var r=$n(t);r!==null&&r.tag===5&&r.type==="form"?em(r):Lr.r(t)}var Sa=typeof document>"u"?null:document;function Dy(t,r,a){var o=Sa;if(o&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),Ut(r,"link",t),lt(r),o.head.appendChild(r)))}}function bT(t){Lr.D(t),Dy("dns-prefetch",t,null)}function wT(t,r){Lr.C(t,r),Dy("preconnect",t,r)}function TT(t,r,a){Lr.L(t,r,a);var o=Sa;if(o&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var f=h;switch(r){case"style":f=ka(t);break;case"script":f=Ea(t)}In.has(f)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),In.set(f,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Jo(f))||r==="script"&&o.querySelector(Zo(f))||(r=o.createElement("link"),Ut(r,"link",t),lt(r),o.head.appendChild(r)))}}function ST(t,r){Lr.m(t,r);var a=Sa;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(o)+'"][href="'+vt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ea(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},r),In.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zo(f)))return}o=a.createElement("link"),Ut(o,"link",t),lt(o),a.head.appendChild(o)}}}function kT(t,r,a){Lr.S(t,r,a);var o=Sa;if(o&&t){var h=Wt(o).hoistableStyles,f=ka(t);r=r||"default";var v=h.get(f);if(!v){var w={loading:0,preload:null};if(v=o.querySelector(Jo(f)))w.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=In.get(f))&&Zf(t,a);var _=v=o.createElement("link");lt(_),Ut(_,"link",t),_._p=new Promise(function(U,q){_.onload=U,_.onerror=q}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ju(v,r,o)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(f,v)}}}function ET(t,r){Lr.X(t,r);var a=Sa;if(a&&t){var o=Wt(a).hoistableScripts,h=Ea(t),f=o.get(h);f||(f=a.querySelector(Zo(h)),f||(t=S({src:t,async:!0},r),(r=In.get(h))&&ed(t,r),f=a.createElement("script"),lt(f),Ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _T(t,r){Lr.M(t,r);var a=Sa;if(a&&t){var o=Wt(a).hoistableScripts,h=Ea(t),f=o.get(h);f||(f=a.querySelector(Zo(h)),f||(t=S({src:t,async:!0,type:"module"},r),(r=In.get(h))&&ed(t,r),f=a.createElement("script"),lt(f),Ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function My(t,r,a,o){var h=(h=me.current)?Xu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ka(a.href),a=Wt(h).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var f=Wt(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Jo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||IT(h,t,a,v.state))),r&&o===null)throw Error(s(528,""));return v}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ea(a),a=Wt(h).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ka(t){return'href="'+vt(t)+'"'}function Jo(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Ut(r,"link",a),lt(r),t.head.appendChild(r))}function Ea(t){return'[src="'+vt(t)+'"]'}function Zo(t){return"script[async]"+t}function Fy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(o)return r.instance=o,lt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),lt(o),Ut(o,"style",h),Ju(o,a.precedence,t),r.instance=o;case"stylesheet":h=ka(a.href);var f=t.querySelector(Jo(h));if(f)return r.state.loading|=4,r.instance=f,lt(f),f;o=Uy(a),(h=In.get(h))&&Zf(o,h),f=(t.ownerDocument||t).createElement("link"),lt(f);var v=f;return v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),Ut(f,"link",o),r.state.loading|=4,Ju(f,a.precedence,t),r.instance=f;case"script":return f=Ea(a.src),(h=t.querySelector(Zo(f)))?(r.instance=h,lt(h),h):(o=a,(h=In.get(f))&&(o=S({},a),ed(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),lt(h),Ut(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Ju(o,a.precedence,t));return r.instance}function Ju(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var w=o[v];if(w.dataset.precedence===r)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Zf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function ed(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zu=null;function jy(t,r,a){if(Zu===null){var o=new Map,h=Zu=new Map;h.set(a,o)}else h=Zu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[qs]||f[yt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var w=o.get(v);w?w.push(f):o.set(v,[f])}}return o}function Vy(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function CT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var el=null;function AT(){}function NT(t,r,a){if(el===null)throw Error(s(475));var o=el;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(a.href),f=t.querySelector(Jo(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=ec.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=f,lt(f);return}f=t.ownerDocument||t,a=Uy(a),(h=In.get(h))&&Zf(a,h),f=f.createElement("link"),lt(f);var v=f;v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),Ut(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=ec.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function PT(){if(el===null)throw Error(s(475));var t=el;return t.stylesheets&&t.count===0&&td(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&td(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tc=null;function td(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tc=new Map,r.forEach(xT,t),tc=null,ec.call(t))}function xT(t,r){if(!(r.state.loading&4)){var a=tc.get(t);if(a)var o=a.get(null);else{a=new Map,tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var tl={$$typeof:we,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function OT(t,r,a,o,h,f,v,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $y(t,r,a,o,h,f,v,w,_,U,q,H){return t=new OT(t,r,a,v,w,_,U,H),r=1,f===!0&&(r|=24),f=on(3,null,null,r),t.current=f,f.stateNode=t,r=Dh(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},jh(f),t}function qy(t){return t?(t=ta,t):ta}function By(t,r,a,o,h,f){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=es(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ts(t,o,r),a!==null&&(fn(a,t,r),xo(a,t,r))}function Hy(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function nd(t,r){Hy(t,r),(t=t.alternate)&&Hy(t,r)}function Ky(t){if(t.tag===13){var r=ea(t,67108864);r!==null&&fn(r,t,67108864),nd(t,67108864)}}var nc=!0;function RT(t,r,a,o){var h=$.T;$.T=null;var f=ee.p;try{ee.p=2,rd(t,r,a,o)}finally{ee.p=f,$.T=h}}function LT(t,r,a,o){var h=$.T;$.T=null;var f=ee.p;try{ee.p=8,rd(t,r,a,o)}finally{ee.p=f,$.T=h}}function rd(t,r,a,o){if(nc){var h=sd(o);if(h===null)Bf(t,r,o,rc,a),Wy(t,o);else if(MT(h,t,r,a,o))o.stopPropagation();else if(Wy(t,o),r&4&&-1<DT.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=An(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var _=1<<31-zt(v);w.entanglements[1]|=_,v&=~_}tr(f),(qe&6)===0&&(Vu=pn()+500,Wo(0))}}break;case 13:w=ea(f,2),w!==null&&fn(w,f,2),$u(),nd(f,2)}if(f=sd(o),f===null&&Bf(t,r,o,rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Bf(t,r,o,null,a)}}function sd(t){return t=yn(t),id(t)}var rc=null;function id(t){if(rc=null,t=hr(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return rc=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oh()){case Ja:return 2;case Ri:return 8;case Fs:case lh:return 32;case Li:return 268435456;default:return 32}default:return 32}}var ad=!1,ps=null,gs=null,ms=null,nl=new Map,rl=new Map,ys=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(t,r){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(r.pointerId)}}function sl(t,r,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},r!==null&&(r=$n(r),r!==null&&Ky(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function MT(t,r,a,o,h){switch(r){case"focusin":return ps=sl(ps,t,r,a,o,h),!0;case"dragenter":return gs=sl(gs,t,r,a,o,h),!0;case"mouseover":return ms=sl(ms,t,r,a,o,h),!0;case"pointerover":var f=h.pointerId;return nl.set(f,sl(nl.get(f)||null,t,r,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,rl.set(f,sl(rl.get(f)||null,t,r,a,o,h)),!0}return!1}function Qy(t){var r=hr(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,$l(t.priority,function(){if(a.tag===13){var o=hn();o=Hr(o);var h=ea(a,o);h!==null&&fn(h,a,o),nd(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);gr=o,a.target.dispatchEvent(o),gr=null}else return r=$n(a),r!==null&&Ky(r),t.blockedOn=a,!1;r.shift()}return!0}function Yy(t,r,a){sc(t)&&a.delete(r)}function UT(){ad=!1,ps!==null&&sc(ps)&&(ps=null),gs!==null&&sc(gs)&&(gs=null),ms!==null&&sc(ms)&&(ms=null),nl.forEach(Yy),rl.forEach(Yy)}function ic(t,r){t.blockedOn===r&&(t.blockedOn=null,ad||(ad=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UT)))}var ac=null;function Xy(t){ac!==t&&(ac=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(id(o||a)===null)continue;break}var f=$n(a);f!==null&&(t.splice(r,3),r-=3,sf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function il(t){function r(_){return ic(_,t)}ps!==null&&ic(ps,t),gs!==null&&ic(gs,t),ms!==null&&ic(ms,t),nl.forEach(r),rl.forEach(r);for(var a=0;a<ys.length;a++){var o=ys[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ys.length&&(a=ys[0],a.blockedOn===null);)Qy(a),a.blockedOn===null&&ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[ft]||null;if(typeof f=="function")v||Xy(a);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ft]||null)w=v.formAction;else if(id(h)!==null)continue}else w=v.action;typeof w=="function"?a[o+1]=w:(a.splice(o,3),o-=3),Xy(a)}}}function od(t){this._internalRoot=t}oc.prototype.render=od.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=hn();By(a,o,t,r,null,null)},oc.prototype.unmount=od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;By(t.current,2,null,t,null,null),$u(),r[gn]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Kr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ys.length&&r!==0&&r<ys[a].priority;a++);ys.splice(a,0,t),a===0&&Qy(t)}};var Jy=e.version;if(Jy!=="19.1.0")throw Error(s(527,Jy,"19.1.0"));ee.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var FT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{it=lc.inject(FT),$e=lc}catch{}}return ol.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",h=pm,f=gm,v=mm,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=$y(t,1,!1,null,null,a,o,h,f,v,w,null),t[gn]=r.current,qf(t),new od(r)},ol.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=pm,v=gm,w=mm,_=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=$y(t,1,!0,r,a??null,o,h,f,v,w,_,U),r.context=qy(null),a=r.current,o=hn(),o=Hr(o),h=es(o),h.callback=null,ts(a,h,o),a=o,r.current.lanes=a,cr(r,a),tr(r),t[gn]=r.current,qf(t),new oc(r)},ol.version="19.1.0",ol}var fv;function WT(){if(fv)return ld.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ld.exports=GT(),ld.exports}var QT=WT();const YT=()=>{};var dv={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},XT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],d=i[n++],g=i[n++],m=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,g=d?i[l+1]:0,m=l+2<i.length,b=m?i[l+2]:0,S=c>>2,E=(c&3)<<4|g>>4;let V=(g&15)<<2|b>>6,W=b&63;m||(W=64,d||(V=64)),s.push(n[S],n[E],n[V],n[W])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Kb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],d=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const m=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||d==null||g==null||m==null)throw new JT;const b=c<<2|d>>4;if(s.push(b),g!==64){const S=d<<4&240|g>>2;if(s.push(S),m!==64){const E=g<<6&192|m;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZT=function(i){const e=Kb(i);return Gb.encodeByteArray(e,!0)},_c=function(i){return ZT(i).replace(/\./g,"")},Wb=function(i){try{return Gb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof dv>"u")return;const i=dv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Wb(i[1]);return e&&JSON.parse(e)},Bc=()=>{try{return YT()||tS()||nS()||rS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Qb=i=>{var e,n;return(n=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},sS=i=>{const e=Qb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Yb=()=>{var i;return(i=Bc())===null||i===void 0?void 0:i.config},Xb=i=>{var e;return(e=Bc())===null||e===void 0?void 0:e[`_${i}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nl(i){return i.endsWith(".cloudworkstations.dev")}async function Jb(i){return(await fetch(i,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_c(JSON.stringify(n)),_c(JSON.stringify(d)),""].join(".")}const fl={};function oS(){const i={prod:[],emulator:[]};for(const e of Object.keys(fl))fl[e]?i.emulator.push(e):i.prod.push(e);return i}function lS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let pv=!1;function Zb(i,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||fl[i]===e||fl[i]||pv)return;fl[i]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=oS().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,V){E.setAttribute("width","24"),E.setAttribute("id",V),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pv=!0,c()},E}function b(E,V){E.setAttribute("id",V),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function S(){const E=lS(s),V=n("text"),W=document.getElementById(V)||document.createElement("span"),Y=n("learnmore"),ne=document.getElementById(Y)||document.createElement("a"),Z=n("preprendIcon"),Te=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const be=E.element;d(be),b(ne,Y);const we=m();g(Te,Z),be.append(Te,W,ne,we),document.body.appendChild(be)}l?(W.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function cS(){var i;const e=(i=Bc())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const i=Gt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vS="FirebaseError";class qr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vS,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?bS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new qr(l,g,s)}}function bS(i,e){return i.replace(wS,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const wS=/\{\$([^}]+)}/g;function TS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ki(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=i[l],d=e[l];if(gv(c)&&gv(d)){if(!ki(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function gv(i){return i!==null&&typeof i=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xl(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function SS(i,e){const n=new kS(i,e);return n.subscribe.bind(n)}class kS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ES(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function cd(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jt(i){return i&&i._delegate?i._delegate:i}class Ei{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vi="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(i){return i===vi?void 0:i}function CS(i){return i.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const NS={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},PS=Ne.INFO,xS={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},OS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=xS[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gd{constructor(e){this.name=e,this._logLevel=PS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const RS=(i,e)=>e.some(n=>i instanceof n);let mv,yv;function LS(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,Td=new WeakMap,t0=new WeakMap,hd=new WeakMap,Wd=new WeakMap;function MS(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Es(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&e0.set(n,i)}).catch(()=>{}),Wd.set(e,i),e}function US(i){if(Td.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Td.set(i,e)}let Sd={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Td.get(i);if(e==="objectStoreNames")return i.objectStoreNames||t0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function FS(i){Sd=i(Sd)}function jS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fd(this),e,...n);return t0.set(s,e.sort?e.sort():[e]),Es(s)}:DS().includes(i)?function(...e){return i.apply(fd(this),e),Es(e0.get(this))}:function(...e){return Es(i.apply(fd(this),e))}}function VS(i){return typeof i=="function"?jS(i):(i instanceof IDBTransaction&&US(i),RS(i,LS())?new Proxy(i,Sd):i)}function Es(i){if(i instanceof IDBRequest)return MS(i);if(hd.has(i))return hd.get(i);const e=VS(i);return e!==i&&(hd.set(i,e),Wd.set(e,i)),e}const fd=i=>Wd.get(i);function zS(i,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),g=Es(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Es(d.result),m.oldVersion,m.newVersion,Es(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),g}const $S=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],dd=new Map;function vv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=qS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||$S.includes(n)))return;const c=async function(d,...g){const m=this.transaction(d,l?"readwrite":"readonly");let b=m.store;return s&&(b=b.index(g.shift())),(await Promise.all([b[n](...g),l&&m.done]))[0]};return dd.set(e,c),c}FS(i=>({...i,get:(e,n,s)=>vv(e,n)||i.get(e,n,s),has:(e,n)=>!!vv(e,n)||i.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(HS(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function HS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kd="@firebase/app",bv="0.13.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jr=new Gd("@firebase/app"),KS="@firebase/app-compat",GS="@firebase/analytics-compat",WS="@firebase/analytics",QS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",JS="@firebase/auth-compat",ZS="@firebase/database",ek="@firebase/data-connect",tk="@firebase/database-compat",nk="@firebase/functions",rk="@firebase/functions-compat",sk="@firebase/installations",ik="@firebase/installations-compat",ak="@firebase/messaging",ok="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",ck="@firebase/remote-config",hk="@firebase/remote-config-compat",fk="@firebase/storage",dk="@firebase/storage-compat",pk="@firebase/firestore",gk="@firebase/ai",mk="@firebase/firestore-compat",yk="firebase",vk="11.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ed="[DEFAULT]",bk={[kd]:"fire-core",[KS]:"fire-core-compat",[WS]:"fire-analytics",[GS]:"fire-analytics-compat",[YS]:"fire-app-check",[QS]:"fire-app-check-compat",[XS]:"fire-auth",[JS]:"fire-auth-compat",[ZS]:"fire-rtdb",[ek]:"fire-data-connect",[tk]:"fire-rtdb-compat",[nk]:"fire-fn",[rk]:"fire-fn-compat",[sk]:"fire-iid",[ik]:"fire-iid-compat",[ak]:"fire-fcm",[ok]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[ck]:"fire-rc",[hk]:"fire-rc-compat",[fk]:"fire-gcs",[dk]:"fire-gcs-compat",[pk]:"fire-fst",[mk]:"fire-fst-compat",[gk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ic=new Map,wk=new Map,_d=new Map;function wv(i,e){try{i.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Da(i){const e=i.name;if(_d.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;_d.set(e,i);for(const n of Ic.values())wv(n,i);for(const n of wk.values())wv(n,i);return!0}function Qd(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Dn(i){return i==null?!1:i.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Pl("app","Firebase",Tk);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sk{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ba=vk;function n0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ed,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw _s.create("bad-app-name",{appName:String(l)});if(n||(n=Yb()),!n)throw _s.create("no-options");const c=Ic.get(l);if(c){if(ki(n,c.options)&&ki(s,c.config))return c;throw _s.create("duplicate-app",{appName:l})}const d=new AS(l);for(const m of _d.values())d.addComponent(m);const g=new Sk(n,s,d);return Ic.set(l,g),g}function r0(i=Ed){const e=Ic.get(i);if(!e&&i===Ed&&Yb())return n0();if(!e)throw _s.create("no-app",{appName:i});return e}function Is(i,e,n){var s;let l=(s=bk[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(g.join(" "));return}Da(new Ei(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kk="firebase-heartbeat-database",Ek=1,bl="firebase-heartbeat-store";let pd=null;function s0(){return pd||(pd=zS(kk,Ek,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),pd}async function _k(i){try{const e=(await s0()).transaction(bl),n=await e.objectStore(bl).get(i0(i));return await e.done,n}catch(e){if(e instanceof qr)jr.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function Tv(i,e){try{const n=(await s0()).transaction(bl,"readwrite");await n.objectStore(bl).put(e,i0(i)),await n.done}catch(n){if(n instanceof qr)jr.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(s.message)}}}function i0(i){return`${i.name}!${i.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ik=1024,Ck=30;class Ak{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Sv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>Ck){const c=xk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sv(),{heartbeatsToSend:s,unsentEntries:l}=Nk(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return jr.warn(n),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function Nk(i,e=Ik){const n=[];let s=i.slice();for(const l of i){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),kv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _k(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kv(i){return _c(JSON.stringify({version:2,heartbeats:i})).length}function xk(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ok(i){Da(new Ei("platform-logger",e=>new BS(e),"PRIVATE")),Da(new Ei("heartbeat",e=>new Ak(e),"PRIVATE")),Is(kd,bv,i),Is(kd,bv,"esm2017"),Is("fire-js","")}Ok("");function Yd(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(n[s[l]]=i[s[l]]);return n}function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=a0,o0=new Pl("auth","Firebase",a0());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cc=new Gd("@firebase/auth");function Lk(i,...e){Cc.logLevel<=Ne.WARN&&Cc.warn(`Auth (${Ba}): ${i}`,...e)}function gc(i,...e){Cc.logLevel<=Ne.ERROR&&Cc.error(`Auth (${Ba}): ${i}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ar(i,...e){throw Jd(i,...e)}function Fn(i,...e){return Jd(i,...e)}function Xd(i,e,n){const s=Object.assign(Object.assign({},Rk()),{[e]:n});return new Pl("auth","Firebase",s).create(e,{appName:i.name})}function Ti(i){return Xd(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dk(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ar(i,"argument-error"),Xd(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jd(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return o0.create(i,...e)}function pe(i,e,...n){if(!i)throw Jd(e,...n)}function Mr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gc(e),new Error(e)}function Vr(i,e){i||Mr(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Id(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Mk(){return Ev()==="http:"||Ev()==="https:"}function Ev(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mk()||fS()||"connection"in navigator)?navigator.onLine:!0}function Fk(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return Uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zd(i,e){Vr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zk=new Ol(3e4,6e4);function ep(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ha(i,e,n,s,l={}){return u0(i,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=xl(Object.assign({key:i.config.apiKey},d)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const b=Object.assign({method:e,headers:m},c);return hS()||(b.referrerPolicy="no-referrer"),i.emulatorConfig&&Nl(i.emulatorConfig.host)&&(b.credentials="include"),l0.fetch()(await c0(i,i.config.apiHost,n,g),b)})}async function u0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},jk),e);try{const l=new qk(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw uc(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[m,b]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(i,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw uc(i,"email-already-in-use",d);if(m==="USER_DISABLED")throw uc(i,"user-disabled",d);const S=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Xd(i,S,b);ar(i,S)}}catch(l){if(l instanceof qr)throw l;ar(i,"network-request-failed",{message:String(l)})}}async function $k(i,e,n,s,l={}){const c=await Ha(i,e,n,s,l);return"mfaPendingCredential"in c&&ar(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function c0(i,e,n,s){const l=`${e}${n}?${s}`,c=i,d=c.config.emulator?Zd(i.config,l):`${i.config.apiScheme}://${l}`;return Vk.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fn(this.auth,"network-request-failed")),zk.get())})}}function uc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Fn(i,e,s);return l.customData._tokenResponse=n,l}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Bk(i,e){return Ha(i,"POST","/v1/accounts:delete",e)}async function Ac(i,e){return Ha(i,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hk(i,e=!1){const n=Jt(i),s=await n.getIdToken(e),l=tp(s);pe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:dl(gd(l.auth_time)),issuedAtTime:dl(gd(l.iat)),expirationTime:dl(gd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function gd(i){return Number(i)*1e3}function tp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wb(n);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function _v(i){const e=tp(i);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qr&&Kk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Kk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nc(i){var e;const n=i.auth,s=await i.getIdToken(),l=await wl(i,Ac(n,{idToken:s}));pe(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?h0(c.providerUserInfo):[],g=Qk(i.providerData,d),m=i.isAnonymous,b=!(i.email&&c.passwordHash)&&!(g!=null&&g.length),S=m?b:!1,E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Cd(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(i,E)}async function Wk(i){const e=Jt(i);await Nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(i,e){return[...i.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function h0(i){return i.map(e=>{var{providerId:n}=e,s=Yd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Yk(i,e){const n=await u0(i,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await c0(i,l,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",l0.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xk(i,e){return Ha(i,"POST","/v2/accounts:revokeToken",ep(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=_v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await Yk(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new xa;return s&&(pe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bs(i,e){pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Mn{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,c=Yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Cd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hk(this,e)}reload(){return Wk(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await wl(this,Bk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,c,d,g,m,b,S;const E=(s=n.displayName)!==null&&s!==void 0?s:void 0,V=(l=n.email)!==null&&l!==void 0?l:void 0,W=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Y=(d=n.photoURL)!==null&&d!==void 0?d:void 0,ne=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,Te=(b=n.createdAt)!==null&&b!==void 0?b:void 0,be=(S=n.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:we,emailVerified:Le,isAnonymous:ge,providerData:xe,stsTokenManager:x}=n;pe(we&&x,e,"internal-error");const k=xa.fromJSON(this.name,x);pe(typeof we=="string",e,"internal-error"),bs(E,e.name),bs(V,e.name),pe(typeof Le=="boolean",e,"internal-error"),pe(typeof ge=="boolean",e,"internal-error"),bs(W,e.name),bs(Y,e.name),bs(ne,e.name),bs(Z,e.name),bs(Te,e.name),bs(be,e.name);const I=new Mn({uid:we,auth:e,email:V,emailVerified:Le,displayName:E,isAnonymous:ge,photoURL:Y,phoneNumber:W,tenantId:ne,stsTokenManager:k,createdAt:Te,lastLoginAt:be});return xe&&Array.isArray(xe)&&(I.providerData=xe.map(P=>Object.assign({},P))),Z&&(I._redirectEventId=Z),I}static async _fromIdTokenResponse(e,n,s=!1){const l=new xa;l.updateFromServerResponse(n);const c=new Mn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Nc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?h0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new xa;g.updateFromIdToken(s);const m=new Mn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,b),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Iv=new Map;function Ur(i){Vr(i instanceof Function,"Expected a class definition");let e=Iv.get(i);return e?(Vr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Iv.set(i,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f0.type="NONE";const Cv=f0;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mc(i,e,n){return`firebase:${i}:${e}:${n}`}class Oa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=mc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ac(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Oa(Ur(Cv),e,s);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let c=l[0]||Ur(Cv);const d=mc(s,e.config.apiKey,e.name);let g=null;for(const b of n)try{const S=await b._get(d);if(S){let E;if(typeof S=="string"){const V=await Ac(e,{idToken:S}).catch(()=>{});if(!V)break;E=await Mn._fromGetAccountInfoResponse(e,V,S)}else E=Mn._fromJSON(e,S);b!==c&&(g=E),c=b;break}}catch{}const m=l.filter(b=>b._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Oa(c,e,s):(c=m[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async b=>{if(b!==c)try{await b._remove(d)}catch{}})),new Oa(c,e,s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Av(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v0(e))return"Blackberry";if(b0(e))return"Webos";if(p0(e))return"Safari";if((e.includes("chrome/")||g0(e))&&!e.includes("edge/"))return"Chrome";if(y0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function d0(i=Gt()){return/firefox\//i.test(i)}function p0(i=Gt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g0(i=Gt()){return/crios\//i.test(i)}function m0(i=Gt()){return/iemobile/i.test(i)}function y0(i=Gt()){return/android/i.test(i)}function v0(i=Gt()){return/blackberry/i.test(i)}function b0(i=Gt()){return/webos/i.test(i)}function np(i=Gt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Jk(i=Gt()){var e;return np(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zk(){return pS()&&document.documentMode===10}function w0(i=Gt()){return np(i)||y0(i)||b0(i)||v0(i)||/windows phone/i.test(i)||m0(i)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T0(i,e=[]){let n;switch(i){case"Browser":n=Av(Gt());break;case"Worker":n=`${Av(Gt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${s}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,g)=>{try{const m=e(c);d(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tE(i,e={}){return Ha(i,"GET","/v2/passwordPolicy",ep(i,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nE=6;class rE{constructor(e){var n,s,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:nE,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,c,d,g;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsLowercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(g=m.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sE{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new eE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ac(this,{idToken:e}),s=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===g)&&m!=null&&m.user&&(l=m.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ti(this));const n=e?Jt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tE(this),n=new rE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,l);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Lk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hc(i){return Jt(i)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iE(i){rp=i}function aE(i){return rp.loadJS(i)}function oE(){return rp.gapiScript}function lE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uE(i,e){const n=Qd(i,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(ki(l,e??{}))return s;ar(s,"already-initialized")}return n.initialize({options:e})}function cE(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hE(i,e,n){const s=Hc(i);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=S0(e),{host:d,port:g}=fE(e),m=g===null?"":`:${g}`,b={url:`${c}//${d}${m}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(ki(b,s.config.emulator)&&ki(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=b,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Nl(d)?(Jb(`${c}//${d}${m}`),Zb("Auth",!0)):dE()}function S0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fE(i){const e=S0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Pv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Pv(d)}}}function Pv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function dE(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ra(i,e){return $k(i,"POST","/v1/accounts:signInWithIdp",ep(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pE="http://localhost";class _i extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,c=Yd(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new _i(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ra(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){const e={requestUri:pE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rl extends sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ws extends Rl{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dr extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ts extends Rl{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ss extends Rl{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ss.credential(n,s)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await Mn._fromIdTokenResponse(e,s,l),d=xv(s);return new Ma({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=xv(s);return new Ma({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function xv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pc extends qr{constructor(e,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Pc(e,n,s,l)}}function E0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(i,l,e,s):l})}async function gE(i,e,n=!1){const s=await wl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ma._forOperation(i,"link",s)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function mE(i,e,n=!1){const{auth:s}=i;if(Dn(s.app))return Promise.reject(Ti(s));const l="reauthenticate";try{const c=await wl(i,E0(s,l,e,i),n);pe(c.idToken,s,"internal-error");const d=tp(c.idToken);pe(d,s,"internal-error");const{sub:g}=d;return pe(i.uid===g,s,"user-mismatch"),Ma._forOperation(i,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ar(s,"user-mismatch"),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yE(i,e,n=!1){if(Dn(i.app))return Promise.reject(Ti(i));const s="signIn",l=await E0(i,s,e),c=await Ma._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(c.user),c}function vE(i,e,n,s){return Jt(i).onIdTokenChanged(e,n,s)}function bE(i,e,n){return Jt(i).beforeAuthStateChanged(e,n)}function wE(i,e,n,s){return Jt(i).onAuthStateChanged(e,n,s)}function TE(i){return Jt(i).signOut()}const xc="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SE=1e3,kE=10;class I0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Zk()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,kE):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const EE=I0;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C0.type="SESSION";const A0=C0;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _E(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Kc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async b=>b(n.origin,c)),m=await _E(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ip(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,m)=>{const b=ip("",20);l.port1.start();const S=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(E){const V=E;if(V.data.eventId===b)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:b,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rr(){return window}function CE(i){rr().location.href=i}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N0(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function AE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NE(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function PE(){return N0()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P0="firebaseLocalStorageDb",xE=1,Oc="firebaseLocalStorage",x0="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gc(i,e){return i.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function OE(){const i=indexedDB.deleteDatabase(P0);return new Ll(i).toPromise()}function Ad(){const i=indexedDB.open(P0,xE);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oc,{keyPath:x0})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oc)?e(s):(s.close(),await OE(),e(await Ad()))})})}async function Ov(i,e,n){const s=Gc(i,!0).put({[x0]:e,value:n});return new Ll(s).toPromise()}async function RE(i,e){const n=Gc(i,!1).get(e),s=await new Ll(n).toPromise();return s===void 0?null:s.value}function Rv(i,e){const n=Gc(i,!0).delete(e);return new Ll(n).toPromise()}const LE=800,DE=3;class O0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DE)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(PE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AE(),!this.activeServiceWorker)return;this.sender=new IE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ad();return await Ov(e,xc,"1"),await Rv(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ov(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RE(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Gc(l,!1).getAll();return new Ll(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O0.type="LOCAL";const ME=O0;new Ol(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R0(i,e){return e?Ur(e):(pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ap extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UE(i){return yE(i.auth,new ap(i),i.bypassAuthState)}function FE(i){const{auth:e,user:n}=i;return pe(n,e,"internal-error"),mE(n,new ap(i),i.bypassAuthState)}async function jE(i){const{auth:e,user:n}=i;return pe(n,e,"internal-error"),gE(n,new ap(i),i.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L0{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UE;case"linkViaPopup":case"linkViaRedirect":return jE;case"reauthViaPopup":case"reauthViaRedirect":return FE;default:ar(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VE=new Ol(2e3,1e4);async function zE(i,e,n){if(Dn(i.app))return Promise.reject(Fn(i,"operation-not-supported-in-this-environment"));const s=Hc(i);Dk(i,e,sp);const l=R0(s,n);return new bi(s,"signInViaPopup",e,l).executeNotNull()}class bi extends L0{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VE.get())};e()}}bi.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $E="pendingRedirect",yc=new Map;class qE extends L0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const n=await BE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BE(i,e){const n=GE(e),s=KE(i);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function HE(i,e){yc.set(i._key(),e)}function KE(i){return Ur(i._redirectPersistence)}function GE(i){return mc($E,i.config.apiKey,i.name)}async function WE(i,e,n=!1){if(Dn(i.app))return Promise.reject(Ti(i));const s=Hc(i),l=R0(s,e),c=await new qE(s,l,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QE=10*60*1e3;class YE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!D0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QE&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function D0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XE(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D0(i);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function JE(i,e={}){return Ha(i,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e_=/^https?/;async function t_(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JE(i);for(const n of e)try{if(n_(n))return}catch{}ar(i,"unauthorized-domain")}function n_(i){const e=Id(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!e_.test(n))return!1;if(ZE.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r_=new Ol(3e4,6e4);function Dv(){const i=rr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function s_(i){return new Promise((e,n)=>{var s,l,c;function d(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),n(Fn(i,"network-request-failed"))},timeout:r_.get()})}if(!((l=(s=rr().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=rr().gapi)===null||c===void 0)&&c.load)d();else{const g=lE("iframefcb");return rr()[g]=()=>{gapi.load?d():n(Fn(i,"network-request-failed"))},aE(`${oE()}?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw vc=null,e})}let vc=null;function i_(i){return vc=vc||s_(i),vc}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a_=new Ol(5e3,15e3),o_="__/auth/iframe",l_="emulator/auth/iframe",u_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h_(i){const e=i.config;pe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Zd(e,l_):`https://${i.config.authDomain}/${o_}`,s={apiKey:e.apiKey,appName:i.name,v:Ba},l=c_.get(i.config.apiHost);l&&(s.eid=l);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${xl(s).slice(1)}`}async function f_(i){const e=await i_(i),n=rr().gapi;return pe(n,i,"internal-error"),e.open({where:document.body,url:h_(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u_,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Fn(i,"network-request-failed"),g=rr().setTimeout(()=>{c(d)},a_.get());function m(){rr().clearTimeout(g),l(s)}s.ping(m).then(m,()=>{c(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p_=500,g_=600,m_="_blank",y_="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v_(i,e,n,s=p_,l=g_){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m=Object.assign(Object.assign({},d_),{width:s.toString(),height:l.toString(),top:c,left:d}),b=Gt().toLowerCase();n&&(g=g0(b)?m_:n),d0(b)&&(e=e||y_,m.scrollbars="yes");const S=Object.entries(m).reduce((V,[W,Y])=>`${V}${W}=${Y},`,"");if(Jk(b)&&g!=="_self")return b_(e||"",g),new Mv(null);const E=window.open(e||"",g,S);pe(E,i,"popup-blocked");try{E.focus()}catch{}return new Mv(E)}function b_(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w_="__/auth/handler",T_="emulator/auth/handler",S_=encodeURIComponent("fac");async function Uv(i,e,n,s,l,c){pe(i.config.authDomain,i,"auth-domain-config-required"),pe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ba,eventId:l};if(e instanceof sp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",TS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,E]of Object.entries({}))d[S]=E}if(e instanceof Rl){const S=e.getScopes().filter(E=>E!=="");S.length>0&&(d.scopes=S.join(","))}i.tenantId&&(d.tid=i.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const m=await i._getAppCheckToken(),b=m?`#${S_}=${encodeURIComponent(m)}`:"";return`${k_(i)}?${xl(g).slice(1)}${b}`}function k_({config:i}){return i.emulator?Zd(i,T_):`https://${i.authDomain}/${w_}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const md="webStorageSupport";class E_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A0,this._completeRedirectFn=WE,this._overrideRedirectResult=HE}async _openPopup(e,n,s,l){var c;Vr((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Uv(e,n,s,Id(),l);return v_(e,d,ip())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await Uv(e,n,s,Id(),l);return CE(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Vr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await f_(e),s=new YE(e);return n.register("authEvent",l=>(pe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(md,{type:md},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[md];c!==void 0&&n(!!c),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t_(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w0()||p0()||np()}}const __=E_;var Fv="@firebase/auth",jv="1.10.6";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C_(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A_(i){Da(new Ei("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(i)},b=new sE(s,l,c,m);return cE(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Da(new Ei("auth-internal",e=>{const n=Hc(e.getProvider("auth").getImmediate());return(s=>new I_(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Fv,jv,C_(i)),Is(Fv,jv,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N_=5*60,P_=Xb("authIdTokenMaxAge")||N_;let Vv=null;const x_=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P_)return;const l=n==null?void 0:n.token;Vv!==l&&(Vv=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O_(i=r0()){const e=Qd(i,"auth");if(e.isInitialized())return e.getImmediate();const n=uE(i,{popupRedirectResolver:__,persistence:[ME,EE,A0]}),s=Xb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=x_(c.toString());bE(n,d,()=>d(n.currentUser)),vE(n,g=>d(g))}}const l=Qb("auth");return l&&hE(n,`http://${l}`),n}function R_(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}iE({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const c=Fn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",R_().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A_("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function L_(i,e,n,s){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(S){try{b(s.next(S))}catch(E){d(E)}}function m(S){try{b(s.throw(S))}catch(E){d(E)}}function b(S){S.done?c(S.value):l(S.value).then(g,m)}b((s=s.apply(i,[])).next())})}function D_(i,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(b){return function(S){return m([b,S])}}function m(b){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,l&&(c=b[0]&2?l.return:b[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,b[1])).done)return c;switch(l=0,c&&(b=[b[0]&2,c.value]),b[0]){case 0:case 1:c=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,l=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!c||b[1]>c[0]&&b[1]<c[3])){n.label=b[1];break}if(b[0]===6&&n.label<c[1]){n.label=c[1],c=b;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(b);break}c[2]&&n.ops.pop(),n.trys.pop();continue}b=e.call(i,n)}catch(S){b=[6,S],l=0}finally{s=c=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Na=function(){return Na=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=e[l])}return i},Na.apply(this,arguments)},M0=function(i){return{loading:i==null,value:i}},M_=function(){return function(i,e){switch(e.type){case"error":return Na(Na({},i),{error:e.error,loading:!1,value:void 0});case"reset":return M0(e.defaultValue);case"value":return Na(Na({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},U_=function(i){var e=i?i():void 0,n=Ln.useReducer(M_(),M0(e)),s=n[0],l=n[1],c=Ln.useCallback(function(){var m=i?i():void 0;l({type:"reset",defaultValue:m})},[i]),d=Ln.useCallback(function(m){l({type:"error",error:m})},[]),g=Ln.useCallback(function(m){l({type:"value",value:m})},[]);return Ln.useMemo(function(){return{error:s.error,loading:s.loading,reset:c,setError:d,setValue:g,value:s.value}},[s.error,s.loading,c,d,g,s.value])},F_=function(i,e){var n=U_(function(){return i.currentUser}),s=n.error,l=n.loading,c=n.setError,d=n.setValue,g=n.value;return Ln.useEffect(function(){var m=wE(i,function(b){return L_(void 0,void 0,void 0,function(){var S;return D_(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(b)];case 2:return E.sent(),[3,4];case 3:return S=E.sent(),c(S),[3,4];case 4:return d(b),[2]}})})},c);return function(){m()}},[i]),[g,l,s]},j_="firebase",V_="11.8.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Is(j_,V_,"app");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,U0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,k){function I(){}I.prototype=k.prototype,x.D=k.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(P,O,L){for(var C=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)C[xt-2]=arguments[xt];return k.prototype[O].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,k,I){I||(I=0);var P=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)P[O]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=x.g[0],I=x.g[1],O=x.g[2];var L=x.g[3],C=k+(L^I&(O^L))+P[0]+3614090360&4294967295;k=I+(C<<7&4294967295|C>>>25),C=L+(O^k&(I^O))+P[1]+3905402710&4294967295,L=k+(C<<12&4294967295|C>>>20),C=O+(I^L&(k^I))+P[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(k^O&(L^k))+P[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=k+(L^I&(O^L))+P[4]+4118548399&4294967295,k=I+(C<<7&4294967295|C>>>25),C=L+(O^k&(I^O))+P[5]+1200080426&4294967295,L=k+(C<<12&4294967295|C>>>20),C=O+(I^L&(k^I))+P[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(k^O&(L^k))+P[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=k+(L^I&(O^L))+P[8]+1770035416&4294967295,k=I+(C<<7&4294967295|C>>>25),C=L+(O^k&(I^O))+P[9]+2336552879&4294967295,L=k+(C<<12&4294967295|C>>>20),C=O+(I^L&(k^I))+P[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(k^O&(L^k))+P[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=k+(L^I&(O^L))+P[12]+1804603682&4294967295,k=I+(C<<7&4294967295|C>>>25),C=L+(O^k&(I^O))+P[13]+4254626195&4294967295,L=k+(C<<12&4294967295|C>>>20),C=O+(I^L&(k^I))+P[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(k^O&(L^k))+P[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=k+(O^L&(I^O))+P[1]+4129170786&4294967295,k=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(k^I))+P[6]+3225465664&4294967295,L=k+(C<<9&4294967295|C>>>23),C=O+(k^I&(L^k))+P[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^k&(O^L))+P[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=k+(O^L&(I^O))+P[5]+3593408605&4294967295,k=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(k^I))+P[10]+38016083&4294967295,L=k+(C<<9&4294967295|C>>>23),C=O+(k^I&(L^k))+P[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^k&(O^L))+P[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=k+(O^L&(I^O))+P[9]+568446438&4294967295,k=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(k^I))+P[14]+3275163606&4294967295,L=k+(C<<9&4294967295|C>>>23),C=O+(k^I&(L^k))+P[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^k&(O^L))+P[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=k+(O^L&(I^O))+P[13]+2850285829&4294967295,k=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(k^I))+P[2]+4243563512&4294967295,L=k+(C<<9&4294967295|C>>>23),C=O+(k^I&(L^k))+P[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^k&(O^L))+P[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=k+(I^O^L)+P[5]+4294588738&4294967295,k=I+(C<<4&4294967295|C>>>28),C=L+(k^I^O)+P[8]+2272392833&4294967295,L=k+(C<<11&4294967295|C>>>21),C=O+(L^k^I)+P[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^k)+P[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=k+(I^O^L)+P[1]+2763975236&4294967295,k=I+(C<<4&4294967295|C>>>28),C=L+(k^I^O)+P[4]+1272893353&4294967295,L=k+(C<<11&4294967295|C>>>21),C=O+(L^k^I)+P[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^k)+P[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=k+(I^O^L)+P[13]+681279174&4294967295,k=I+(C<<4&4294967295|C>>>28),C=L+(k^I^O)+P[0]+3936430074&4294967295,L=k+(C<<11&4294967295|C>>>21),C=O+(L^k^I)+P[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^k)+P[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=k+(I^O^L)+P[9]+3654602809&4294967295,k=I+(C<<4&4294967295|C>>>28),C=L+(k^I^O)+P[12]+3873151461&4294967295,L=k+(C<<11&4294967295|C>>>21),C=O+(L^k^I)+P[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^k)+P[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=k+(O^(I|~L))+P[0]+4096336452&4294967295,k=I+(C<<6&4294967295|C>>>26),C=L+(I^(k|~O))+P[7]+1126891415&4294967295,L=k+(C<<10&4294967295|C>>>22),C=O+(k^(L|~I))+P[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~k))+P[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=k+(O^(I|~L))+P[12]+1700485571&4294967295,k=I+(C<<6&4294967295|C>>>26),C=L+(I^(k|~O))+P[3]+2399980690&4294967295,L=k+(C<<10&4294967295|C>>>22),C=O+(k^(L|~I))+P[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~k))+P[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=k+(O^(I|~L))+P[8]+1873313359&4294967295,k=I+(C<<6&4294967295|C>>>26),C=L+(I^(k|~O))+P[15]+4264355552&4294967295,L=k+(C<<10&4294967295|C>>>22),C=O+(k^(L|~I))+P[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~k))+P[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=k+(O^(I|~L))+P[4]+4149444226&4294967295,k=I+(C<<6&4294967295|C>>>26),C=L+(I^(k|~O))+P[11]+3174756917&4294967295,L=k+(C<<10&4294967295|C>>>22),C=O+(k^(L|~I))+P[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~k))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+k&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,k){k===void 0&&(k=x.length);for(var I=k-this.blockSize,P=this.B,O=this.h,L=0;L<k;){if(O==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<k;)if(P[O++]=x.charCodeAt(L++),O==this.blockSize){l(this,P),O=0;break}}else for(;L<k;)if(P[O++]=x[L++],O==this.blockSize){l(this,P),O=0;break}}this.h=O,this.o+=k},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var k=1;k<x.length-8;++k)x[k]=0;var I=8*this.o;for(k=x.length-8;k<x.length;++k)x[k]=I&255,I/=256;for(this.u(x),x=Array(16),k=I=0;4>k;++k)for(var P=0;32>P;P+=8)x[I++]=this.g[k]>>>P&255;return x};function c(x,k){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=k(x)}function d(x,k){this.h=k;for(var I=[],P=!0,O=x.length-1;0<=O;O--){var L=x[O]|0;P&&L==k||(I[O]=L,P=!1)}this.g=I}var g={};function m(x){return-128<=x&&128>x?c(x,function(k){return new d([k|0],0>k?-1:0)}):new d([x|0],0>x?-1:0)}function b(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return Z(b(-x));for(var k=[],I=1,P=0;x>=I;P++)k[P]=x/I|0,I*=4294967296;return new d(k,0)}function S(x,k){if(x.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x.charAt(0)=="-")return Z(S(x.substring(1),k));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=b(Math.pow(k,8)),P=E,O=0;O<x.length;O+=8){var L=Math.min(8,x.length-O),C=parseInt(x.substring(O,O+L),k);8>L?(L=b(Math.pow(k,L)),P=P.j(L).add(b(C))):(P=P.j(I),P=P.add(b(C)))}return P}var E=m(0),V=m(1),W=m(16777216);i=d.prototype,i.m=function(){if(ne(this))return-Z(this).m();for(var x=0,k=1,I=0;I<this.g.length;I++){var P=this.i(I);x+=(0<=P?P:4294967296+P)*k,k*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(ne(this))return"-"+Z(this).toString(x);for(var k=b(Math.pow(x,6)),I=this,P="";;){var O=Le(I,k).g;I=Te(I,O.j(k));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=O,Y(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var k=0;k<x.g.length;k++)if(x.g[k]!=0)return!1;return!0}function ne(x){return x.h==-1}i.l=function(x){return x=Te(this,x),ne(x)?-1:Y(x)?0:1};function Z(x){for(var k=x.g.length,I=[],P=0;P<k;P++)I[P]=~x.g[P];return new d(I,~x.h).add(V)}i.abs=function(){return ne(this)?Z(this):this},i.add=function(x){for(var k=Math.max(this.g.length,x.g.length),I=[],P=0,O=0;O<=k;O++){var L=P+(this.i(O)&65535)+(x.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);P=C>>>16,L&=65535,C&=65535,I[O]=C<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function Te(x,k){return x.add(Z(k))}i.j=function(x){if(Y(this)||Y(x))return E;if(ne(this))return ne(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(ne(x))return Z(this.j(Z(x)));if(0>this.l(W)&&0>x.l(W))return b(this.m()*x.m());for(var k=this.g.length+x.g.length,I=[],P=0;P<2*k;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<x.g.length;O++){var L=this.i(P)>>>16,C=this.i(P)&65535,xt=x.i(O)>>>16,st=x.i(O)&65535;I[2*P+2*O]+=C*st,be(I,2*P+2*O),I[2*P+2*O+1]+=L*st,be(I,2*P+2*O+1),I[2*P+2*O+1]+=C*xt,be(I,2*P+2*O+1),I[2*P+2*O+2]+=L*xt,be(I,2*P+2*O+2)}for(P=0;P<k;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=k;P<2*k;P++)I[P]=0;return new d(I,0)};function be(x,k){for(;(x[k]&65535)!=x[k];)x[k+1]+=x[k]>>>16,x[k]&=65535,k++}function we(x,k){this.g=x,this.h=k}function Le(x,k){if(Y(k))throw Error("division by zero");if(Y(x))return new we(E,E);if(ne(x))return k=Le(Z(x),k),new we(Z(k.g),Z(k.h));if(ne(k))return k=Le(x,Z(k)),new we(Z(k.g),k.h);if(30<x.g.length){if(ne(x)||ne(k))throw Error("slowDivide_ only works with positive integers.");for(var I=V,P=k;0>=P.l(x);)I=ge(I),P=ge(P);var O=xe(I,1),L=xe(P,1);for(P=xe(P,2),I=xe(I,2);!Y(P);){var C=L.add(P);0>=C.l(x)&&(O=O.add(I),L=C),P=xe(P,1),I=xe(I,1)}return k=Te(x,O.j(k)),new we(O,k)}for(O=E;0<=x.l(k);){for(I=Math.max(1,Math.floor(x.m()/k.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=b(I),C=L.j(k);ne(C)||0<C.l(x);)I-=P,L=b(I),C=L.j(k);Y(L)&&(L=V),O=O.add(L),x=Te(x,C)}return new we(O,x)}i.A=function(x){return Le(this,x).h},i.and=function(x){for(var k=Math.max(this.g.length,x.g.length),I=[],P=0;P<k;P++)I[P]=this.i(P)&x.i(P);return new d(I,this.h&x.h)},i.or=function(x){for(var k=Math.max(this.g.length,x.g.length),I=[],P=0;P<k;P++)I[P]=this.i(P)|x.i(P);return new d(I,this.h|x.h)},i.xor=function(x){for(var k=Math.max(this.g.length,x.g.length),I=[],P=0;P<k;P++)I[P]=this.i(P)^x.i(P);return new d(I,this.h^x.h)};function ge(x){for(var k=x.g.length+1,I=[],P=0;P<k;P++)I[P]=x.i(P)<<1|x.i(P-1)>>>31;return new d(I,x.h)}function xe(x,k){var I=k>>5;k%=32;for(var P=x.g.length-I,O=[],L=0;L<P;L++)O[L]=0<k?x.i(L+I)>>>k|x.i(L+I+1)<<32-k:x.i(L+I);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=b,d.fromString=S,Cs=d}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,ll,j0,bc,Nd,V0,z0,$0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,p){if(p)e:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var D=u[T];if(!(D in y))break e;y=y[D]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var y=0,T=!1,D={next:function(){if(!T&&y<u.length){var z=y++;return{value:p(z,u[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}l("Array.prototype.values",function(u){return u||function(){return c(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function b(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function S(u,p,y){return u.call.apply(u.bind,arguments)}function E(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,T),u.apply(p,D)}}return function(){return u.apply(p,arguments)}}function V(u,p,y){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:E,V.apply(null,arguments)}function W(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Y(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,D,z){for(var J=Array(arguments.length-2),De=2;De<arguments.length;De++)J[De-2]=arguments[De];return p.prototype[D].apply(T,J)}}function ne(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function Z(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(m(T)){const D=u.length||0,z=T.length||0;u.length=D+z;for(let J=0;J<z;J++)u[D+J]=T[J]}else u.push(T)}}class Te{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function be(u){return/^[\s\xa0]*$/.test(u)}function we(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Le(u){return Le[" "](u),u}Le[" "]=function(){};var ge=we().indexOf("Gecko")!=-1&&!(we().toLowerCase().indexOf("webkit")!=-1&&we().indexOf("Edge")==-1)&&!(we().indexOf("Trident")!=-1||we().indexOf("MSIE")!=-1)&&we().indexOf("Edge")==-1;function xe(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function x(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function k(u){const p={};for(const y in u)p[y]=u[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let y,T;for(let D=1;D<arguments.length;D++){T=arguments[D];for(y in T)u[y]=T[y];for(let z=0;z<I.length;z++)y=I[z],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function O(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ue;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class xt{constructor(){this.h=this.g=null}add(p,y){const T=st.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new Te(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,oe=!1,Ue=new xt,A=()=>{const u=g.Promise.resolve(void 0);ee=()=>{u.then(Q)}};var Q=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){L(y)}var p=st;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}oe=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,p),g.removeEventListener("test",y,p)}catch{}return u}();function _e(u,p){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ge){e:{try{Le(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}Y(_e,X);var me={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Vn(u,p,y,T,D){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=D,this.key=++Xe,this.da=this.fa=!1}function Br(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lr(u){this.src=u,this.g={},this.h=0}lr.prototype.add=function(u,p,y,T,D){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var J=Ms(u,p,T,D);return-1<J?(p=u[J],y||(p.fa=!1)):(p=new Vn(p,this.src,z,!!T,D),p.fa=y,u.push(p)),p};function Ds(u,p){var y=p.type;if(y in u.g){var T=u.g[y],D=Array.prototype.indexOf.call(T,p,void 0),z;(z=0<=D)&&Array.prototype.splice.call(T,D,1),z&&(Br(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ms(u,p,y,T){for(var D=0;D<u.length;++D){var z=u[D];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==T)return D}return-1}var Us="closure_lm_"+(1e6*Math.random()|0),Xa={};function jl(u,p,y,T,D){if(Array.isArray(p)){for(var z=0;z<p.length;z++)jl(u,p[z],y,T,D);return null}return y=Vl(y),u&&u[Et]?u.K(p,y,b(T)?!!T.capture:!1,D):pn(u,p,y,!1,T,D)}function pn(u,p,y,T,D,z){if(!p)throw Error("Invalid event type");var J=b(D)?!!D.capture:!!D,De=Li(u);if(De||(u[Us]=De=new lr(u)),y=De.add(p,y,T,J,z),y.proxy)return y;if(T=oh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ue||(D=J),D===void 0&&(D=!1),u.addEventListener(p.toString(),T,D);else if(u.attachEvent)u.attachEvent(Fs(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function oh(){function u(y){return p.call(u.src,u.listener,y)}const p=lh;return u}function Ja(u,p,y,T,D){if(Array.isArray(p))for(var z=0;z<p.length;z++)Ja(u,p[z],y,T,D);else T=b(T)?!!T.capture:!!T,y=Vl(y),u&&u[Et]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],y=Ms(z,y,T,D),-1<y&&(Br(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=Li(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ms(p,y,T,D)),(y=-1<u?p[u]:null)&&Ri(y))}function Ri(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Et])Ds(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(Fs(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=Li(p))?(Ds(y,u),y.h==0&&(y.src=null,p[Us]=null)):Br(u)}}}function Fs(u){return u in Xa?Xa[u]:Xa[u]="on"+u}function lh(u,p){if(u.da)u=!0;else{p=new _e(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ri(u),u=y.call(T,p)}return u}function Li(u){return u=u[Us],u instanceof lr?u:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(u){return typeof u=="function"?u:(u[Za]||(u[Za]=function(p){return u.handleEvent(p)}),u[Za])}function it(){te.call(this),this.i=new lr(this),this.M=this,this.F=null}Y(it,te),it.prototype[Et]=!0,it.prototype.removeEventListener=function(u,p,y,T){Ja(this,u,p,y,T)};function $e(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new X(p,u);else if(p instanceof X)p.target=p.target||u;else{var D=p;p=new X(T,u),P(p,D)}if(D=!0,y)for(var z=y.length-1;0<=z;z--){var J=p.g=y[z];D=rn(J,T,!0,p)&&D}if(J=p.g=u,D=rn(J,T,!0,p)&&D,D=rn(J,T,!1,p)&&D,y)for(z=0;z<y.length;z++)J=p.g=y[z],D=rn(J,T,!1,p)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)Br(y[T]);delete u.g[p],u.h--}}this.F=null},it.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},it.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function rn(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,z=0;z<p.length;++z){var J=p[z];if(J&&!J.da&&J.capture==y){var De=J.listener,bt=J.ha||J.src;J.fa&&Ds(u.i,J),D=De.call(bt,T)!==!1&&D}}return D&&!T.defaultPrevented}function zt(u,p,y){if(typeof u=="function")y&&(u=V(u,y));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(u,p||0)}function zl(u){u.g=zt(()=>{u.g=null,u.i&&(u.i=!1,zl(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class uh extends te{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:zl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){te.call(this),this.h=u,this.g={}}Y(js,te);var Vs=[];function zs(u){xe(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ri(p)},u),u.g={}}js.prototype.N=function(){js.aa.N.call(this),zs(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=g.JSON.stringify,Di=g.JSON.parse,$s=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function eo(){}eo.prototype.h=null;function to(u){return u.h||(u.h=u.i())}function no(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){X.call(this,"d")}Y(cr,X);function ro(){X.call(this,"c")}Y(ro,X);var zn={},so=null;function Hr(){return so=so||new it}zn.La="serverreachability";function Mi(u){X.call(this,zn.La,u)}Y(Mi,X);function Kr(u){const p=Hr();$e(p,new Mi(p))}zn.STAT_EVENT="statevent";function $l(u,p){X.call(this,zn.STAT_EVENT,u),this.stat=p}Y($l,X);function et(u){const p=Hr();$e(p,new $l(p,u))}zn.Ma="timingevent";function yt(u,p){X.call(this,zn.Ma,u),this.size=p}Y(yt,X);function ft(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},p)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function io(u,p,y,T,D,z){u.info(function(){if(u.g)if(z)for(var J="",De=z.split("&"),bt=0;bt<De.length;bt++){var Fe=De[bt].split("=");if(1<Fe.length){var It=Fe[0];Fe=Fe[1];var Rt=It.split("_");J=2<=Rt.length&&Rt[1]=="type"?J+(It+"="+Fe+"&"):J+(It+"=redacted&")}}else J=null;else J=z;return"XMLHTTP REQ ("+T+") [attempt "+D+"]: "+p+`
`+y+`
`+J})}function ch(u,p,y,T,D,z,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+D+"]: "+p+`
`+y+`
`+z+" "+J})}function Gr(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+qs(u,y)+(T?" "+T:"")})}function ql(u,p){u.info(function(){return"TIMEOUT: "+p})}gn.prototype.info=function(){};function qs(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var D=T[1];if(Array.isArray(D)&&!(1>D.length)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(var J=1;J<D.length;J++)D[J]=""}}}}return An(y)}catch{return p}}var Wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function qn(){}Y(qn,eo),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},$n=new qn;function Wt(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var ao={},Ui={};function Nn(u,p,y){u.L=1,u.v=Ws(sn(p)),u.m=y,u.P=!0,fr(u,null)}function fr(u,p){u.F=Date.now(),Bs(u),u.A=sn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),fo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new lt,u.g=iu(u.j,y?p:null,!u.m),0<u.O&&(u.M=new uh(V(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(Vs[0]=D.toString()),D=Vs);for(var z=0;z<D.length;z++){var J=jl(y,D[z],T||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Kr(),io(u.i,u.u,u.A,u.l,u.R,u.m)}Wt.prototype.ca=function(u){u=u.target;const p=this.M;p&&bn(u)==3?p.j():this.Y(u)},Wt.prototype.Y=function(u){try{if(u==this.g)e:{const Rt=bn(this.g);var p=this.g.Ba();const wr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Xl(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=wr?Kr(3):Kr(2)),Qr(this);var y=this.g.Z();this.X=y;t:if(Bl(this)){var T=Xl(this.g);u="";var D=T.length,z=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ot(this),Bn(this);var J="";break t}this.h.i=new g.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(z&&p==D-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,ch(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var De,bt=this.g;if((De=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(De)){var Fe=De;break t}}Fe=null}if(y=Fe)Gr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,y);else{this.o=!1,this.s=3,et(12),Ot(this),Bn(this);break e}}if(this.P){y=!0;let Lt;for(;!this.J&&this.C<J.length;)if(Lt=Hl(this,J),Lt==Ui){Rt==4&&(this.s=4,et(14),y=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==ao){this.s=4,et(15),Gr(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else Gr(this.i,this.l,Lt,null),Hs(this,Lt);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||J.length!=0||this.h.h||(this.s=1,et(16),y=!1),this.o=this.o&&y,!y)Gr(this.i,this.l,J,"[Invalid Chunked Response]"),Ot(this),Bn(this);else if(0<J.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ni(It),It.M=!0,et(11))}}else Gr(this.i,this.l,J,null),Hs(this,J);Rt==4&&Ot(this),this.o&&!this.J&&(Rt==4?nu(this.j,this):(this.o=!1,Bs(this)))}else gh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Ot(this),Bn(this)}}}catch{}finally{}};function Bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hl(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?Ui:(y=Number(p.substring(y,T)),isNaN(y)?ao:(T+=1,T+y>p.length?Ui:(p=p.slice(T,T+y),u.C=T+y,p)))}Wt.prototype.cancel=function(){this.J=!0,Ot(this)};function Bs(u){u.S=Date.now()+u.I,Kl(u,u.I)}function Kl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ft(V(u.ba,u),p)}function Qr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Wt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ql(this.i,this.A),this.L!=2&&(Kr(),et(17)),Ot(this),this.s=2,Bn(this)):Kl(this,this.S-u)};function Bn(u){u.j.G==0||u.J||nu(u.j,u)}function Ot(u){Qr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,zs(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Hs(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||oo(y.h,u))){if(!u.K&&oo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var D=T;if(D[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Qi(y),Gi(y);else break e;vo(y),et(18)}}else y.za=D[1],0<y.za-y.T&&37500>D[2]&&y.F&&y.v==0&&!y.C&&(y.C=ft(V(y.Za,y),6e3));if(1>=ji(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else br(y,11)}else if((u.K||y.g==u)&&Qi(y),!be(p))for(D=y.Da.g.parse(p),p=0;p<D.length;p++){let Fe=D[p];if(y.T=Fe[0],Fe=Fe[1],y.G==2)if(Fe[0]=="c"){y.K=Fe[1],y.ia=Fe[2];const It=Fe[3];It!=null&&(y.la=It,y.j.info("VER="+y.la));const Rt=Fe[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const wr=Fe[5];wr!=null&&typeof wr=="number"&&0<wr&&(T=1.5*wr,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Lt=u.g;if(Lt){const Xn=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var z=T.h;z.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Vi(z,z.h),z.h=null))}if(T.D){const wo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(T.ya=wo,He(T.I,T.D,wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=su(T,T.J?T.ia:null,T.W),J.K){Qt(T.h,J);var De=J,bt=T.L;bt&&(De.I=bt),De.B&&(Qr(De),Bs(De)),T.g=J}else eu(T);0<y.i.length&&Wi(y)}else Fe[0]!="stop"&&Fe[0]!="close"||br(y,7);else y.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?br(y,7):mo(y):Fe[0]!="noop"&&y.l&&y.l.ta(Fe),y.v=0)}}Kr(4)}catch{}}var Gl=class{constructor(u,p){this.g=u,this.map=p}};function dr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ji(u){return u.h?1:u.g?u.g.size:0}function oo(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Vi(u,p){u.g?u.g.add(p):u.h=p}function Qt(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}dr.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return ne(u.i)}function hh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function zi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function uo(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=zi(u),T=hh(u),D=T.length,z=0;z<D;z++)p.call(void 0,T[z],y&&y[z],u)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),D=null;if(0<=T){var z=u[y].substring(0,T);D=u[y].substring(T+1)}else z=u[y];p(z,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function vt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vt){this.h=u.h,Gs(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.s),this.l=u.l;var p=u.i,y=new gr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),pr(this,y),this.m=u.m}else u&&(p=String(u).match(Ks))?(this.h=!1,Gs(this,p[1]||"",!0),this.o=mn(p[2]||""),this.g=mn(p[3]||"",!0),Yr(this,p[4]),this.l=mn(p[5]||"",!0),pr(this,p[6]||"",!0),this.m=mn(p[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}vt.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Qs(p,co,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Qs(p,co,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Qs(y,y.charAt(0)=="/"?dh:ho,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Qs(y,$i)),u.join("")};function sn(u){return new vt(u)}function Gs(u,p,y){u.j=y?mn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function pr(u,p,y){p instanceof gr?(u.i=p,Ql(u.i,u.h)):(y||(p=Qs(p,ph)),u.i=new gr(p,u.h))}function He(u,p,y){u.i.set(p,y)}function Ws(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qs(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Wl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,ho=/[#\?:]/g,dh=/[#\?]/g,ph=/[#\?@]/g,$i=/#/g;function gr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&fh(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=gr.prototype,i.add=function(u,p){yn(this),this.i=null,u=Hn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function mr(u,p){yn(u),p=Hn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function yr(u,p){return yn(u),p=Hn(u,p),u.g.has(p)}i.forEach=function(u,p){yn(this),this.g.forEach(function(y,T){y.forEach(function(D){u.call(p,D,T,this)},this)},this)},i.na=function(){yn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const D=u[T];for(let z=0;z<D.length;z++)y.push(p[T])}return y},i.V=function(u){yn(this);let p=[];if(typeof u=="string")yr(this,u)&&(p=p.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},i.set=function(u,p){return yn(this),this.i=null,u=Hn(this,u),yr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function fo(u,p,y){mr(u,p),0<y.length&&(u.i=null,u.g.set(Hn(u,p),ne(y)),u.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const z=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var D=z;J[T]!==""&&(D+="="+encodeURIComponent(String(J[T]))),u.push(D)}}return this.i=u.join("&")};function Hn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ql(u,p){p&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(y,T){var D=T.toLowerCase();T!=D&&(mr(this,T),fo(this,D,y))},u)),u.j=p}function Ys(u,p){const y=new gn;if(g.Image){const T=new Image;T.onload=W(vn,y,"TestLoadImage: loaded",!0,p,T),T.onerror=W(vn,y,"TestLoadImage: error",!1,p,T),T.onabort=W(vn,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=W(vn,y,"TestLoadImage: timeout",!1,p,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Pn(u,p){const y=new gn,T=new AbortController,D=setTimeout(()=>{T.abort(),vn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(D),z.ok?vn(y,"TestPingServer: ok",!0,p):vn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),vn(y,"TestPingServer: error",!1,p)})}function vn(u,p,y,T,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),T(y)}catch{}}function Xs(){this.g=new $s}function Kn(u,p,y){const T=y||"";try{uo(u,function(D,z){let J=D;b(D)&&(J=An(D)),p.push(T+z+"="+encodeURIComponent(J))})}catch(D){throw p.push(T+"type="+encodeURIComponent("_badmap")),D}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Xr,eo),Xr.prototype.g=function(){return new vr(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function vr(u,p){it.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(vr,it),i=vr.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Wn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;po(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function po(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Gn(this):Wn(this),this.readyState==3&&po(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},i.Qa=function(u){this.g&&(this.response=u,Gn(this))},i.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}i.setRequestHeader=function(u,p){this.u.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function go(u){let p="";return xe(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function _t(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=go(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):He(u,p,y))}function Ve(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Ve,it);var qi=/^https?$/i,Js=["POST","PUT"];i=Ve.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?to(this.o):to($n),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){Yl(this,z);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var D in T)y.set(D,T[D]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())y.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),D=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Js,p,void 0))||T||D||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of y)this.g.setRequestHeader(z,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Yl(this,z)}};function Yl(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Bi(u),Qn(u)}function Bi(u){u.A||(u.A=!0,$e(u,"complete"),$e(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$e(this,"complete"),$e(this,"abort"),Qn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Ve.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Hi(this):this.bb())},i.bb=function(){Hi(this)};function Hi(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)zt(u.Ea,0,u);else if($e(u,"readystatechange"),bn(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=J===0){var D=String(u.D).match(Ks)[1]||null;!D&&g.self&&g.self.location&&(D=g.self.location.protocol.slice(0,-1)),T=!qi.test(D?D.toLowerCase():"")}y=T}if(y)$e(u,"complete"),$e(u,"success");else{u.m=6;try{var z=2<bn(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Bi(u)}}finally{Qn(u)}}}}function Qn(u,p){if(u.g){Zs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||$e(u,"ready");try{y.onreadystatechange=T}catch{}}}function Zs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Di(p)}};function Xl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const p={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(be(u[T]))continue;var y=O(u[T]);const D=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=p[D]||[];p[D]=z,z.push(y)}x(p,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Ki(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ei("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ei("baseRetryDelayMs",5e3,u),this.cb=ei("retryDelaySeedMs",1e4,u),this.Wa=ei("forwardChannelMaxRetries",2,u),this.wa=ei("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(u&&u.concurrentRequestLimit),this.Da=new Xs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ki.prototype,i.la=8,i.G=1,i.connect=function(u,p,y,T){et(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),Wi(this)};function mo(u){if(Jl(u),u.G==3){var p=u.U++,y=sn(u.I);if(He(y,"SID",u.K),He(y,"RID",p),He(y,"TYPE","terminate"),ti(u,y),p=new Wt(u,u.j,p),p.L=2,p.v=Ws(sn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=p.v,y=!0),y||(p.g=iu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Bs(p)}ru(u)}function Gi(u){u.g&&(ni(u),u.g.cancel(),u.g=null)}function Jl(u){Gi(u),u.u&&(g.clearTimeout(u.u),u.u=null),Qi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Wi(u){if(!Fi(u.h)&&!u.s){u.s=!0;var p=u.Ga;ee||A(),oe||(ee(),oe=!0),Ue.add(p,u),u.B=0}}function mh(u,p){return ji(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ft(V(u.Ga,u,p),bo(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new Wt(this,this.j,u);let z=this.o;if(this.S&&(z?(z=k(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(D.H=z,z=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Zl(this,D,p),y=sn(this.I),He(y,"RID",u),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),ti(this,y),z&&(this.O?p="headers="+encodeURIComponent(String(go(z)))+"&"+p:this.m&&_t(y,this.m,z)),Vi(this.h,D),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",p),He(y,"SID","null"),D.T=!0,Nn(D,y,null)):Nn(D,y,p),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||Fi(this.h)||yo(this))};function yo(u,p){var y;p?y=p.l:y=u.U++;const T=sn(u.I);He(T,"SID",u.K),He(T,"RID",y),He(T,"AID",u.T),ti(u,T),u.m&&u.o&&_t(T,u.m,u.o),y=new Wt(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Zl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Vi(u.h,y),Nn(y,T,p)}function ti(u,p){u.H&&xe(u.H,function(y,T){He(p,T,y)}),u.l&&uo({},function(y,T){He(p,T,y)})}function Zl(u,p,y){y=Math.min(u.i.length,y);var T=u.l?V(u.l.Na,u.l,u):null;e:{var D=u.i;let z=-1;for(;;){const J=["count="+y];z==-1?0<y?(z=D[0].g,J.push("ofs="+z)):z=0:J.push("ofs="+z);let De=!0;for(let bt=0;bt<y;bt++){let Fe=D[bt].g;const It=D[bt].map;if(Fe-=z,0>Fe)z=Math.max(0,D[bt].g-100),De=!1;else try{Kn(It,J,"req"+Fe+"_")}catch{T&&T(It)}}if(De){T=J.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function eu(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ee||A(),oe||(ee(),oe=!0),Ue.add(p,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ft(V(u.Fa,u),bo(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ft(V(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Gi(this),tu(this))};function ni(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Wt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=sn(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),ti(u,p),u.m&&u.o&&_t(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ws(sn(p)),y.m=null,y.P=!0,fr(y,u)}i.Za=function(){this.C!=null&&(this.C=null,Gi(this),vo(this),et(19))};function Qi(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function nu(u,p){var y=null;if(u.g==p){Qi(u),ni(u),u.g=null;var T=2}else if(oo(u.h,p))y=p.D,Qt(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var D=u.B;T=Hr(),$e(T,new yt(T,y)),Wi(u)}else eu(u);else if(D=p.s,D==3||D==0&&0<p.X||!(T==1&&mh(u,p)||T==2&&vo(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),D){case 1:br(u,5);break;case 4:br(u,10);break;case 3:br(u,6);break;default:br(u,2)}}}function bo(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function br(u,p){if(u.j.info("Error code "+p),p==2){var y=V(u.fb,u),T=u.Xa;const D=!T;T=new vt(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Gs(T,"https"),Ws(T),D?Ys(T.toString(),y):Pn(T.toString(),y)}else et(2);u.G=0,u.l&&u.l.sa(p),ru(u),Jl(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const p=lo(u.h);(p.length!=0||u.i.length!=0)&&(Z(u.ka,p),Z(u.ka,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.ra()}}function su(u,p,y){var T=y instanceof vt?sn(y):new vt(y);if(T.g!="")p&&(T.g=p+"."+T.g),Yr(T,T.s);else{var D=g.location;T=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var z=new vt(null);T&&Gs(z,T),p&&(z.g=p),D&&Yr(z,D),y&&(z.l=y),T=z}return y=u.D,p=u.ya,y&&p&&He(T,y,p),He(T,"VER",u.la),ti(u,T),T}function iu(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ve(new Xr({eb:y})):new Ve(u.pa),p.Ha(u.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}i=au.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Yi(){}Yi.prototype.g=function(u,p){return new Yt(u,p)};function Yt(u,p){it.call(this),this.g=new Ki(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!be(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!be(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yn(this)}Y(Yt,it),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){mo(this.g)},Yt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=An(u),u=y);p.i.push(new Gl(p.Ya++,u)),p.G==3&&Wi(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,Yt.aa.N.call(this)};function ou(u){cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}Y(ou,cr);function lu(){ro.call(this),this.status=1}Y(lu,ro);function Yn(u){this.g=u}Y(Yn,au),Yn.prototype.ua=function(){$e(this.g,"a")},Yn.prototype.ta=function(u){$e(this.g,new ou(u))},Yn.prototype.sa=function(u){$e(this.g,new lu)},Yn.prototype.ra=function(){$e(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,$0=function(){return new Yi},z0=function(){return Hr()},V0=zn,Nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,bc=Wr,hr.COMPLETE="complete",j0=hr,no.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",it.prototype.listen=it.prototype.K,ll=no,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,F0=Ve}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",qv="4.7.16";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ka="11.8.1";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ii=new Gd("@firebase/firestore");function _a(){return Ii.logLevel}function re(i,...e){if(Ii.logLevel<=Ne.DEBUG){const n=e.map(op);Ii.debug(`Firestore (${Ka}): ${i}`,...n)}}function zr(i,...e){if(Ii.logLevel<=Ne.ERROR){const n=e.map(op);Ii.error(`Firestore (${Ka}): ${i}`,...n)}}function Ua(i,...e){if(Ii.logLevel<=Ne.WARN){const n=e.map(op);Ii.warn(`Firestore (${Ka}): ${i}`,...n)}}function op(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,q0(i,s,n)}function q0(i,e,n){let s=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw zr(s),new Error(s)}function ze(i,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,i||q0(e,l,s)}function ve(i,e){return i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class $_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q_{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let s=this.i;const l=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let c=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Si,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const m=c;e.enqueueRetryable(async()=>{await m.promise,await l(this.currentUser)})},g=m=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Si)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new B0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class B_{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H_{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new B_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K_{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const s=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G_(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H0(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=G_(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function Ee(i,e){return i<e?-1:i>e?1:0}function Pd(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),l=e.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ee(s,l);{const c=H0(),d=W_(c.encode(Hv(i,n)),c.encode(Hv(e,n)));return d!==0?d:Ee(s,l)}}n+=s>65535?2:1}return Ee(i.length,e.length)}function Hv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function W_(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ee(i[n],e[n]);return Ee(i.length,e.length)}function Fa(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kv=-62135596800,Gv=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Gv);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kv)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new St(0,0))}static max(){return new ye(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wv="__name__";class nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&fe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=nr.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ee(e.length,n.length)}static compareSegments(e,n){const s=nr.isNumericId(e),l=nr.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?nr.extractNumericId(e).compare(nr.extractNumericId(n)):Pd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class Ze extends nr{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const Q_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends nr{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return Q_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new jt([Wv])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[l+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class le{constructor(e){this.path=e}static fromPath(e){return new le(Ze.fromString(e))}static fromName(e){return new le(Ze.fromString(e).popFirst(5))}static empty(){return new le(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ze(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tl=-1;function Y_(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=ye.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new Ns(l,le.empty(),e)}function X_(i){return new Ns(i.readTime,i.key,Tl)}class Ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ns(ye.min(),le.empty(),Tl)}static max(){return new Ns(ye.max(),le.empty(),Tl)}}function J_(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:Ee(i.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ga(i){if(i.code!==G.FAILED_PRECONDITION||i.message!==Z_)throw i;re("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},m=>s(m))}),d=!0,c===l&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new K((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let m=0;m<c;m++){const b=m;n(e[b]).next(S=>{d[b]=S,++g,g===c&&s(d)},S=>l(S))}})}static doWhile(e,n){return new K((s,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):s()};c()})}}function tI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(i){return i.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wc.le=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lp=-1;function Qc(i){return i==null}function Rc(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!Rc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G0="";function rI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Qv(e)),e=sI(i.get(n),e);return Qv(e)}function sI(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case G0:n+="";break;default:n+=c}}return n}function Qv(i){return i+G0+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ai(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function W0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=l??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Ft(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Ft.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(i,e,n,s,l){return this}insert(i,e,n){return new Ft(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Un{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new kt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Q0("Invalid base64 string: "+l):l}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(i){if(ze(!!i,39018),typeof i=="string"){let e=0;const n=iI.exec(i);if(ze(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(i.seconds),nanos:ht(i.nanos)}}function ht(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?Vt.fromBase64String(i):Vt.fromUint8Array(i)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y0="server_timestamp",X0="__type__",J0="__previous_value__",Z0="__local_write_time__";function up(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[X0])===null||n===void 0?void 0:n.stringValue)===Y0}function Yc(i){const e=i.mapValue.fields[J0];return up(e)?Yc(e):e}function Sl(i){const e=Ps(i.mapValue.fields[Z0].timestampValue);return new St(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aI{constructor(e,n,s,l,c,d,g,m,b,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=b,this.isUsingEmulator=S}}const Lc="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||Lc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ew="__type__",oI="__max__",fc={mapValue:{}},tw="__vector__",Dc="value";function Os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?up(i)?4:uI(i)?9007199254740991:lI(i)?10:11:fe(28295,{value:i})}function or(i,e){if(i===e)return!0;const n=Os(i);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sl(i).isEqual(Sl(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ps(s.timestampValue),d=Ps(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,l){return xs(s.bytesValue).isEqual(xs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return ht(s.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return ht(s.integerValue)===ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=ht(s.doubleValue),d=ht(l.doubleValue);return c===d?Rc(c)===Rc(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return Fa(i.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(Yv(c)!==Yv(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!or(c[g],d[g])))return!1;return!0}(i,e);default:return fe(52216,{left:i})}}function El(i,e){return(i.values||[]).find(n=>or(n,e))!==void 0}function ja(i,e){if(i===e)return 0;const n=Os(i),s=Os(e);if(n!==s)return Ee(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=ht(l.integerValue||l.doubleValue),g=ht(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return Jv(i.timestampValue,e.timestampValue);case 4:return Jv(Sl(i),Sl(e));case 5:return Pd(i.stringValue,e.stringValue);case 6:return function(l,c){const d=xs(l),g=xs(c);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let m=0;m<d.length&&m<g.length;m++){const b=Ee(d[m],g[m]);if(b!==0)return b}return Ee(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ee(ht(l.latitude),ht(c.latitude));return d!==0?d:Ee(ht(l.longitude),ht(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Zv(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,g,m,b;const S=l.fields||{},E=c.fields||{},V=(d=S[Dc])===null||d===void 0?void 0:d.arrayValue,W=(g=E[Dc])===null||g===void 0?void 0:g.arrayValue,Y=Ee(((m=V==null?void 0:V.values)===null||m===void 0?void 0:m.length)||0,((b=W==null?void 0:W.values)===null||b===void 0?void 0:b.length)||0);return Y!==0?Y:Zv(V,W)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===fc.mapValue&&c===fc.mapValue)return 0;if(l===fc.mapValue)return 1;if(c===fc.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),m=c.fields||{},b=Object.keys(m);g.sort(),b.sort();for(let S=0;S<g.length&&S<b.length;++S){const E=Pd(g[S],b[S]);if(E!==0)return E;const V=ja(d[g[S]],m[b[S]]);if(V!==0)return V}return Ee(g.length,b.length)}(i.mapValue,e.mapValue);default:throw fe(23264,{Pe:n})}}function Jv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ee(i,e);const n=Ps(i),s=Ps(e),l=Ee(n.seconds,s.seconds);return l!==0?l:Ee(n.nanos,s.nanos)}function Zv(i,e){const n=i.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=ja(n[l],s[l]);if(c)return c}return Ee(n.length,s.length)}function Va(i){return xd(i)}function xd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=Ps(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return xs(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return le.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",s=!0;for(const l of e.values||[])s?s=!1:n+=",",n+=xd(l);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",l=!0;for(const c of n)l?l=!1:s+=",",s+=`${c}:${xd(e.fields[c])}`;return s+"}"}(i.mapValue):fe(61005,{value:i})}function wc(i){switch(Os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(i);return e?16+wc(e):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,l)=>s+wc(l),0)}(i.arrayValue);case 10:case 11:return function(n){let s=0;return Ai(n.fields,(l,c)=>{s+=l.length+wc(c)}),s}(i.mapValue);default:throw fe(13486,{value:i})}}function eb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Od(i){return!!i&&"integerValue"in i}function cp(i){return!!i&&"arrayValue"in i}function tb(i){return!!i&&"nullValue"in i}function nb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Tc(i){return!!i&&"mapValue"in i}function lI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||n===void 0?void 0:n.stringValue)===tw}function pl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ai(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=pl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function uI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oI}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=jt.emptyPath(),s={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=pl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Tc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Ai(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new Cn(pl(this.value))}}function nw(i){const e=[];return Ai(i.fields,(n,s)=>{const l=new jt([n]);if(Tc(s)){const c=nw(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new Un(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kt{constructor(e,n,s,l,c,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Kt(e,0,ye.min(),ye.min(),ye.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,l){return new Kt(e,1,n,ye.min(),s,l,0)}static newNoDocument(e,n){return new Kt(e,2,n,ye.min(),ye.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ye.min(),ye.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mc{constructor(e,n){this.position=e,this.inclusive=n}}function rb(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],d=i.position[l];if(c.field.isKeyField()?s=le.comparator(le.fromName(d.referenceValue),n.key):s=ja(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function sb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!or(i.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _l{constructor(e,n="asc"){this.field=e,this.dir=n}}function cI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rw{}class mt extends rw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fI(e,n,s):n==="array-contains"?new gI(e,s):n==="in"?new mI(e,s):n==="not-in"?new yI(e,s):n==="array-contains-any"?new vI(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dI(e,s):new pI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends rw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new jn(e,n)}matches(e){return sw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sw(i){return i.op==="and"}function iw(i){return hI(i)&&sw(i)}function hI(i){for(const e of i.filters)if(e instanceof jn)return!1;return!0}function Rd(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Va(i.value);if(iw(i))return i.filters.map(e=>Rd(e)).join(",");{const e=i.filters.map(n=>Rd(n)).join(",");return`${i.op}(${e})`}}function aw(i,e){return i instanceof mt?function(n,s){return s instanceof mt&&n.op===s.op&&n.field.isEqual(s.field)&&or(n.value,s.value)}(i,e):i instanceof jn?function(n,s){return s instanceof jn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((l,c,d)=>l&&aw(c,s.filters[d]),!0):!1}(i,e):void fe(19439)}function ow(i){return i instanceof mt?function(e){return`${e.field.canonicalString()} ${e.op} ${Va(e.value)}`}(i):i instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(ow).join(" ,")+"}"}(i):"Filter"}class fI extends mt{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class dI extends mt{constructor(e,n){super(e,"in",n),this.keys=lw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pI extends mt{constructor(e,n){super(e,"not-in",n),this.keys=lw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lw(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class gI extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&El(n.arrayValue,this.value)}}class mI extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class yI extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!El(this.value.arrayValue,n)}}class vI extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>El(this.value.arrayValue,s))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bI{constructor(e,n=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function ib(i,e=null,n=[],s=[],l=null,c=null,d=null){return new bI(i,e,n,s,l,c,d)}function hp(i){const e=ve(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Va(s)).join(",")),e.Ie=n}return e.Ie}function fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!cI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!aw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sb(i.startAt,e.startAt)&&sb(i.endAt,e.endAt)}function Ld(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qa{constructor(e,n=null,s=[],l=[],c=null,d="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wI(i,e,n,s,l,c,d,g){return new Qa(i,e,n,s,l,c,d,g)}function dp(i){return new Qa(i)}function ab(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uw(i){return i.collectionGroup!==null}function gl(i){const e=ve(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new kt(jt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new _l(l,s))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new _l(jt.keyField(),s))}return e.Ee}function sr(i){const e=ve(i);return e.de||(e.de=TI(e,gl(i))),e.de}function TI(i,e){if(i.limitType==="F")return ib(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new _l(l.field,c)});const n=i.endAt?new Mc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mc(i.startAt.position,i.startAt.inclusive):null;return ib(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Dd(i,e){const n=i.filters.concat([e]);return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Md(i,e,n){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xc(i,e){return fp(sr(i),sr(e))&&i.limitType===e.limitType}function cw(i){return`${hp(sr(i))}|lt:${i.limitType}`}function Ia(i){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>ow(s)).join(", ")}]`),Qc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Va(s)).join(",")),`Target(${n})`}(sr(i))}; limitType=${i.limitType})`}function Jc(i,e){return e.isFoundDocument()&&function(n,s){const l=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):le.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,s){for(const l of gl(n))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(i,e)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(i,e)&&function(n,s){return!(n.startAt&&!function(l,c,d){const g=rb(l,c,d);return l.inclusive?g<=0:g<0}(n.startAt,gl(n),s)||n.endAt&&!function(l,c,d){const g=rb(l,c,d);return l.inclusive?g>=0:g>0}(n.endAt,gl(n),s))}(i,e)}function SI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hw(i){return(e,n)=>{let s=!1;for(const l of gl(i)){const c=kI(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function kI(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(l,c,d){const g=c.data.field(l),m=d.data.field(l);return g!==null&&m!==null?ja(g,m):fe(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return fe(19790,{direction:i.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EI=new rt(le.comparator);function $r(){return EI}const fw=new rt(le.comparator);function ul(...i){let e=fw;for(const n of i)e=e.insert(n.key,n);return e}function dw(i){let e=fw;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function wi(){return ml()}function pw(){return ml()}function ml(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const _I=new rt(le.comparator),II=new kt(le.comparator);function Pe(...i){let e=II;for(const n of i)e=e.add(n);return e}const CI=new kt(Ee);function AI(){return CI}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function gw(i){return{integerValue:""+i}}function NI(i,e){return nI(e)?gw(e):pp(i,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zc{constructor(){this._=void 0}}function PI(i,e,n){return i instanceof Il?function(s,l){const c={fields:{[X0]:{stringValue:Y0},[Z0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&up(l)&&(l=Yc(l)),l&&(c.fields[J0]=l),{mapValue:c}}(n,e):i instanceof Cl?yw(i,e):i instanceof Al?vw(i,e):function(s,l){const c=mw(s,l),d=ob(c)+ob(s.Re);return Od(c)&&Od(s.Re)?gw(d):pp(s.serializer,d)}(i,e)}function xI(i,e,n){return i instanceof Cl?yw(i,e):i instanceof Al?vw(i,e):n}function mw(i,e){return i instanceof Uc?function(n){return Od(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Il extends Zc{}class Cl extends Zc{constructor(e){super(),this.elements=e}}function yw(i,e){const n=bw(e);for(const s of i.elements)n.some(l=>or(l,s))||n.push(s);return{arrayValue:{values:n}}}class Al extends Zc{constructor(e){super(),this.elements=e}}function vw(i,e){let n=bw(e);for(const s of i.elements)n=n.filter(l=>!or(l,s));return{arrayValue:{values:n}}}class Uc extends Zc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ob(i){return ht(i.integerValue||i.doubleValue)}function bw(i){return cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OI{constructor(e,n){this.field=e,this.transform=n}}function RI(i,e){return i.field.isEqual(e.field)&&function(n,s){return n instanceof Cl&&s instanceof Cl||n instanceof Al&&s instanceof Al?Fa(n.elements,s.elements,or):n instanceof Uc&&s instanceof Uc?or(n.Re,s.Re):n instanceof Il&&s instanceof Il}(i.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class eh{}function ww(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Sw(i.key,Fr.none()):new Dl(i.key,i.data,Fr.none());{const n=i.data,s=Cn.empty();let l=new kt(jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Pi(i.key,s,new Un(l.toArray()),Fr.none())}}function DI(i,e,n){i instanceof Dl?function(s,l,c){const d=s.value.clone(),g=ub(s.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Pi?function(s,l,c){if(!Sc(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ub(s.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(Tw(s)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(i,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function yl(i,e,n,s){return i instanceof Dl?function(l,c,d,g){if(!Sc(l.precondition,c))return d;const m=l.value.clone(),b=cb(l.fieldTransforms,g,c);return m.setAll(b),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(i,e,n,s):i instanceof Pi?function(l,c,d,g){if(!Sc(l.precondition,c))return d;const m=cb(l.fieldTransforms,g,c),b=c.data;return b.setAll(Tw(l)),b.setAll(m),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(l,c,d){return Sc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,n)}function MI(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=mw(s.transform,l||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function lb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Fa(n,s,(l,c)=>RI(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Dl extends eh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Pi extends eh{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ub(i,e,n){const s=new Map;ze(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let l=0;l<n.length;l++){const c=i[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,xI(d,g,n[l]))}return s}function cb(i,e,n){const s=new Map;for(const l of i){const c=l.transform,d=n.data.field(l.field);s.set(l.field,PI(c,d,e))}return s}class Sw extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&DI(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pw();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const m=ww(d,g);m!==null&&s.set(l.key,m),d.isValidDocument()||d.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,s)=>lb(n,s))&&Fa(this.baseMutations,e.baseMutations,(n,s)=>lb(n,s))}}class gp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let l=function(){return _I}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new gp(e,n,s,l)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gt,Re;function zI(i){switch(i){case G.OK:return fe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return fe(15467,{code:i})}}function kw(i){if(i===void 0)return zr("GRPC error has no .code"),G.UNKNOWN;switch(i){case gt.OK:return G.OK;case gt.CANCELLED:return G.CANCELLED;case gt.UNKNOWN:return G.UNKNOWN;case gt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case gt.INTERNAL:return G.INTERNAL;case gt.UNAVAILABLE:return G.UNAVAILABLE;case gt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case gt.NOT_FOUND:return G.NOT_FOUND;case gt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case gt.ABORTED:return G.ABORTED;case gt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case gt.DATA_LOSS:return G.DATA_LOSS;default:return fe(39323,{code:i})}}(Re=gt||(gt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $I=new Cs([4294967295,4294967295],0);function hb(i){const e=H0().encode(i),n=new U0;return n.update(e),new Uint8Array(n.digest())}function fb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Cs([n,s],0),new Cs([l,c],0)]}class mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(s<0)throw new cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Cs.fromNumber(this.pe)}we(e,n,s){let l=e.add(n.multiply(Cs.fromNumber(s)));return l.compare($I)===1&&(l=new Cs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=hb(e),[s,l]=fb(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.Se(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new mp(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const n=hb(e),[s,l]=fb(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class th{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new th(ye.min(),l,new rt(Ee),$r(),Pe())}}class Ml{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ml(s,n,Pe(),Pe(),Pe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kc{constructor(e,n,s,l){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=l}}class Ew{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,s=Vt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class db{constructor(){this.Fe=0,this.Me=pb(),this.xe=Vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),s=Pe();return this.Me.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:fe(38017,{changeType:c})}}),new Ml(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=pb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qI{constructor(e){this.ze=e,this.je=new Map,this.He=$r(),this.Je=dc(),this.Ye=dc(),this.Ze=new rt(Ee)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(e){const n=e.targetId,s=e.Ce.count,l=this._t(n);if(l){const c=l.target;if(Ld(c))if(s===0){const d=new le(c.path);this.tt(n,d,Kt.newNoDocument(d,ye.min()))}else ze(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(e),m=g?this.lt(g,e,d):1;if(m!==0){this.st(n);const b=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,b)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=xs(s).toUint8Array()}catch(m){if(m instanceof Q0)return Ua("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new mp(d,l,c)}catch(m){return Ua(m instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.pe===0?null:g}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(e){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Ld(g.target)){const m=new le(g.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,Kt.newNoDocument(m,e))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Pe();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(m=>{const b=this._t(m);return!b||b.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(e));const l=new th(e,n,this.Ze,this.He,s);return this.He=$r(),this.Je=dc(),this.Ye=dc(),this.Ze=new rt(Ee),l}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const l=this.rt(e);this.dt(e,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new db,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new kt(Ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new kt(Ee),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new db),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function dc(){return new rt(le.comparator)}function pb(){return new rt(le.comparator)}const BI={asc:"ASCENDING",desc:"DESCENDING"},HI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class GI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ud(i,e){return i.useProto3Json||Qc(e)?e:{value:e}}function Fc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function WI(i,e){return Fc(i,e.toTimestamp())}function ir(i){return ze(!!i,49232),ye.fromTimestamp(function(e){const n=Ps(e);return new St(n.seconds,n.nanos)}(i))}function yp(i,e){return Fd(i,e).canonicalString()}function Fd(i,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cw(i){const e=Ze.fromString(i);return ze(Ow(e),10190,{key:e.toString()}),e}function jd(i,e){return yp(i.databaseId,e.path)}function yd(i,e){const n=Cw(e);if(n.get(1)!==i.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(Nw(n))}function Aw(i,e){return yp(i.databaseId,e)}function QI(i){const e=Cw(i);return e.length===4?Ze.emptyPath():Nw(e)}function Vd(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Nw(i){return ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gb(i,e,n){return{name:jd(i,e),fields:n.value.mapValue.fields}}function YI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:fe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(m,b){return m.useProto3Json?(ze(b===void 0||typeof b=="string",58123),Vt.fromBase64String(b||"")):(ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Vt.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(m){const b=m.code===void 0?G.UNKNOWN:kw(m.code);return new ie(b,m.message||"")}(d);n=new _w(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=yd(i,s.document.name),c=ir(s.document.updateTime),d=s.document.createTime?ir(s.document.createTime):ye.min(),g=new Cn({mapValue:{fields:s.document.fields}}),m=Kt.newFoundDocument(l,c,d,g),b=s.targetIds||[],S=s.removedTargetIds||[];n=new kc(b,S,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=yd(i,s.document),c=s.readTime?ir(s.readTime):ye.min(),d=Kt.newNoDocument(l,c),g=s.removedTargetIds||[];n=new kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=yd(i,s.document),c=s.removedTargetIds||[];n=new kc([],c,l,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new VI(l,c),g=s.targetId;n=new Ew(g,d)}}return n}function XI(i,e){let n;if(e instanceof Dl)n={update:gb(i,e.key,e.value)};else if(e instanceof Sw)n={delete:jd(i,e.key)};else if(e instanceof Pi)n={update:gb(i,e.key,e.data),updateMask:a2(e.fieldMask)};else{if(!(e instanceof UI))return fe(16599,{ft:e.type});n={verify:jd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Il)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Al)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uc)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw fe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:WI(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:fe(27497)}(i,e.precondition)),n}function JI(i,e){return i&&i.length>0?(ze(e!==void 0,14353),i.map(n=>function(s,l){let c=s.updateTime?ir(s.updateTime):ir(l);return c.isEqual(ye.min())&&(c=ir(l)),new LI(c,s.transformResults||[])}(n,e))):[]}function ZI(i,e){return{documents:[Aw(i,e.path)]}}function e2(i,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Aw(i,l);const c=function(m){if(m.length!==0)return xw(jn.create(m,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(m){if(m.length!==0)return m.map(b=>function(S){return{field:Ca(S.field),direction:r2(S.dir)}}(b))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Ud(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:l}}function t2(i){let e=QI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){ze(s===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=function(S){const E=Pw(S);return E instanceof jn&&iw(E)?E.getFilters():[E]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(E=>function(V){return new _l(Aa(V.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(E))}(n.orderBy));let g=null;n.limit&&(g=function(S){let E;return E=typeof S=="object"?S.value:S,Qc(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(S){const E=!!S.before,V=S.values||[];return new Mc(V,E)}(n.startAt));let b=null;return n.endAt&&(b=function(S){const E=!S.before,V=S.values||[];return new Mc(V,E)}(n.endAt)),wI(e,l,d,c,g,"F",m,b)}function n2(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Aa(e.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(e.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Aa(e.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Aa(e.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(i):i.fieldFilter!==void 0?function(e){return mt.create(Aa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return jn.create(e.compositeFilter.filters.map(n=>Pw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(e.compositeFilter.op))}(i):fe(30097,{filter:i})}function r2(i){return BI[i]}function s2(i){return HI[i]}function i2(i){return KI[i]}function Ca(i){return{fieldPath:i.canonicalString()}}function Aa(i){return jt.fromServerFormat(i.fieldPath)}function xw(i){return i instanceof mt?function(e){if(e.op==="=="){if(nb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NAN"}};if(tb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(nb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NAN"}};if(tb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(e.field),op:s2(e.op),value:e.value}}}(i):i instanceof jn?function(e){const n=e.getFilters().map(s=>xw(s));return n.length===1?n[0]:{compositeFilter:{op:i2(e.op),filters:n}}}(i):fe(54877,{filter:i})}function a2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ow(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ks{constructor(e,n,s,l,c=ye.min(),d=ye.min(),g=Vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o2{constructor(e){this.wt=e}}function l2(i){const e=t2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Md(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u2{constructor(){this.Cn=new c2}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ns.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new kt(Ze.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new kt(Ze.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Rw,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class za{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new za(0)}static lr(){return new za(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yb="LruGarbageCollector",h2=1048576;function vb([i,e],[n,s]){const l=Ee(i,n);return l===0?Ee(e,s):l}class f2{constructor(e){this.Er=e,this.buffer=new kt(vb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){re(yb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?re(yb,"Ignoring IndexedDB error during garbage collection: ",n):await Ga(n)}await this.mr(3e5)})}}class p2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Wc.le);const s=new f2(n);return this.gr.forEachTarget(e,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(mb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,l,c,d,g,m,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l))).next(E=>(s=E,g=Date.now(),this.removeTargets(e,s,n))).next(E=>(c=E,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(b=Date.now(),_a()<=Ne.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(m-g)+`ms
	Removed ${E} documents in `+(b-m)+`ms
Total Duration: ${b-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E})))}}function g2(i,e){return new p2(i,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m2{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v2{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&yl(s.mutation,l,Un.empty(),St.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const l=wi();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let d=ul();return c.forEach((g,m)=>{d=d.insert(g,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=wi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,s,l){let c=$r();const d=ml(),g=function(){return ml()}();return n.forEach((m,b)=>{const S=s.get(b.key);l.has(b.key)&&(S===void 0||S.mutation instanceof Pi)?c=c.insert(b.key,b):S!==void 0?(d.set(b.key,S.mutation.getFieldMask()),yl(S.mutation,b,S.mutation.getFieldMask(),St.now())):d.set(b.key,Un.empty())}),this.recalculateAndSaveOverlays(e,c).next(m=>(m.forEach((b,S)=>d.set(b,S)),n.forEach((b,S)=>{var E;return g.set(b,new y2(S,(E=d.get(b))!==null&&E!==void 0?E:null))}),g))}recalculateAndSaveOverlays(e,n){const s=ml();let l=new rt((d,g)=>d-g),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(m=>{const b=n.get(m);if(b===null)return;let S=s.get(m)||Un.empty();S=g.applyToLocalView(b,S),s.set(m,S);const E=(l.get(g.batchId)||Pe()).add(m);l=l.insert(g.batchId,E)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),b=m.key,S=m.value,E=pw();S.forEach(V=>{if(!c.has(V)){const W=ww(n.get(V),s.get(V));W!==null&&E.set(V,W),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,E))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(c){return le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):K.resolve(wi());let g=Tl,m=c;return d.next(b=>K.forEach(b,(S,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),c.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{m=m.insert(S,V)}))).next(()=>this.populateOverlays(e,b,c)).next(()=>this.computeViews(e,m,b,Pe())).next(S=>({batchId:g,changes:dw(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let l=ul();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let d=ul();return this.indexManager.getCollectionParents(e,c).next(g=>K.forEach(g,m=>{const b=function(S,E){return new Qa(E,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,b,s,l).next(S=>{S.forEach((E,V)=>{d=d.insert(E,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(d=>{c.forEach((m,b)=>{const S=b.getKey();d.get(S)===null&&(d=d.insert(S,Kt.newInvalidDocument(S)))});let g=ul();return d.forEach((m,b)=>{const S=c.get(m);S!==void 0&&yl(S.mutation,b,Un.empty(),St.now()),Jc(n,b)&&(g=g.insert(m,b))}),g})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:l2(s.bundledQuery),readTime:ir(s.readTime)}}(n)),K.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w2{constructor(){this.overlays=new rt(le.comparator),this.Qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wi();return K.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.bt(e,n,c)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const l=wi(),c=n.length+1,d=new le(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const m=g.getNext().value,b=m.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===c&&m.largestBatchId>s&&l.set(m.getKey(),m)}return K.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new rt((b,S)=>b-S);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>s){let S=c.get(b.largestBatchId);S===null&&(S=wi(),c=c.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const g=wi(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,S)=>g.set(b,S)),!(g.size()>=l)););return K.resolve(g)}bt(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jI(n,s));let c=this.Qr.get(n);c===void 0&&(c=Pe(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T2{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vp{constructor(){this.$r=new kt(Pt.Ur),this.Kr=new kt(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Pt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new le(new Ze([])),s=new Pt(n,e),l=new Pt(n,e+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new le(new Ze([])),s=new Pt(n,e),l=new Pt(n,e+1);let c=Pe();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Pt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return le.comparator(e.key,n.key)||Ee(e.Zr,n.Zr)}static Wr(e,n){return Ee(e.Zr,n.Zr)||le.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new kt(Pt.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FI(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?lp:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),l=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ee);return n.forEach(l=>{const c=new Pt(l,0),d=new Pt(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new le(c),0);let g=new kt(Ee);return this.Xr.forEachWhile(m=>{const b=m.key.path;return!!s.isPrefixOf(b)&&(b.length===l&&(g=g.add(m.Zr)),!0)},d),K.resolve(this.ni(g))}ni(e){const n=[];return e.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,l=>{const c=new Pt(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Pt(n,0),l=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k2{constructor(e){this.ii=e,this.docs=function(){return new rt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let s=$r();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Kt.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=$r();const d=n.path,g=new le(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:b,value:{document:S}}=m.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||J_(X_(S),s)<=0||(l.has(S.key)||Jc(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(e,n,s,l){fe(9500)}si(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new E2(this)}getSize(e){return K.resolve(this.size)}}class E2 extends m2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(e,l)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _2{constructor(e){this.persistence=e,this.oi=new Ni(n=>hp(n),fp),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this._i=0,this.ai=new vp,this.targetCount=0,this.ui=za.cr()}forEachTarget(e,n){return this.oi.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new za(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Tr(n),K.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.ai.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lw{constructor(e,n){this.ci={},this.overlays={},this.li=new Wc(0),this.hi=!1,this.hi=!0,this.Pi=new T2,this.referenceDelegate=e(this),this.Ti=new _2(this),this.indexManager=new u2,this.remoteDocumentCache=function(s){return new k2(s)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new o2(n),this.Ei=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new S2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const l=new I2(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(e,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class I2 extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Vi=new vp,this.mi=null}static fi(e){return new bp(e)}get gi(){if(this.mi)return this.mi;throw fe(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const l=le.fromPath(s);return this.pi(e,l).next(c=>{c||n.removeEntry(l,ye.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class jc{constructor(e,n){this.persistence=e,this.yi=new Ni(s=>rI(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=g2(this,n)}static fi(e,n){return new jc(e,n)}di(){}Ai(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return K.forEach(this.yi,(s,l)=>this.Dr(e,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(e,d=>this.Dr(e,d,n).next(g=>{g||(s++,c.removeEntry(d,ye.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wc(e.data.value)),n}Dr(e,n,s){return K.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ds=s,this.As=l}static Rs(e,n){let s=Pe(),l=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new wp(e,n.fromCache,s,l)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gS()?8:tI(Gt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ws(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(e,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new C2;return this.bs(e,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(e,n,d,g.size)})}).next(()=>c.result)}Ds(e,n,s,l){return s.documentReadCount<this.gs?(_a()<=Ne.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(_a()<=Ne.DEBUG&&re("QueryEngine","Query:",Ia(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(_a()<=Ne.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):K.resolve())}ws(e,n){if(ab(n))return K.resolve(null);let s=sr(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Md(n,null,"F"),s=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Pe(...c);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(m=>{const b=this.vs(n,g);return this.Cs(n,b,d,m.readTime)?this.ws(e,Md(n,null,"F")):this.Fs(e,b,n,m)}))})))}Ss(e,n,s,l){return ab(n)||l.isEqual(ye.min())?K.resolve(null):this.ys.getDocuments(e,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?K.resolve(null):(_a()<=Ne.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ia(n)),this.Fs(e,d,n,Y_(l,Tl)).next(g=>g))})}vs(e,n){let s=new kt(hw(e));return n.forEach((l,c)=>{Jc(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}bs(e,n,s){return _a()<=Ne.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ys.getDocumentsMatchingQuery(e,n,Ns.min(),s)}Fs(e,n,s,l){return this.ys.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tp="LocalStore",N2=3e8;class P2{constructor(e,n,s,l){this.persistence=e,this.Ms=n,this.serializer=l,this.xs=new rt(Ee),this.Os=new Ni(c=>hp(c),fp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function x2(i,e,n,s){return new P2(i,e,n,s)}async function Dw(i,e){const n=ve(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let m=Pe();for(const b of l){d.push(b.batchId);for(const S of b.mutations)m=m.add(S.key)}for(const b of c){g.push(b.batchId);for(const S of b.mutations)m=m.add(S.key)}return n.localDocuments.getDocuments(s,m).next(b=>({ks:b,removedBatchIds:d,addedBatchIds:g}))})})}function O2(i,e){const n=ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,g,m,b){const S=m.batch,E=S.keys();let V=K.resolve();return E.forEach(W=>{V=V.next(()=>b.getEntry(g,W)).next(Y=>{const ne=m.docVersions.get(W);ze(ne!==null,48541),Y.version.compareTo(ne)<0&&(S.applyToRemoteDocument(Y,m),Y.isValidDocument()&&(Y.setReadTime(m.commitVersion),b.addEntry(Y)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=Pe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(g=g.add(d.batch.mutations[m].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function Mw(i){const e=ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function R2(i,e){const n=ve(i),s=e.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];e.targetChanges.forEach((S,E)=>{const V=l.get(E);if(!V)return;g.push(n.Ti.removeMatchingKeys(c,S.removedDocuments,E).next(()=>n.Ti.addMatchingKeys(c,S.addedDocuments,E)));let W=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?W=W.withResumeToken(Vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):S.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(S.resumeToken,s)),l=l.insert(E,W),function(Y,ne,Z){return Y.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=N2?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(V,W,S)&&g.push(n.Ti.updateTargetData(c,W))});let m=$r(),b=Pe();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))}),g.push(L2(c,d,e.documentUpdates).next(S=>{m=S.qs,b=S.Qs})),!s.isEqual(ye.min())){const S=n.Ti.getLastRemoteSnapshotVersion(c).next(E=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(S)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,m,b)).next(()=>m)}).then(c=>(n.xs=l,c))}function L2(i,e,n){let s=Pe(),l=Pe();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=$r();return n.forEach((g,m)=>{const b=c.get(g);m.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(g)),m.isNoDocument()&&m.version.isEqual(ye.min())?(e.removeEntry(g,m.readTime),d=d.insert(g,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||m.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(m),d=d.insert(g,m)):re(Tp,"Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",m.version)}),{qs:d,Qs:l}})}function D2(i,e){const n=ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function M2(i,e){const n=ve(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,e).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new ks(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function zd(i,e,n){const s=ve(i),l=s.xs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Wa(d))throw d;re(Tp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(l.target)}function bb(i,e,n){const s=ve(i);let l=ye.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,m,b){const S=ve(g),E=S.Os.get(b);return E!==void 0?K.resolve(S.xs.get(E)):S.Ti.getTargetData(m,b)}(s,d,sr(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(m=>{c=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,n?l:ye.min(),n?c:Pe())).next(g=>(U2(s,SI(e),g),{documents:g,$s:c})))}function U2(i,e,n){let s=i.Ns.get(e)||ye.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Ns.set(e,s)}class wb{constructor(){this.activeTargetIds=AI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F2{constructor(){this.xo=new wb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j2{No(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tb="ConnectivityMonitor";class Sb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){re(Tb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){re(Tb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let pc=null;function $d(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vd="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Lc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(e,n,s,l,c){const d=$d(),g=this.jo(e,n.toUriEncodedString());re(vd,`Sending RPC '${e}' ${d}:`,g,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,l,c);const{host:b}=new URL(g),S=Nl(b);return this.Jo(e,g,m,s,S).then(E=>(re(vd,`Received RPC '${e}' ${d}: `,E),E),E=>{throw Ua(vd,`RPC '${e}' ${d} failed with error: `,E,"url: ",g,"request:",s),E})}Yo(e,n,s,l,c,d){return this.zo(e,n,s,l,c)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),s&&s.headers.forEach((l,c)=>e[c]=l)}jo(e,n){const s=V2[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bt="WebChannelConnection";class q2 extends z2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,c){const d=$d();return new Promise((g,m)=>{const b=new F0;b.setWithCredentials(!0),b.listenOnce(j0.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case bc.NO_ERROR:const E=b.getResponseJson();re(Bt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),g(E);break;case bc.TIMEOUT:re(Bt,`RPC '${e}' ${d} timed out`),m(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const V=b.getStatus();if(re(Bt,`RPC '${e}' ${d} failed with status:`,V,"response text:",b.getResponseText()),V>0){let W=b.getResponseJson();Array.isArray(W)&&(W=W[0]);const Y=W==null?void 0:W.error;if(Y&&Y.status&&Y.message){const ne=function(Z){const Te=Z.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Te)>=0?Te:G.UNKNOWN}(Y.status);m(new ie(ne,Y.message))}else m(new ie(G.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new ie(G.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:d,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{re(Bt,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(l);re(Bt,`RPC '${e}' ${d} sending request:`,l),b.send(n,"POST",S,s,15)})}T_(e,n,s){const l=$d(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$0(),g=z0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(m.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const S=c.join("");re(Bt,`Creating RPC '${e}' stream ${l}: ${S}`,m);const E=d.createWebChannel(S,m);let V=!1,W=!1;const Y=new $2({Zo:Z=>{W?re(Bt,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(V||(re(Bt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),V=!0),re(Bt,`RPC '${e}' stream ${l} sending:`,Z),E.send(Z))},Xo:()=>E.close()}),ne=(Z,Te,be)=>{Z.listen(Te,we=>{try{be(we)}catch(Le){setTimeout(()=>{throw Le},0)}})};return ne(E,ll.EventType.OPEN,()=>{W||(re(Bt,`RPC '${e}' stream ${l} transport opened.`),Y.__())}),ne(E,ll.EventType.CLOSE,()=>{W||(W=!0,re(Bt,`RPC '${e}' stream ${l} transport closed`),Y.u_())}),ne(E,ll.EventType.ERROR,Z=>{W||(W=!0,Ua(Bt,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Y.u_(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),ne(E,ll.EventType.MESSAGE,Z=>{var Te;if(!W){const be=Z.data[0];ze(!!be,16349);const we=be,Le=(we==null?void 0:we.error)||((Te=we[0])===null||Te===void 0?void 0:Te.error);if(Le){re(Bt,`RPC '${e}' stream ${l} received error:`,Le);const ge=Le.status;let xe=function(k){const I=gt[k];if(I!==void 0)return kw(I)}(ge),x=Le.message;xe===void 0&&(xe=G.INTERNAL,x="Unknown error status: "+ge+" with message "+Le.message),W=!0,Y.u_(new ie(xe,x)),E.close()}else re(Bt,`RPC '${e}' stream ${l} received:`,be),Y.c_(be)}}),ne(g,V0.STAT_EVENT,Z=>{Z.stat===Nd.PROXY?re(Bt,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===Nd.NOPROXY&&re(Bt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}}function bd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nh(i){return new GI(i,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uw{constructor(e,n,s=1e3,l=1.5,c=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=l,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),l=Math.max(0,n-s);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kb="PersistentStream";class Fw{constructor(e,n,s,l,c,d,g,m){this.xi=e,this.y_=s,this.w_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Uw(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.S_===n&&this.K_(s,l)},s=>{e(()=>{const l=new ie(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(l)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.W_(l))}),this.stream.onMessage(l=>{s(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return re(kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(re(kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends Fw{constructor(e,n,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=YI(this.serializer,e),s=function(l){if(!("targetChange"in l))return ye.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ye.min():c.readTime?ir(c.readTime):ye.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Vd(this.serializer),n.addTarget=function(l,c){let d;const g=c.target;if(d=Ld(g)?{documents:ZI(l,g)}:{query:e2(l,g).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Iw(l,c.resumeToken);const m=Ud(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ye.min())>0){d.readTime=Fc(l,c.snapshotVersion.toTimestamp());const m=Ud(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const s=n2(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Vd(this.serializer),n.removeTarget=e,this.L_(n)}}class H2 extends Fw{constructor(e,n,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=JI(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Vd(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>XI(this.serializer,s))};this.L_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K2{}class G2 extends K2{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.na=!1}ra(){if(this.na)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(e,Fd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(G.UNKNOWN,c.toString())})}Yo(e,n,s,l,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Fd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ie(G.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class W2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zr(n),this.oa=!1):re("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ci="RemoteStore";class Q2{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{s.enqueueAndForget(async()=>{xi(this)&&(re(Ci,"Restarting streams for network reachability change."),await async function(g){const m=ve(g);m.Ta.add(4),await Ul(m),m.da.set("Unknown"),m.Ta.delete(4),await rh(m)}(this))})}),this.da=new W2(s,l)}}async function rh(i){if(xi(i))for(const e of i.Ia)await e(!0)}async function Ul(i){for(const e of i.Ia)await e(!1)}function jw(i,e){const n=ve(i);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),_p(n)?Ep(n):Ya(n).M_()&&kp(n,e))}function Sp(i,e){const n=ve(i),s=Ya(n);n.Pa.delete(e),s.M_()&&Vw(n,e),n.Pa.size===0&&(s.M_()?s.N_():xi(n)&&n.da.set("Unknown"))}function kp(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(i).H_(e)}function Vw(i,e){i.Aa.Ke(e),Ya(i).J_(e)}function Ep(i){i.Aa=new qI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ya(i).start(),i.da._a()}function _p(i){return xi(i)&&!Ya(i).F_()&&i.Pa.size>0}function xi(i){return ve(i).Ta.size===0}function zw(i){i.Aa=void 0}async function Y2(i){i.da.set("Online")}async function X2(i){i.Pa.forEach((e,n)=>{kp(i,e)})}async function J2(i,e){zw(i),_p(i)?(i.da.ca(e),Ep(i)):i.da.set("Unknown")}async function Z2(i,e,n){if(i.da.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Pa.delete(d),s.Aa.removeTarget(d))}(i,e)}catch(s){re(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vc(i,s)}else if(e instanceof kc?i.Aa.Xe(e):e instanceof Ew?i.Aa.ot(e):i.Aa.nt(e),!n.isEqual(ye.min()))try{const s=await Mw(i.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const b=l.Pa.get(m);b&&l.Pa.set(m,b.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,m)=>{const b=l.Pa.get(g);if(!b)return;l.Pa.set(g,b.withResumeToken(Vt.EMPTY_BYTE_STRING,b.snapshotVersion)),Vw(l,g);const S=new ks(b.target,g,m,b.sequenceNumber);kp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){re(Ci,"Failed to raise snapshot:",s),await Vc(i,s)}}async function Vc(i,e,n){if(!Wa(e))throw e;i.Ta.add(1),await Ul(i),i.da.set("Offline"),n||(n=()=>Mw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{re(Ci,"Retrying IndexedDB access"),await n(),i.Ta.delete(1),await rh(i)})}function $w(i,e){return e().catch(n=>Vc(i,n,e))}async function sh(i){const e=ve(i),n=Rs(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:lp;for(;eC(e);)try{const l=await D2(e.localStore,s);if(l===null){e.ha.length===0&&n.N_();break}s=l.batchId,tC(e,l)}catch(l){await Vc(e,l)}qw(e)&&Bw(e)}function eC(i){return xi(i)&&i.ha.length<10}function tC(i,e){i.ha.push(e);const n=Rs(i);n.M_()&&n.Y_&&n.Z_(e.mutations)}function qw(i){return xi(i)&&!Rs(i).F_()&&i.ha.length>0}function Bw(i){Rs(i).start()}async function nC(i){Rs(i).ta()}async function rC(i){const e=Rs(i);for(const n of i.ha)e.Z_(n.mutations)}async function sC(i,e,n){const s=i.ha.shift(),l=gp.from(s,e,n);await $w(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await sh(i)}async function iC(i,e){e&&Rs(i).Y_&&await async function(n,s){if(function(l){return zI(l)&&l!==G.ABORTED}(s.code)){const l=n.ha.shift();Rs(n).O_(),await $w(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,s)),await sh(n)}}(i,e),qw(i)&&Bw(i)}async function Eb(i,e){const n=ve(i);n.asyncQueue.verifyOperationInProgress(),re(Ci,"RemoteStore received new credentials");const s=xi(n);n.Ta.add(3),await Ul(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await rh(n)}async function aC(i,e){const n=ve(i);e?(n.Ta.delete(2),await rh(n)):e||(n.Ta.add(2),await Ul(n),n.da.set("Unknown"))}function Ya(i){return i.Ra||(i.Ra=function(e,n,s){const l=ve(e);return l.ra(),new B2(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{e_:Y2.bind(null,i),n_:X2.bind(null,i),i_:J2.bind(null,i),j_:Z2.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),_p(i)?Ep(i):i.da.set("Unknown")):(await i.Ra.stop(),zw(i))})),i.Ra}function Rs(i){return i.Va||(i.Va=function(e,n,s){const l=ve(e);return l.ra(),new H2(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:nC.bind(null,i),i_:iC.bind(null,i),X_:rC.bind(null,i),ea:sC.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await sh(i)):(await i.Va.stop(),i.ha.length>0&&(re(Ci,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ip{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const d=Date.now()+s,g=new Ip(e,n,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(i,e){if(zr("AsyncQueue",`${e}: ${i}`),Wa(i))return new ie(G.UNAVAILABLE,`${e}: ${i}`);throw i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=ul(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new La;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _b{constructor(){this.ma=new rt(le.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):fe(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class $a{constructor(e,n,s,l,c,d,g,m,b){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=b}static fromInitialDocuments(e,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new $a(e,n,La.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oC{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class lC{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,n){const s=ve(e),l=s.queries;s.queries=Ib(),l.forEach((c,d)=>{for(const g of d.ya)g.onError(n)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function Ib(){return new Ni(i=>cw(i),Xc)}async function uC(i,e){const n=ve(i);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.wa()&&e.Sa()&&(s=2):(c=new oC,s=e.Sa()?0:1);try{switch(s){case 0:c.pa=await n.onListen(l,!0);break;case 1:c.pa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Cp(d,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ya.push(e),e.Da(n.onlineState),c.pa&&e.va(c.pa)&&Ap(n)}async function cC(i,e){const n=ve(i),s=e.query;let l=3;const c=n.queries.get(s);if(c){const d=c.ya.indexOf(e);d>=0&&(c.ya.splice(d,1),c.ya.length===0?l=e.Sa()?0:1:!c.wa()&&e.Sa()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hC(i,e){const n=ve(i);let s=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ya)g.va(l)&&(s=!0);d.pa=l}}s&&Ap(n)}function fC(i,e,n){const s=ve(i),l=s.queries.get(e);if(l)for(const c of l.ya)c.onError(n);s.queries.delete(e)}function Ap(i){i.ba.forEach(e=>{e.next()})}var qd,Cb;(Cb=qd||(qd={})).Ca="default",Cb.Cache="cache";class dC{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new $a(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==qd.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hw{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class pC{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=hw(e),this.Ja=new La(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new _b,l=n?n.Ja:this.Ja;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const m=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((S,E)=>{const V=l.get(S),W=Jc(this.query,E)?E:null,Y=!!V&&this.mutatedKeys.has(V.key),ne=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let Z=!1;V&&W?V.data.isEqual(W.data)?Y!==ne&&(s.track({type:3,doc:W}),Z=!0):this.eu(V,W)||(s.track({type:2,doc:W}),Z=!0,(m&&this.Ha(W,m)>0||b&&this.Ha(W,b)<0)&&(g=!0)):!V&&W?(s.track({type:0,doc:W}),Z=!0):V&&!W&&(s.track({type:1,doc:V}),Z=!0,(m||b)&&(g=!0)),Z&&(W?(d=d.add(W),c=ne?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:c}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((S,E)=>function(V,W){const Y=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:ne})}};return Y(V)-Y(W)}(S.type,E.type)||this.Ha(S.doc,E.doc)),this.tu(s),l=l!=null&&l;const g=n&&!l?this.nu():[],m=this.ja.size===0&&this.current&&!l?1:0,b=m!==this.za;return this.za=m,d.length!==0||b?{snapshot:new $a(this.query,e.Ja,c,d,e.mutatedKeys,m===0,b,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Pe(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new Kw(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new Hw(s))}),n}su(e){this.Ga=e.$s,this.ja=Pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return $a.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Np="SyncEngine";class gC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mC{constructor(e){this.key=e,this._u=!1}}class yC{constructor(e,n,s,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Ni(g=>cw(g),Xc),this.cu=new Map,this.lu=new Set,this.hu=new rt(le.comparator),this.Pu=new Map,this.Tu=new vp,this.Iu={},this.Eu=new Map,this.du=za.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function vC(i,e,n=!0){const s=Jw(i);let l;const c=s.uu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ou()):l=await Gw(s,e,n,!0),l}async function bC(i,e){const n=Jw(i);await Gw(n,e,!0,!1)}async function Gw(i,e,n,s){const l=await M2(i.localStore,sr(e)),c=l.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await wC(i,e,c,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&jw(i.remoteStore,l),g}async function wC(i,e,n,s,l){i.Ru=(E,V,W)=>async function(Y,ne,Z,Te){let be=ne.view.Za(Z);be.Cs&&(be=await bb(Y.localStore,ne.query,!1).then(({documents:xe})=>ne.view.Za(xe,be)));const we=Te&&Te.targetChanges.get(ne.targetId),Le=Te&&Te.targetMismatches.get(ne.targetId)!=null,ge=ne.view.applyChanges(be,Y.isPrimaryClient,we,Le);return Nb(Y,ne.targetId,ge.ru),ge.snapshot}(i,E,V,W);const c=await bb(i.localStore,e,!0),d=new pC(e,c.$s),g=d.Za(c.documents),m=Ml.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",l),b=d.applyChanges(g,i.isPrimaryClient,m);Nb(i,n,b.ru);const S=new gC(e,n,d);return i.uu.set(e,S),i.cu.has(n)?i.cu.get(n).push(e):i.cu.set(n,[e]),b.snapshot}async function TC(i,e,n){const s=ve(i),l=s.uu.get(e),c=s.cu.get(l.targetId);if(c.length>1)return s.cu.set(l.targetId,c.filter(d=>!Xc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await zd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Sp(s.remoteStore,l.targetId),Bd(s,l.targetId)}).catch(Ga)):(Bd(s,l.targetId),await zd(s.localStore,l.targetId,!0))}async function SC(i,e){const n=ve(i),s=n.uu.get(e),l=n.cu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(n.remoteStore,s.targetId))}async function kC(i,e,n){const s=PC(i);try{const l=await function(c,d){const g=ve(c),m=St.now(),b=d.reduce((V,W)=>V.add(W.key),Pe());let S,E;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let W=$r(),Y=Pe();return g.Bs.getEntries(V,b).next(ne=>{W=ne,W.forEach((Z,Te)=>{Te.isValidDocument()||(Y=Y.add(Z))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,W)).next(ne=>{S=ne;const Z=[];for(const Te of d){const be=MI(Te,S.get(Te.key).overlayedDocument);be!=null&&Z.push(new Pi(Te.key,be,nw(be.value.mapValue),Fr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,m,Z,d)}).next(ne=>{E=ne;const Z=ne.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(V,ne.batchId,Z)})}).then(()=>({batchId:E.batchId,changes:dw(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(c,d,g){let m=c.Iu[c.currentUser.toKey()];m||(m=new rt(Ee)),m=m.insert(d,g),c.Iu[c.currentUser.toKey()]=m}(s,l.batchId,n),await Fl(s,l.changes),await sh(s.remoteStore)}catch(l){const c=Cp(l,"Failed to persist write");n.reject(c)}}async function Ww(i,e){const n=ve(i);try{const s=await R2(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Pu.get(c);d&&(ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?ze(d._u,14607):l.removedDocuments.size>0&&(ze(d._u,42227),d._u=!1))}),await Fl(n,s,e)}catch(s){await Ga(s)}}function Ab(i,e,n){const s=ve(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.uu.forEach((c,d)=>{const g=d.view.Da(e);g.snapshot&&l.push(g.snapshot)}),function(c,d){const g=ve(c);g.onlineState=d;let m=!1;g.queries.forEach((b,S)=>{for(const E of S.ya)E.Da(d)&&(m=!0)}),m&&Ap(g)}(s.eventManager,e),l.length&&s.au.j_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EC(i,e,n){const s=ve(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Pu.get(e),c=l&&l.key;if(c){let d=new rt(le.comparator);d=d.insert(c,Kt.newNoDocument(c,ye.min()));const g=Pe().add(c),m=new th(ye.min(),new Map,new rt(Ee),d,g);await Ww(s,m),s.hu=s.hu.remove(c),s.Pu.delete(e),Pp(s)}else await zd(s.localStore,e,!1).then(()=>Bd(s,e,n)).catch(Ga)}async function _C(i,e){const n=ve(i),s=e.batch.batchId;try{const l=await O2(n.localStore,e);Yw(n,s,null),Qw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(n,l)}catch(l){await Ga(l)}}async function IC(i,e,n){const s=ve(i);try{const l=await function(c,d){const g=ve(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return g.mutationQueue.lookupMutationBatch(m,d).next(S=>(ze(S!==null,37113),b=S.keys(),g.mutationQueue.removeMutationBatch(m,S))).next(()=>g.mutationQueue.performConsistencyCheck(m)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(m,b,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>g.localDocuments.getDocuments(m,b))})}(s.localStore,e);Yw(s,e,n),Qw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fl(s,l)}catch(l){await Ga(l)}}function Qw(i,e){(i.Eu.get(e)||[]).forEach(n=>{n.resolve()}),i.Eu.delete(e)}function Yw(i,e,n){const s=ve(i);let l=s.Iu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Iu[s.currentUser.toKey()]=l}}function Bd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),n&&i.au.Vu(s,n);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||Xw(i,s)})}function Xw(i,e){i.lu.delete(e.path.canonicalString());const n=i.hu.get(e);n!==null&&(Sp(i.remoteStore,n),i.hu=i.hu.remove(e),i.Pu.delete(n),Pp(i))}function Nb(i,e,n){for(const s of n)s instanceof Hw?(i.Tu.addReference(s.key,e),CC(i,s)):s instanceof Kw?(re(Np,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||Xw(i,s.key)):fe(19791,{mu:s})}function CC(i,e){const n=e.key,s=n.path.canonicalString();i.hu.get(n)||i.lu.has(s)||(re(Np,"New document in limbo: "+n),i.lu.add(s),Pp(i))}function Pp(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const n=new le(Ze.fromString(e)),s=i.du.next();i.Pu.set(s,new mC(n)),i.hu=i.hu.insert(n,s),jw(i.remoteStore,new ks(sr(dp(n.path)),s,"TargetPurposeLimboResolution",Wc.le))}}async function Fl(i,e,n){const s=ve(i),l=[],c=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,m)=>{d.push(s.Ru(m,e,n).then(b=>{var S;if((b||n)&&s.isPrimaryClient){const E=b?!b.fromCache:(S=n==null?void 0:n.targetChanges.get(m.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(b){l.push(b);const E=wp.Rs(m.targetId,b);c.push(E)}}))}),await Promise.all(d),s.au.j_(l),await async function(g,m){const b=ve(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>K.forEach(m,E=>K.forEach(E.ds,V=>b.persistence.referenceDelegate.addReference(S,E.targetId,V)).next(()=>K.forEach(E.As,V=>b.persistence.referenceDelegate.removeReference(S,E.targetId,V)))))}catch(S){if(!Wa(S))throw S;re(Tp,"Failed to update sequence numbers: "+S)}for(const S of m){const E=S.targetId;if(!S.fromCache){const V=b.xs.get(E),W=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(W);b.xs=b.xs.insert(E,Y)}}}(s.localStore,c))}async function AC(i,e){const n=ve(i);if(!n.currentUser.isEqual(e)){re(Np,"User change. New user:",e.toKey());const s=await Dw(n.localStore,e);n.currentUser=e,function(l,c){l.Eu.forEach(d=>{d.forEach(g=>{g.reject(new ie(G.CANCELLED,c))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fl(n,s.ks)}}function NC(i,e){const n=ve(i),s=n.Pu.get(e);if(s&&s._u)return Pe().add(s.key);{let l=Pe();const c=n.cu.get(e);if(!c)return l;for(const d of c){const g=n.uu.get(d);l=l.unionWith(g.view.Ya)}return l}}function Jw(i){const e=ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EC.bind(null,e),e.au.j_=hC.bind(null,e.eventManager),e.au.Vu=fC.bind(null,e.eventManager),e}function PC(i){const e=ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return x2(this.persistence,new A2,e.initialUser,this.serializer)}yu(e){return new Lw(bp.fi,this.serializer)}pu(e){return new F2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class xC extends zc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ze(this.persistence.referenceDelegate instanceof jc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d2(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Lw(s=>jc.fi(s,n),this.serializer)}}class Hd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ab(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await aC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lC}()}createDatastore(e){const n=nh(e.databaseInfo.databaseId),s=function(l){return new q2(l)}(e.databaseInfo);return function(l,c,d,g){return new G2(l,c,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(n,s,l,c,d){return new Q2(n,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Ab(this.syncEngine,n,0),function(){return Sb.C()?new Sb:new j2}())}createSyncEngine(e,n){return function(s,l,c,d,g,m,b){const S=new yC(s,l,c,d,g,m);return b&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=ve(s);re(Ci,"RemoteStore shutting down."),l.Ta.add(5),await Ul(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hd.provider={build:()=>new Hd};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ls="FirestoreClient";class RC{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ht.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{re(Ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(re(Ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wd(i,e){i.asyncQueue.verifyOperationInProgress(),re(Ls,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async l=>{s.isEqual(l)||(await Dw(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Pb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await LC(i);re(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Eb(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>Eb(e.remoteStore,l)),i._onlineComponents=e}async function LC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){re(Ls,"Using user provided OfflineComponentProvider");try{await wd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await wd(i,new zc)}}else re(Ls,"Using default OfflineComponentProvider"),await wd(i,new xC(void 0));return i._offlineComponents}async function Zw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(re(Ls,"Using user provided OnlineComponentProvider"),await Pb(i,i._uninitializedComponentsProvider._online)):(re(Ls,"Using default OnlineComponentProvider"),await Pb(i,new Hd))),i._onlineComponents}function DC(i){return Zw(i).then(e=>e.syncEngine)}async function xb(i){const e=await Zw(i),n=e.eventManager;return n.onListen=vC.bind(null,e.syncEngine),n.onUnlisten=TC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SC.bind(null,e.syncEngine),n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ob=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t1(i,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function MC(i,e,n,s){if(e===!0&&s===!0)throw new ie(G.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rb(i){if(!le.isDocumentKey(i))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lb(i){if(le.isDocumentKey(i))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ih(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":fe(12329,{type:typeof i})}function vl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(i);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n1="firestore.googleapis.com",Db=!0;class Mb{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=Db}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h2)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new z_;switch(n.type){case"firstParty":return new H_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ob.get(e);n&&(re("ComponentProvider","Removing Datastore"),Ob.delete(e),n.terminate())}(this),Promise.resolve()}}function UC(i,e,n,s={}){var l;i=vl(i,ah);const c=Nl(e),d=i._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;c&&(Jb(`https://${m}`),Zb("Firestore",!0)),d.host!==n1&&d.host!==m&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b=Object.assign(Object.assign({},d),{host:m,ssl:c,emulatorOptions:s});if(!ki(b,g)&&(i._setSettings(b),s.mockUserToken)){let S,E;if(typeof s.mockUserToken=="string")S=s.mockUserToken,E=Ht.MOCK_USER;else{S=aS(s.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ht(V)}i._authCredentials=new $_(new B0(S,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class As extends Oi{constructor(e,n,s){super(e,n,dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new le(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Ub(i,e,...n){if(i=Jt(i),t1("collection","path",e),i instanceof ah){const s=Ze.fromString(e,...n);return Lb(s),new As(i,null,s)}{if(!(i instanceof dn||i instanceof As))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return Lb(s),new As(i.firestore,null,s)}}function FC(i,e,...n){if(i=Jt(i),arguments.length===1&&(e=K0.newId()),t1("doc","path",e),i instanceof ah){const s=Ze.fromString(e,...n);return Rb(s),new dn(i,null,new le(s))}{if(!(i instanceof dn||i instanceof As))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return Rb(s),new dn(i.firestore,i instanceof As?i.converter:null,new le(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fb="AsyncQueue";class jb{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Uw(this,"async_queue_retry"),this.ec=()=>{const s=bd();s&&re(Fb,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Si;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Wa(e))throw e;re(Fb,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,zr("INTERNAL UNHANDLED ERROR: ",Vb(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const l=Ip.createAndSchedule(this,e,n,s,c=>this.oc(c));return this.Hu.push(l),l}nc(){this.Ju&&fe(47125,{_c:Vb(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Vb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zb(i){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const l of n)if(l in s&&typeof s[l]=="function")return!0;return!1}(i,["next","error","complete"])}class $c extends ah{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new jb,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jb(e),this._firestoreClient=void 0,await e}}}function jC(i,e){const n=typeof i=="object"?i:r0(),s=typeof i=="string"?i:Lc,l=Qd(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=sS("firestore");c&&UC(l,...c)}return l}function r1(i){if(i._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VC(i),i._firestoreClient}function VC(i){var e,n,s;const l=i._freezeSettings(),c=function(d,g,m,b){return new aI(d,g,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,e1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new RC(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(Vt.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Op{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zC=/^__.*__$/;class $C{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}function s1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{hc:i})}}class Dp{constructor(e,n,s,l,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Tc({path:s,Ec:!1});return l.dc(e),l}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Tc({path:s,Ec:!1});return l.Pc(),l}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return qc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(s1(this.hc)&&zC.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class qC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nh(e)}gc(e,n,s,l=!1){return new Dp({hc:e,methodName:n,fc:s,path:jt.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i1(i){const e=i._freezeSettings(),n=nh(i._databaseId);return new qC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function BC(i,e,n,s,l,c={}){const d=i.gc(c.merge||c.mergeFields?2:0,e,n,l);l1("Data must be an object, but it was:",d,s);const g=a1(s,d);let m,b;if(c.merge)m=new Un(d.fieldMask),b=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const E of c.mergeFields){const V=KC(e,E,n);if(!d.contains(V))throw new ie(G.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);WC(S,V)||S.push(V)}m=new Un(S),b=d.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,b=d.fieldTransforms;return new $C(new Cn(g),m,b)}class Mp extends Op{_toFieldTransform(e){return new OI(e.path,new Il)}isEqual(e){return e instanceof Mp}}function HC(i,e,n,s=!1){return Up(n,i.gc(s?4:3,e))}function Up(i,e){if(o1(i=Jt(i)))return l1("Unsupported field value:",e,i),a1(i,e);if(i instanceof Op)return function(n,s){if(!s1(s.hc))throw s.Vc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,s){const l=[];let c=0;for(const d of n){let g=Up(d,s.Rc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(i,e)}return function(n,s){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=St.fromDate(n);return{timestampValue:Fc(s.serializer,l)}}if(n instanceof St){const l=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fc(s.serializer,l)}}if(n instanceof Rp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qa)return{bytesValue:Iw(s.serializer,n._byteString)};if(n instanceof dn){const l=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(l))throw s.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yp(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Lp)return function(l,c){return{mapValue:{fields:{[ew]:{stringValue:tw},[Dc]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Vc("VectorValues must only contain numeric values.");return pp(c.serializer,d)})}}}}}}(n,s);throw s.Vc(`Unsupported field value: ${ih(n)}`)}(i,e)}function a1(i,e){const n={};return W0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(i,(s,l)=>{const c=Up(l,e.Ic(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function o1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Rp||i instanceof qa||i instanceof dn||i instanceof Op||i instanceof Lp)}function l1(i,e,n){if(!o1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=ih(n);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function KC(i,e,n){if((e=Jt(e))instanceof xp)return e._internalPath;if(typeof e=="string")return u1(i,e);throw qc("Field path arguments must be of type string or ",i,!1,void 0,n)}const GC=new RegExp("[~\\*/\\[\\]]");function u1(i,e,n){if(e.search(GC)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function qc(i,e,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${l}`),m+=")"),new ie(G.INVALID_ARGUMENT,g+i+m)}function WC(i,e){return i.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c1{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QC extends c1{data(){return super.data()}}function Fp(i,e){return typeof e=="string"?u1(i,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class h1 extends jp{}function XC(i,e,...n){let s=[];e instanceof jp&&s.push(e),s=s.concat(n),function(l){const c=l.filter(g=>g instanceof zp).length,d=l.filter(g=>g instanceof Vp).length;if(c>1||c>0&&d>0)throw new ie(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Vp extends h1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Vp(e,n,s)}_apply(e){const n=this._parse(e);return f1(e._query,n),new Oi(e.firestore,e.converter,Dd(e._query,n))}_parse(e){const n=i1(e.firestore);return function(s,l,c,d,g,m,b){let S;if(g.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ie(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qb(b,m);const E=[];for(const V of b)E.push($b(d,s,V));S={arrayValue:{values:E}}}else S=$b(d,s,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qb(b,m),S=HC(c,l,b,m==="in"||m==="not-in");return mt.create(g,m,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zp extends jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const g of d)f1(c,g),c=Dd(c,g)}(e._query,n),new Oi(e.firestore,e.converter,Dd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends h1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $p(e,n)}_apply(e){const n=function(s,l,c){if(s.startAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _l(l,c)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new Qa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function JC(i,e="asc"){const n=e,s=Fp("orderBy",i);return $p._create(s,n)}function $b(i,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ie(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(e)&&n.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!le.isDocumentKey(s))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eb(i,new le(s))}if(n instanceof dn)return eb(i,n._key);throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function qb(i,e){if(!Array.isArray(i)||i.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f1(i,e){const n=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZC{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ai(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,l;const c=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[Dc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ht(d.doubleValue));return new Lp(c)}convertGeoPoint(e){return new Rp(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);ze(Ow(s),9688,{name:e});const l=new kl(s.get(1),s.get(3)),c=new le(s.popFirst(5));return l.isEqual(n)||zr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eA(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d1 extends c1{constructor(e,n,s,l,c,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ec extends d1{data(e={}){return super.data(e)}}class tA{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new hl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ec(this._firestore,this._userDataWriter,s.key,s,new hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const g=new Ec(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Ec(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,b=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),b=c.indexOf(d.doc.key)),{type:nA(d.type),doc:g,oldIndex:m,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:i})}}class p1 extends ZC{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function rA(i,e){const n=vl(i.firestore,$c),s=FC(i),l=eA(i.converter,e);return iA(n,[BC(i1(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Fr.exists(!1))]).then(()=>s)}function sA(i,...e){var n,s,l;i=Jt(i);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||zb(e[d])||(c=e[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(zb(e[d])){const E=e[d];e[d]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[d+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[d+2]=(l=E.complete)===null||l===void 0?void 0:l.bind(E)}let m,b,S;if(i instanceof dn)b=vl(i.firestore,$c),S=dp(i._key.path),m={next:E=>{e[d]&&e[d](aA(b,i,E))},error:e[d+1],complete:e[d+2]};else{const E=vl(i,Oi);b=vl(E.firestore,$c),S=E._query;const V=new p1(b);m={next:W=>{e[d]&&e[d](new tA(b,V,E,W))},error:e[d+1],complete:e[d+2]},YC(i._query)}return function(E,V,W,Y){const ne=new OC(Y),Z=new dC(V,ne,W);return E.asyncQueue.enqueueAndForget(async()=>uC(await xb(E),Z)),()=>{ne.Cu(),E.asyncQueue.enqueueAndForget(async()=>cC(await xb(E),Z))}}(r1(b),S,g,m)}function iA(i,e){return function(n,s){const l=new Si;return n.asyncQueue.enqueueAndForget(async()=>kC(await DC(n),s,l)),l.promise}(r1(i),e)}function aA(i,e,n){const s=n.docs.get(e._key),l=new p1(i);return new d1(i,l,e._key,s,new hl(n.hasPendingWrites,n.fromCache),e.converter)}function oA(){return new Mp("serverTimestamp")}(function(i,e=!0){(function(n){Ka=n})(Ba),Da(new Ei("firestore",(n,{instanceIdentifier:s,options:l})=>{const c=n.getProvider("app").getImmediate(),d=new $c(new q_(n.getProvider("auth-internal")),new K_(c,n.getProvider("app-check-internal")),function(g,m){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(g.options.projectId,m)}(c,s),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Is($v,qv,i),Is($v,qv,"esm2017")})();const lA={apiKey:"AIzaSyBtsJaiKmm7g7M8HJ0N9QeEglKDTJDWRUM",authDomain:"chat-app-aebee.firebaseapp.com",projectId:"chat-app-aebee",storageBucket:"chat-app-aebee.firebasestorage.app",messagingSenderId:"767280352417",appId:"1:767280352417:web:1d477de8cddf1a6480b4e0"},g1=n0(lA),Pa=O_(g1),uA=new Dr,Bb=jC(g1),cA=()=>{const i=async()=>{try{await zE(Pa,uA)}catch(e){console.error("ログイン失敗:",e)}};return Qe.jsx("div",{className:"w-full flex items-center justify-center h-screen bg-gray-100 px-10",children:Qe.jsxs("div",{className:"text-center",children:[Qe.jsx("h1",{className:"text-4xl text-black font-bold mb-4",children:"Chat App"}),Qe.jsx("h3",{className:" text-gray-500 font-bold mb-4",children:"Sign in with Google"}),Qe.jsxs("button",{onClick:i,className:"bg-white border px-6 py-3 rounded shadow hover:shadow-lg transition",children:[Qe.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"text-black inline-block w-6 h-6 mr-2"}),"Sign in with Google"]})]})})},Hb=i=>i?new Date(i.seconds*1e3).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}):"",hA=()=>{const[i,e]=Ln.useState([]),[n,s]=Ln.useState(""),l=Ln.useRef(null);Ln.useEffect(()=>{const d=XC(Ub(Bb,"messages"),JC("timestamp")),g=sA(d,m=>{var b;const S=m.docs.map(E=>({id:E.id,...E.data()}));e(S),(b=l.current)==null||b.scrollIntoView({behavior:"smooth"})});return()=>g()},[]);const c=async()=>{var d,g;n.trim()&&(await rA(Ub(Bb,"messages"),{text:n,uid:(d=Pa.currentUser)==null?void 0:d.uid,name:(g=Pa.currentUser)==null?void 0:g.displayName,timestamp:oA()}),s(""))};return Qe.jsx("div",{className:"flex justify-center bg-gray-200 px-10",children:Qe.jsxs("div",{className:"w-full sm:max-w-md h-screen flex flex-col bg-white shadow-lg ",style:{height:"100%"},children:[Qe.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-100",children:[Qe.jsx("span",{className:"font-bold text-black",children:"Chat"}),Qe.jsx("button",{onClick:()=>TE(Pa),className:"text-sm text-blue-500",children:"ログアウト"})]}),Qe.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 bg-gray-50",children:[i.map((d,g)=>{var m,b;const S=d.uid===((m=Pa.currentUser)==null?void 0:m.uid),E=Hb(d.timestamp),V=Hb((b=i[g-1])==null?void 0:b.timestamp),W=E!==V;return Qe.jsxs("div",{className:"flex flex-col",children:[W&&Qe.jsxs("div",{className:"text-xs text-gray-500 text-center my-4",children:["───── ",E," ─────"]}),Qe.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:Qe.jsxs("div",{className:"flex flex-col max-w-[80%] w-fit break-words",children:[!S&&Qe.jsx("span",{className:"text-xs text-gray-500 mb-1 ml-2",children:d.name||"名無し"}),Qe.jsxs("div",{className:`relative p-3 rounded-xl text-sm break-words ${S?"bg-green-400 text-white rounded-br-none self-end ml-10":"bg-gray-300 text-black rounded-bl-none self-start mr-10"}`,children:[d.text,Qe.jsx("div",{className:"text-[10px] text-white/80 mt-1 text-right",children:d.timestamp?new Date(d.timestamp.seconds*1e3).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):""}),Qe.jsx("div",{className:`absolute bottom-0 w-0 h-0 border-t-8 ${S?"right-0 border-l-8 border-t-green-400":"left-0 border-r-8 border-t-gray-300"}`,style:{borderColor:"transparent"}})]})]})})]},d.id)}),Qe.jsx("div",{ref:l})]}),Qe.jsxs("div",{className:"p-3 border-t bg-white flex gap-2 flex-wrap sm:flex-nowrap",children:[Qe.jsx("input",{value:n,onChange:d=>s(d.target.value),onFocus:()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})},className:"flex-1 border rounded-full px-4 py-2 focus:outline-none",placeholder:"Type a message..."}),Qe.jsx("button",{onClick:c,className:"bg-green-500 text-white px-4 py-2 rounded-full",children:"送信"})]})]})})};function fA(){const[i]=F_(Pa);return i?Qe.jsx(hA,{}):Qe.jsx(cA,{})}QT.createRoot(document.getElementById("root")).render(Qe.jsx(Ln.StrictMode,{children:Qe.jsx(fA,{})}));
